import{r as b,o as d,c as u,a as n,b as _,w as C,d as R,e as L,f as p,F as f,T as F,g as G,h as B,i as g,v as M,j as w,k,l as j,t as m,n as E,m as H,p as V,q as I,u as W,s as K,x as $,y as J,z as Q,A as Y,B as X,P as Z,Q as ee}from"./vendor.a3ee9528.js";const te=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function i(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(s){if(s.ep)return;s.ep=!0;const r=i(s);fetch(s.href,r)}};te();var y=(t,e)=>{const i=t.__vccOpts||t;for(const[o,s]of e)i[o]=s;return i};const ie={name:"NavbarComponent",props:{link:{type:String}},methods:{logout(){this.$store.dispatch("logout").then(()=>{this.$router.push("/")})}},computed:{loggedIn(){return this.$store.state.currentUser}}},ne={class:"header"},se={class:"navStuff"},re={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 27.02 27.02",style:{"enable-background":"new 0 0 27.02 27.02",width:"27px"},"xml:space":"preserve"},oe={class:"accountStuff"};function le(t,e,i,o,s,r){const l=b("router-link");return d(),u("div",ne,[n("div",se,[_(l,{to:"/"},{default:C(()=>[(d(),u("svg",re,e[1]||(e[1]=[n("g",null,[n("path",{style:{fill:"#030104"},d:"M3.674,24.876c0,0-0.024,0.604,0.566,0.604c0.734,0,6.811-0.008,6.811-0.008l0.01-5.581   c0,0-0.096-0.92,0.797-0.92h2.826c1.056,0,0.991,0.92,0.991,0.92l-0.012,5.563c0,0,5.762,0,6.667,0   c0.749,0,0.715-0.752,0.715-0.752V14.413l-9.396-8.358l-9.975,8.358C3.674,14.413,3.674,24.876,3.674,24.876z"}),n("path",{style:{fill:"#030104"},d:"M0,13.635c0,0,0.847,1.561,2.694,0l11.038-9.338l10.349,9.28c2.138,1.542,2.939,0,2.939,0   L13.732,1.54L0,13.635z"}),n("polygon",{style:{fill:"#030104"},points:"23.83,4.275 21.168,4.275 21.179,7.503 23.83,9.752  "})],-1)])))]),_:1}),r.loggedIn?(d(),R(l,{key:0,to:"/add"},{default:C(()=>e[2]||(e[2]=[L(" Add Recipe ")])),_:1})):p("",!0)]),n("div",oe,[r.loggedIn?p("",!0):(d(),R(l,{key:0,to:"/login"},{default:C(()=>e[3]||(e[3]=[L(" Login ")])),_:1})),r.loggedIn?p("",!0):(d(),R(l,{key:1,to:"/register"},{default:C(()=>e[4]||(e[4]=[L(" Register ")])),_:1})),r.loggedIn?(d(),u("button",{key:2,onClick:e[0]||(e[0]=(...a)=>r.logout&&r.logout(...a)),class:"logOut"},"logout")):p("",!0)])])}var ae=y(ie,[["render",le],["__scopeId","data-v-422a74f4"]]);const de={name:"App",components:{navbar:ae}};function ce(t,e,i,o,s,r){const l=b("navbar"),a=b("router-view");return d(),u(f,null,[_(l),_(a,null,{default:C(({Component:c})=>[_(F,{name:"fade",mode:"out-in"},{default:C(()=>[(d(),R(G(c),{key:t.$route.path}))]),_:2},1024)]),_:1})],64)}var ue=y(de,[["render",ce]]);const pe={name:"footerBar"},me={id:"footerBar"};function ge(t,e,i,o,s,r){return d(),u("div",me,e[0]||(e[0]=[B('<h1 data-v-7662b00a>Techniques used</h1><div id="footerLists" data-v-7662b00a><ul data-v-7662b00a><h4 data-v-7662b00a>Vue:</h4><li data-v-7662b00a>Vue 3</li><li data-v-7662b00a>Vue router</li><li data-v-7662b00a>Vite</li></ul><ul data-v-7662b00a><h4 data-v-7662b00a>Firebase:</h4><li data-v-7662b00a>Firebase Authentication</li><li data-v-7662b00a>Firebase Realtime database</li><li data-v-7662b00a>Firebase Hosting</li></ul></div><div style="text-align:center;" data-v-7662b00a><h2 data-v-7662b00a>Font awesome</h2><p data-v-7662b00a>Font awesome was used for various svg icons.</p><p data-v-7662b00a>The icons are not changed or altered.</p><a href="https://fontawesome.com/license" data-v-7662b00a>Font awesome license</a></div>',3)]))}var he=y(pe,[["render",ge],["__scopeId","data-v-7662b00a"]]);const fe={name:"RecipeList",components:{footerBar:he},data(){return{searchValue:"",sortBy:"recipeId",selectedIngredient:"",minimized:!1}},methods:{saveAndRedirect(t){this.$store.commit("setSelectedRecipe",t),this.$router.push(`/recipe/${t.recipeId}`)},backgroundimg(t,e){return t===""&&(this.$store.state.recipesList[e].drink?t="https://www.liquor.com/thmb/fO-COKLw_iEA28v8K4XQjzMhkfw=/735x0/very-sexy-martini-720x720-primary-b1212ebf73f54f898a56f7f0b60c0a34.jpg":t="https://upload.wikimedia.org/wikipedia/commons/thumb/6/6d/Good_Food_Display_-_NCI_Visuals_Online.jpg/330px-Good_Food_Display_-_NCI_Visuals_Online.jpg"),{"background-image":`url(${t})`}},minMaxCards(){const t=document.querySelectorAll(".imgPart"),e=document.querySelectorAll(".plateIcon"),i=document.querySelectorAll(".card-body"),o=document.querySelector("#minMaxBtn");if(this.minimized){for(const s of i)s.style.display=null;for(const s of t)s.style.borderRadius=null;for(const s of e)s.style.bottom=null;o.innerHTML="Hide card text",this.minimized=!1}else{for(const s of i)s.style.display="none";for(const s of t)s.style.borderRadius="10px";for(const s of e)s.style.bottom="1em";o.innerHTML="Show card text",this.minimized=!0}},goToTop(){window.scrollTo(0,0)}},computed:{searchResult(){let t=this.$store.state.recipesList;return t=t.filter(e=>!e.drink),this.searchValue!==""&&this.searchValue&&(t=t.filter(e=>e.title.toUpperCase().includes(this.searchValue.toUpperCase()))),this.selectedIngredient!==""&&(t=t.filter(e=>e.ingredients.some(i=>i.name.toUpperCase()===this.selectedIngredient.toUpperCase()))),t=t.sort((e,i)=>{if(this.sortBy==="alphabetically"){const o=e.title.toLowerCase(),s=i.title.toLowerCase();return o<s?-1:o>s?1:0}if(this.sortBy==="recipeId")return e.recipeId-i.recipeId}),this.sortBy==="drinks"?null:t},drinks(){let t=this.$store.state.recipesList;return t=t.filter(e=>e.drink),this.searchValue!==""&&this.searchValue&&(t=t.filter(e=>e.title.toUpperCase().includes(this.searchValue.toUpperCase()))),this.selectedIngredient!==""&&(t=t.filter(e=>e.ingredients.some(i=>i.name.toUpperCase()===this.selectedIngredient.toUpperCase()))),t=t.sort((e,i)=>{if(this.sortBy==="alphabetically"){const o=e.title.toLowerCase(),s=i.title.toLowerCase();return o<s?-1:o>s?1:0}if(this.sortBy==="recipeId")return e.recipeId-i.recipeId}),this.sortBy==="foods"?null:t},sortAndListIngredients(){const t=[];for(const o of this.$store.state.recipesList)for(const s of o.ingredients)t.push(s.name);const e=[];for(const o of t){let s=0;for(const r of t)o===r&&s++;e.push({name:o,value:s})}const i=[];for(const o of e){let s=0;for(const r of e)o.name===r.name&&s++;s===0&&i.push(o)}return i.sort((o,s)=>o.value>s.value?-1:o.value<s.value||o.name>s.name?1:-1),i},noResults(){return this.drinks==null||this.drinks.length===0?this.searchResult==null||this.searchResult.length===0:!1},randomNumberGenerator(){let t=[];this.searchResult!=null&&(t=t.concat(this.searchResult)),this.drinks!=null&&(t=t.concat(this.drinks));const e=Math.floor(Math.random()*t.length);return t.length===0?null:t[e].recipeId}},mounted(){window.scrollTo(0,localStorage.getItem("scrollLength"))}},ve={class:"searchArea"},ye=["value"],Ie={id:"randomContainer"},be=["onClick"],_e={class:"card-body"},ke={class:"card-title"},we={class:"card-text"},xe={class:"extras"},Le={class:"card-ingredients"},Ce={key:0},Re={class:"card-steps"},Se={key:0},Ae=["onClick"],Te={class:"card-body"},Be={class:"card-title"},$e={class:"card-text"},Ne={class:"extras"},Ee={class:"card-ingredients"},Ve={key:0},Me={class:"card-steps"},Oe={key:0},Ue={key:0,class:"cardM"},qe={key:0,class:"noResultCard-body"},De={key:1,class:"noResultCard-body"},Pe={style:{display:"flex","justify-content":"center","margin-bottom":"20px"}},ze={style:{width:"9em","text-align":"center"},"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"cookie",class:"svg-inline--fa fa-cookie fa-w-16 Layer_1",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"};function Fe(t,e,i,o,s,r){const l=b("router-link"),a=b("footerBar");return d(),u("div",null,[n("div",ve,[g(n("select",{name:"sortBy",id:"select","onUpdate:modelValue":e[0]||(e[0]=c=>s.sortBy=c)},e[5]||(e[5]=[n("option",{value:"recipeId"},"Recipe Id",-1),n("option",{value:"alphabetically"},"Alphabetically",-1),n("option",{value:"foods"},"Foods",-1),n("option",{value:"drinks"},"Drinks",-1)]),512),[[M,s.sortBy]]),g(n("select",{name:"ingredients",id:"ingredients","onUpdate:modelValue":e[1]||(e[1]=c=>s.selectedIngredient=c)},[e[6]||(e[6]=n("option",{value:""},"All Ingredients",-1)),(d(!0),u(f,null,w(r.sortAndListIngredients,c=>(d(),u("option",{key:c.name,value:c.name},m(c.name)+" ("+m(c.value)+") ",9,ye))),128))],512),[[M,s.selectedIngredient]]),g(n("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=c=>s.searchValue=c),placeholder:"Search Recipe",id:"search-input"},null,512),[[k,s.searchValue]])]),n("div",Ie,[r.randomNumberGenerator!=null?(d(),R(l,{key:0,to:"/recipe/"+r.randomNumberGenerator,id:"randomRecipe"},{default:C(()=>e[7]||(e[7]=[L(" Go to random recipe")])),_:1},8,["to"])):p("",!0),n("button",{id:"minMaxBtn",onClick:e[3]||(e[3]=(...c)=>this.minMaxCards&&this.minMaxCards(...c))}," Hide recipe text ")]),_(j,{class:"cardList",tag:"div",name:"cardList"},{default:C(()=>[(d(!0),u(f,null,w(r.searchResult,c=>(d(),u("div",{class:"cardM",key:c.recipeId},[r.searchResult!=null||r.searchResult!=[]?(d(),u("a",{key:0,onClick:S=>r.saveAndRedirect(c)},[n("div",{class:"imgPart",style:E(r.backgroundimg(c.imgLink,c.recipeId))},e[8]||(e[8]=[n("div",{class:"plateIcon"},[n("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"utensils",class:"svg-inline--fa fa-utensils fa-w-13",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 416 512"},[n("path",{fill:"currentColor",d:"M207.9 15.2c.8 4.7 16.1 94.5 16.1 128.8 0 52.3-27.8 89.6-68.9 104.6L168 486.7c.7 13.7-10.2 25.3-24 25.3H80c-13.7 0-24.7-11.5-24-25.3l12.9-238.1C27.7 233.6 0 196.2 0 144 0 109.6 15.3 19.9 16.1 15.2 19.3-5.1 61.4-5.4 64 16.3v141.2c1.3 3.4 15.1 3.2 16 0 1.4-25.3 7.9-139.2 8-141.8 3.3-20.8 44.7-20.8 47.9 0 .2 2.7 6.6 116.5 8 141.8.9 3.2 14.8 3.4 16 0V16.3c2.6-21.6 44.8-21.4 48-1.1zm119.2 285.7l-15 185.1c-1.2 14 9.9 26 23.9 26h56c13.3 0 24-10.7 24-24V24c0-13.2-10.7-24-24-24-82.5 0-221.4 178.5-64.9 300.9z"})])],-1)]),4),n("div",_e,[n("h2",ke,m(c.title),1),n("p",we,m(c.description),1),n("div",xe,[n("p",Le,[n("span",null,m(c.ingredients.length),1),e[9]||(e[9]=L(" Ingredient")),c.ingredients.length>1?(d(),u("span",Ce,"s")):p("",!0)]),n("p",Re,[n("span",null,m(c.instructions.length),1),e[10]||(e[10]=L(" Step")),c.instructions.length>1?(d(),u("span",Se,"s")):p("",!0)])])])],8,be)):p("",!0)]))),128)),(d(!0),u(f,null,w(r.drinks,c=>(d(),u("div",{class:"cardS",key:c.recipeId},[r.drinks!=null||r.drinks!=[]?(d(),u("a",{key:0,onClick:S=>r.saveAndRedirect(c)},[n("div",{class:"imgPart",style:E(r.backgroundimg(c.imgLink,c.recipeId))},e[11]||(e[11]=[n("div",{class:"plateIcon drinkIcon"},[n("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"cocktail",class:"svg-inline--fa fa-cocktail fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},[n("path",{fill:"currentColor",d:"M296 464h-56V338.78l168.74-168.73c15.52-15.52 4.53-42.05-17.42-42.05H24.68c-21.95 0-32.94 26.53-17.42 42.05L176 338.78V464h-56c-22.09 0-40 17.91-40 40 0 4.42 3.58 8 8 8h240c4.42 0 8-3.58 8-8 0-22.09-17.91-40-40-40zM432 0c-62.61 0-115.35 40.2-135.18 96h52.54c16.65-28.55 47.27-48 82.64-48 52.93 0 96 43.06 96 96s-43.07 96-96 96c-14.04 0-27.29-3.2-39.32-8.64l-35.26 35.26C379.23 279.92 404.59 288 432 288c79.53 0 144-64.47 144-144S511.53 0 432 0z"})])],-1)]),4),n("div",Te,[n("h2",Be,m(c.title),1),n("p",$e,m(c.description),1),n("div",Ne,[n("p",Ee,[n("span",null,m(c.ingredients.length),1),e[12]||(e[12]=L(" Ingredient")),c.ingredients.length>1?(d(),u("span",Ve,"s")):p("",!0)]),n("p",Me,[n("span",null,m(c.instructions.length),1),e[13]||(e[13]=L(" Step")),c.instructions.length>1?(d(),u("span",Oe,"s")):p("",!0)])])])],8,Ae)):p("",!0)]))),128)),r.noResults?(d(),u("div",Ue,[this.$store.state.recipesReady?p("",!0):(d(),u("div",qe,e[14]||(e[14]=[n("h1",{class:"card-title",style:{"text-align":"center"}}," Loading Recipes... ",-1)]))),this.$store.state.recipesReady?(d(),u("div",De,[e[16]||(e[16]=n("h1",{class:"card-title",style:{"text-align":"center"}}," No results found ",-1)),e[17]||(e[17]=n("h3",{style:{"text-align":"center"}}," Sorry, we couldn't find any results for your search. :( ",-1)),e[18]||(e[18]=n("h3",{style:{"text-align":"center"}},"Have a cookie instead!",-1)),n("div",Pe,[(d(),u("svg",ze,e[15]||(e[15]=[n("path",{fill:"currentColor",d:"M510.37 254.79l-12.08-76.26a132.493 132.493 0 0 0-37.16-72.95l-54.76-54.75c-19.73-19.72-45.18-32.7-72.71-37.05l-76.7-12.15c-27.51-4.36-55.69.11-80.52 12.76L107.32 49.6a132.25 132.25 0 0 0-57.79 57.8l-35.1 68.88a132.602 132.602 0 0 0-12.82 80.94l12.08 76.27a132.493 132.493 0 0 0 37.16 72.95l54.76 54.75a132.087 132.087 0 0 0 72.71 37.05l76.7 12.14c27.51 4.36 55.69-.11 80.52-12.75l69.12-35.21a132.302 132.302 0 0 0 57.79-57.8l35.1-68.87c12.71-24.96 17.2-53.3 12.82-80.96zM176 368c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm32-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm160 128c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},null,-1)])))])])):p("",!0)])):p("",!0)]),_:1}),_(a),n("button",{id:"goToTop",onClick:e[4]||(e[4]=(...c)=>r.goToTop&&r.goToTop(...c))},e[19]||(e[19]=[n("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"arrow-up",class:"svg-inline--fa fa-arrow-up fa-w-14",role:"img",viewBox:"0 0 448 512"},[n("path",{fill:"currentColor",d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"})],-1)]))])}var O=y(fe,[["render",Fe],["__scopeId","data-v-4bab01f6"]]);const Ge={name:"mainArea",props:{title:{type:String,required:!0},description:{type:String,required:!0},imgLink:{type:String,required:!0},drink:{type:Boolean}},data(){return{templateImg:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6d/Good_Food_Display_-_NCI_Visuals_Online.jpg/330px-Good_Food_Display_-_NCI_Visuals_Online.jpg",drinkTemplateImg:"https://www.liquor.com/thmb/fO-COKLw_iEA28v8K4XQjzMhkfw=/735x0/very-sexy-martini-720x720-primary-b1212ebf73f54f898a56f7f0b60c0a34.jpg",imgLinkAndTemplate:""}},mounted(){this.imgLink&&!this.imgLink.startsWith("http")&&!this.imgLink.startsWith("https")&&(this.imgLinkAndTemplate=`${window.location.origin}/images/${this.imgLink}`),this.imgLink===""?this.drink?this.imgLinkAndTemplate=this.drinkTemplateImg:this.imgLinkAndTemplate=this.templateImg:this.imgLinkAndTemplate=this.imgLink}},je={id:"descriptionContainer"},He={class:"description"},We={id:"imgContainer"},Ke=["src"];function Je(t,e,i,o,s,r){return d(),u(f,null,[n("div",je,[n("h2",null,m(i.title),1),n("p",He,m(i.description),1)]),n("div",We,[n("img",{src:s.imgLinkAndTemplate,alt:"image of the dish"},null,8,Ke)])],64)}var Qe=y(Ge,[["render",Je],["__scopeId","data-v-7e41ae38"]]);const Ye={name:"timerComponent",props:{instruction:{type:String,required:!0}},data(){return{time:"",originalTime:"",started:!1}},methods:{getTimeFromInstruction(){const e=/(\d+(?:[\.,]\d+)?)\s*(timmar?|timme|minuter?|minut)/i.exec(this.instruction);if(!e)return;const i=e[1].replace(",","."),o=e[2].toLowerCase(),s=Number.parseFloat(i);if(Number.isNaN(s))return;let r=o.startsWith("tim")?s*60:s;r=Math.round(r);const l=`0${Math.floor(r/60)}:${r%60}:00`;this.time=l,this.originalTime=l,document.querySelector(".time").innerHTML=l},countdownTimer(){if(this.started)return;this.started=!0;const t=setInterval(()=>{if(!this.started){clearInterval(t);return}const e=this.time,[i,o,s]=e.split(":"),r=Number.parseInt(s,10)-1,l=Number.parseInt(o,10),a=Number.parseInt(i,10);if(r<=0)if(l<=0){if(a<=0){clearInterval(t),this.timerDone();return}this.time=`${a-1}:59:59`}else this.time=`${a}:${l-1}:59`;else this.time=`${a}:${l}:${r}`},1e3)},stopTimer(){this.started=!1},resetTimer(){this.time=this.originalTime,this.started=!1},timerDone(){const t=new Audio("https://actions.google.com/sounds/v1/alarms/alarm_clock.ogg");t.play(),alert("Timer done!"),t.pause(),this.resetTimer()}},mounted(){this.getTimeFromInstruction()}},Xe={class:"timer"},Ze={style:{width:"30px",height:"30px"},version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512","xml:space":"preserve"},et={class:"time"};function tt(t,e,i,o,s,r){return d(),u("label",Xe,[(d(),u("svg",Ze,e[3]||(e[3]=[n("g",{transform:"translate(1 1)"},[n("g",null,[n("g",null,[n("path",{d:"M255,101.4c-103.253,0-187.733,84.48-187.733,187.733c0,50.764,20.43,96.981,53.462,130.861     c0.328,0.492,0.71,0.963,1.152,1.405c0.484,0.484,0.97,0.891,1.473,1.238c33.949,33.484,80.49,54.229,131.647,54.229     c103.253,0,187.733-84.48,187.733-187.733S358.253,101.4,255,101.4z M400.067,297.667h25.385     c-2.023,40.571-18.386,77.528-44.093,105.879l-17.985-17.985c-3.413-3.413-8.533-3.413-11.947,0     c-3.413,3.413-3.413,8.533,0,11.947l17.985,17.985c-28.35,25.707-65.308,42.07-105.879,44.093V434.2     c0-5.12-3.413-8.533-8.533-8.533s-8.533,3.413-8.533,8.533v25.385c-40.784-2.034-77.916-18.559-106.325-44.5l17.578-17.578     c3.413-3.413,3.413-8.533,0-11.947c-3.413-3.413-8.533-3.413-11.947,0l-17.533,17.534     c-25.474-28.291-41.679-65.07-43.692-105.427h25.385c4.267,0,8.533-3.413,8.533-8.533s-3.413-8.533-8.533-8.533H84.548     c2.023-40.571,18.386-77.528,44.093-105.879l17.985,17.985c1.707,1.707,3.413,2.56,5.973,2.56c1.707,0,4.267-0.853,5.973-2.56     c3.413-3.413,3.413-8.533,0-11.947l-17.985-17.985c28.35-25.707,65.308-42.07,105.879-44.093v25.385     c0,5.12,3.413,8.533,8.533,8.533c4.267,0,8.533-3.413,8.533-8.533v-25.385c40.571,2.023,77.528,18.386,105.879,44.093     l-17.985,17.985c-3.413,3.413-3.413,8.533,0,11.947c1.707,1.707,3.413,2.56,5.973,2.56s4.267-0.853,5.973-2.56l17.985-17.985     c25.707,28.35,42.07,65.308,44.093,105.879h-25.385c-5.12,0-8.533,3.413-8.533,8.533S394.947,297.667,400.067,297.667z"}),n("path",{d:"M468.333,153.453c6.827,0,13.653-2.56,18.773-7.68c10.24-10.24,10.24-27.307,0-37.547l-34.133-34.133     c-10.24-10.24-27.307-10.24-37.547,0c-8.316,8.316-9.878,21.133-4.688,31.141l-13.759,13.759     c-30.247-25.306-67.268-42.746-107.847-49.081V50.2h16.213c10.24,0,17.92-7.68,17.92-17.067V16.92     c0-10.24-7.68-17.92-17.92-17.92H203.8c-9.387,0-17.067,7.68-17.067,17.92v15.36c0,10.24,7.68,17.92,17.067,17.92h17.067v19.712     c-40.371,6.302-77.223,23.593-107.384,48.69l-13.941-13.941c4.842-9.92,3.191-22.409-4.968-30.568     c-10.24-10.24-27.307-10.24-37.547,0l-34.133,34.133c-10.24,10.24-10.24,27.307,0,37.547c5.12,5.12,11.947,7.68,18.773,7.68     c6.06,0,12.117-2.022,16.983-6.057l14.723,14.723c-25.327,36.043-40.24,79.869-40.24,127.013C33.133,411.16,132.973,511,255,511     s221.867-99.84,221.867-221.867c0-46.926-14.777-90.562-39.89-126.51l14.846-14.846     C456.605,151.558,462.468,153.453,468.333,153.453z M427.373,86.04c1.707-1.707,4.267-2.56,6.827-2.56s5.12,0.853,6.827,2.56     l34.133,34.133c3.413,4.267,4.267,10.24,0,13.653s-10.24,3.413-13.653,0l-1.543-1.543c-0.426-0.975-1.047-1.9-1.871-2.724     l-29.867-29.867c-0.559-0.559-1.168-1.018-1.804-1.394C424.006,94.202,424.317,89.096,427.373,86.04z M421.4,117.613l17.92,17.92     l-12.8,12.8c-5.12-6.827-11.093-12.8-17.067-18.773L421.4,117.613z M203.8,16.067l102.4,0.853v15.36c0,0.853,0,0.853-0.853,0.853     L203.8,32.28V16.067z M237.933,50.2h34.133v17.722c-5.634-0.434-11.326-0.656-17.067-0.656s-11.432,0.222-17.067,0.656V50.2z      M88.6,117.613l11.947,11.947c-5.973,5.973-11.947,11.947-17.067,18.773l-12.8-12.8L88.6,117.613z M34.84,133.827     c-3.413-4.267-3.413-10.24,0-13.653L68.973,86.04c1.707-1.707,4.267-2.56,6.827-2.56s5.12,0.853,6.827,2.56     c3.413,4.267,3.413,10.24,0,13.653L52.76,129.56l-4.267,4.267C45.08,137.24,38.253,137.24,34.84,133.827z M255,493.933     c-112.64,0-204.8-92.16-204.8-204.8c0-45.669,15.152-87.969,40.673-122.128c0.38-0.248,0.76-0.499,1.14-0.752     c7.68-11.093,17.067-20.48,27.307-29.867c0.348-0.348,0.651-0.737,0.928-1.142c29.931-26.26,67.508-43.989,108.838-49.267     c0.387,0.037,0.777,0.062,1.167,0.062c17.067-1.707,32.427-1.707,49.493,0h0.853c0.171,0,0.356-0.015,0.542-0.032     C381.556,98.947,459.8,185.346,459.8,289.133C459.8,401.773,367.64,493.933,255,493.933z"}),n("path",{d:"M263.533,256.088V178.2c0-5.12-3.413-8.533-8.533-8.533s-8.533,3.413-8.533,8.533v77.888     c-14.679,3.814-25.6,17.216-25.6,33.046c0,18.773,15.36,34.133,34.133,34.133s34.133-15.36,34.133-34.133     C289.133,273.304,278.212,259.902,263.533,256.088z M255,306.2c-9.387,0-17.067-7.68-17.067-17.067s7.68-17.067,17.067-17.067     s17.067,7.68,17.067,17.067S264.387,306.2,255,306.2z"})])])],-1)]))),n("span",et,m(s.time),1),this.started?p("",!0):(d(),u("button",{key:0,class:"timerStart",onClick:e[0]||(e[0]=(...l)=>this.countdownTimer&&this.countdownTimer(...l))}," Start ")),this.started?(d(),u("button",{key:1,class:"timerStop",onClick:e[1]||(e[1]=(...l)=>this.stopTimer&&this.stopTimer(...l))}," Stop ")):p("",!0),this.time!==s.originalTime?(d(),u("button",{key:2,class:"timerReset",onClick:e[2]||(e[2]=(...l)=>this.resetTimer&&this.resetTimer(...l))}," Reset ")):p("",!0)])}var it=y(Ye,[["render",tt],["__scopeId","data-v-79dbbb26"]]);const nt={name:"instructionComponent",components:{timer:it},props:{instructions:{type:Array,required:!0}},methods:{checkInstruction(t){const e=document.getElementById(t.id).parentElement;t.checked?e.classList.remove("checked"):e.classList.add("checked")},countAmountOfTimers(t){var i,o,s,r,l,a;let e=0;return(t.includes("minuter")||t.includes("minut")||t.includes("timme")||t.includes("timmar"))&&(e+=(o=(i=t.match(/\bminut(?:er)?\b/gi))==null?void 0:i.length)!=null?o:0,e+=(r=(s=t.match(/\btimmar?\b/gi))==null?void 0:s.length)!=null?r:0,e+=(a=(l=t.match(/\btimme\b/gi))==null?void 0:l.length)!=null?a:0),e}}},st={class:"instruction"},rt=["name","id","onUpdate:modelValue","onClick"],ot=["for"];function lt(t,e,i,o,s,r){const l=b("timer");return d(),u(f,null,[e[0]||(e[0]=n("h2",{style:{"text-align":"center"}},"Instructions",-1)),n("ol",st,[(d(!0),u(f,null,w(i.instructions,a=>(d(),u("li",{key:a.id,class:H({checked:a.checked})},[g(n("input",{type:"checkbox",name:a.id,id:a.id,"onUpdate:modelValue":c=>a.checked=c,onClick:c=>r.checkInstruction(a)},null,8,rt),[[V,a.checked]]),n("label",{for:a.id},m(a.text),9,ot),(d(!0),u(f,null,w(r.countAmountOfTimers(a.text),c=>(d(),u("div",{key:c,class:"timerContainer"},[a.checked?p("",!0):(d(),R(l,{key:0,instruction:a.text,id:a.id},null,8,["instruction","id"]))]))),128))],2))),128))])],64)}var at=y(nt,[["render",lt],["__scopeId","data-v-48c3351e"]]);const dt={name:"ingredientsComponent",props:{ingredients:{type:Array,required:!0}},data(){return{portions:4,sortAlphabeticallyAndIgnoreSections:!1,originalIngredients:JSON.parse(JSON.stringify(this.ingredients))}},watch:{portions(t){if(t===4)this.ingredients=this.originalIngredients;else for(const e of this.ingredients){const i=[...this.originalIngredients].find(o=>o.name===e.name);i&&i.amount!==""&&(e.amount=this.roundToTwoDecimals(i.amount/4*t))}}},computed:{unsectionedIngredientsMargin(){return`${this.groupedIngredients.length?"4":"1"}em`},groupedIngredients(){return[...this.ingredients].reduce((t,e)=>{const i=e.section;return i&&(t[i]||(t[i]=[]),t[i].push(e)),t},{})},unsectionedIngredients(){return[...this.ingredients].filter(t=>!t.section)},ingredientsSortedAlphabetically(){return[...this.ingredients].sort((t,e)=>{const i=t.name.toLowerCase(),o=e.name.toLowerCase();return i<o?-1:i>o?1:0})}},methods:{roundToTwoDecimals(t){return Math.round(t*100)/100},add2Portions(){const t=this.portions+2;!this.checkServings(t)||(this.portions=t)},remove2Portions(){const t=this.portions-2;!this.checkServings(t)||(this.portions=t)},changeToPortions(t){let e=0;typeof t=="number"?e=t:e=Number.parseInt(t.target.value),!!this.checkServings(e)&&(this.portions=e)},checkServings(t){return t===""?(document.getElementById("portions").value=this.portions,!1):t>98?(alert("You can't have more than 98 servings!"),document.getElementById("portions").value=98,this.changeToPortions(98),!1):t<1?(alert("You can't have less than 1 serving!"),document.getElementById("portions").value=1,this.changeToPortions(1),!1):Number.isNaN(t)?(document.getElementById("portions").value=this.portions,!1):!0}}},ct={id:"servingsContainer"},ut=["placeholder","value"],pt={id:"sortAlphabeticallyAndIgnoreSectionsCheckboxContainer"},mt={key:0},gt={class:"ingredients"},ht={key:0},ft={class:"ingredients"},vt={key:2};function yt(t,e,i,o,s,r){return d(),u(f,null,[e[9]||(e[9]=n("h2",null,"Ingredients",-1)),n("h4",null,m(i.ingredients.length)+" Ingredients",1),n("div",ct,[n("button",{onClick:e[0]||(e[0]=l=>r.remove2Portions())},e[4]||(e[4]=[n("svg",{version:"1.1",viewBox:"0 0 32 32",role:"presentation","aria-label":"Decrease servings",class:"svg-icon svg-fill"},[n("path",{pid:"0","fill-rule":"evenodd",d:"M23.768 15H9a.249.249 0 00-.223.138l-.75 1.5A.25.25 0 008.25 17h15.518a.258.258 0 00.259-.259v-1.483a.258.258 0 00-.26-.258"})],-1)])),n("input",{name:"portions",id:"portions",placeholder:this.portions,value:this.portions,onChange:e[1]||(e[1]=(...l)=>r.changeToPortions&&r.changeToPortions(...l))},null,40,ut),e[6]||(e[6]=n("label",{for:"portions"},"Servings",-1)),n("button",{onClick:e[2]||(e[2]=l=>r.add2Portions())},e[5]||(e[5]=[n("svg",{version:"1.1",viewBox:"0 0 32 32",role:"presentation","aria-label":"Increase servings",class:"svg-icon svg-fill"},[n("path",{pid:"0","fill-rule":"evenodd",d:"M23.768 14.994h-6.744V8.258A.26.26 0 0016.766 8h-1.477a.257.257 0 00-.262.262v6.732H9a.249.249 0 00-.223.138l-.75 1.5a.25.25 0 00.223.362h6.777v6.748c0 .142.116.258.258.258l1.48-.004a.25.25 0 00.259-.258v-6.744h6.744a.258.258 0 00.259-.259v-1.483a.258.258 0 00-.26-.258"})],-1)]))]),n("div",pt,[g(n("input",{type:"checkbox",id:"sortAlphabeticallyAndIgnoreSections","onUpdate:modelValue":e[3]||(e[3]=l=>s.sortAlphabeticallyAndIgnoreSections=l)},null,512),[[V,s.sortAlphabeticallyAndIgnoreSections]]),e[7]||(e[7]=n("label",{for:"sortAlphabeticallyAndIgnoreSections"},"Sort alphabetically and ignore sections",-1))]),s.sortAlphabeticallyAndIgnoreSections?(d(),u("div",mt,[n("ul",gt,[(d(!0),u(f,null,w(r.ingredientsSortedAlphabetically,l=>(d(),u("li",{key:l.name},m(`${l.amount} ${l.measurment} ${l.name}`),1))),128))])])):s.sortAlphabeticallyAndIgnoreSections?p("",!0):(d(!0),u(f,{key:1},w(r.groupedIngredients,(l,a)=>(d(),u("div",{key:a},[a?(d(),u("h3",ht,m(a),1)):p("",!0),n("ul",ft,[(d(!0),u(f,null,w(l,c=>(d(),u("li",{key:c.name},m(`${c.amount} ${c.measurment} ${c.name}`),1))),128))])]))),128)),r.unsectionedIngredients.length&&!s.sortAlphabeticallyAndIgnoreSections?(d(),u("div",vt,[e[8]||(e[8]=n("h3",null,"Other Ingredients",-1)),n("ul",{class:"ingredients",style:E({marginTop:r.unsectionedIngredientsMargin+"em"})},[(d(!0),u(f,null,w(r.unsectionedIngredients,l=>(d(),u("li",{key:l.name},m(`${l.amount} ${l.measurment} ${l.name}`),1))),128))],4)])):p("",!0)],64)}var It=y(dt,[["render",yt],["__scopeId","data-v-0430bec0"]]);const bt={name:"recipePage",components:{mainArea:Qe,instruction:at,ingredients:It},methods:{deleteRecipe(){const t=[],e=I.database().ref("recipes");if(e.on("value",i=>{for(const o of i.val())t.push(o.key)}),e.child(t[this.currentRecipeId]).remove(),alert("Recipe deleted!"),e.on("value",i=>{const o=[];for(const s of i.val())s.recipeId>this.currentRecipeId&&o.push(e.child(s.key).update({recipeId:s.recipeId-1}));Promise.all(o)}),t.length===1){const i={title:"Add a recipe",description:"Since this database shouldn't be empty, you should add a recipe!",recipeId:"0",ingredients:[{amount:"2",unit:"Large",name:"OOF's"}],instructions:[{checked:!1,id:"0",text:"Add a recipe"}],servings:"4",link:"foodlist-0921.web.app/#/add",imgLink:""};e.push(i)}this.$router.push("/")},confirmDelete(){confirm(`Are you sure you want to delete this recipe? \r
This action cannot be undone.`)&&this.deleteRecipe()}},computed:{currentRecipeId(){return this.$route.params.id},currentRecipe(){return this.$store.state.recipesList[this.currentRecipeId]},store(){return W()}}},_t={id:"content"},kt={class:"bigCard card",style:{display:"flex","flex-wrap":"wrap","justify-content":"space-evenly",padding:"0px"}},wt={class:"mediumCard card"},xt={class:"mediumCard card"},Lt={id:"footer"},Ct=["href"];function Rt(t,e,i,o,s,r){const l=b("mainArea"),a=b("ingredients"),c=b("instruction"),S=b("router-link");return d(),u("div",null,[n("div",_t,[n("div",kt,[_(l,{title:this.currentRecipe.title,description:this.currentRecipe.description,imgLink:this.currentRecipe.imgLink,drink:this.currentRecipe.drink},null,8,["title","description","imgLink","drink"])]),n("div",wt,[_(a,{ingredients:this.currentRecipe.ingredients},null,8,["ingredients"])]),n("div",xt,[_(c,{instructions:this.currentRecipe.instructions},null,8,["instructions"])])]),n("div",Lt,[this.currentRecipe.link?(d(),u("a",{key:0,href:this.currentRecipe.link,target:"_blank",id:"ogLink"},"Original Recipe",8,Ct)):p("",!0),this.$store.state.admin?(d(),R(S,{key:1,id:"edit",to:"/edit/"+this.currentRecipeId},{default:C(()=>e[1]||(e[1]=[L(" Edit this recipe ")])),_:1},8,["to"])):p("",!0),this.$store.state.admin?(d(),u("button",{key:2,id:"delete",onClick:e[0]||(e[0]=(...A)=>r.confirmDelete&&r.confirmDelete(...A))}," Delete this recipe ")):p("",!0)])])}var St=y(bt,[["render",Rt],["__scopeId","data-v-56166e46"]]);const At={name:"autoCompletingIngredientInput",components:{AutoComplete:K},props:{placeholder:{type:String,default:"Enter ingredient name"},value:{type:String,default:""}},data(){return{inputValue:"",showSuggestions:!0,filteredSuggestions:[]}},methods:{onFocus(){this.showSuggestions=!0},onBlur(){this.showSuggestions=!1},selectSuggestion(t){this.inputValue=t,this.showSuggestions=!1},getSuggestions(){const e=this.$store.state.recipesList.flatMap(o=>o.ingredients);return[...new Set(e.map(o=>o.name))]},search(t){setTimeout(()=>{t.query.trim().length?this.filteredSuggestions=this.getSuggestions().filter(e=>e.toLowerCase().includes(t.query.toLowerCase())).slice(0,10):this.filteredSuggestions=[...this.getSuggestions()].slice(0,10)},200)}},mounted(){}},Tt={class:"auto-completing-ingredient-input"};function Bt(t,e,i,o,s,r){const l=b("AutoComplete");return d(),u("div",Tt,[_(l,{name:"ingredient",suggestions:s.filteredSuggestions,modelValue:s.inputValue,"onUpdate:modelValue":e[0]||(e[0]=a=>s.inputValue=a),placeholder:i.placeholder,onFocus:r.onFocus,onBlur:r.onBlur,onComplete:r.search},null,8,["suggestions","modelValue","placeholder","onFocus","onBlur","onComplete"])])}var U=y(At,[["render",Bt]]);const $t={name:"AddRecipe",components:{AutoCompletingIngredientInput:U},data(){return{recipe:{recipeId:"",drink:!1,title:"",description:"",ingredients:[],instructions:[],servings:"",link:"",imgLink:""},moreThanOneIngredient:!1,moreThanOneInstruction:!1,draft:[]}},methods:{addIngredient(){const t=document.getElementById("ingredientsList"),e=t.children[t.children.length-1];t.insertBefore(e.cloneNode(!0),e);const i=e.getElementsByTagName("input");for(let o=0;o<i.length;o++)i[o].value="";this.moreThanOneIngredient=!0},removeIngredient(){const t=document.getElementsByClassName("ingredients");t.length>1&&t[t.length-1].remove(),t.length===1&&(this.moreThanOneIngredient=!1)},fixIngredients(){const t=[],e=document.getElementsByClassName("ingredients");for(let i=0;i<e.length;i++){const o={},s=e[i].querySelectorAll("input");for(let r=0;r<s.length;r++)o[s[r].name]=s[r].value;t.push(o)}this.recipe.ingredients=t,this.checkServings()},addInstruction(){const t=document.getElementById("instructionsList"),e=t.children[t.children.length-1];t.insertBefore(e.cloneNode(!0),e);const i=e.getElementsByTagName("input");for(let o=0;o<i.length;o++)i[o].value="";this.moreThanOneInstruction=!0},removeInstruction(){const t=document.getElementsByClassName("instructions");t.length>1&&t[t.length-1].remove(),t.length===1&&(this.moreThanOneInstruction=!1)},fixInstructions(){const t=document.getElementsByClassName("instructions");for(let e=0;e<t.length;e++){const i=t[e].querySelectorAll("input");for(let o=0;o<i.length;o++)i[0].value===""?i[0].value=e:i[1].value===""&&(i[1].value=!1);this.populateInstruction()}},populateInstruction(){const t=[],e=document.getElementsByClassName("instructions");for(let i=0;i<e.length;i++){const o={},s=e[i].querySelectorAll("input");for(let r=0;r<s.length;r++)s[1].value==="true"?o[s[1].name]=!0:s[1].value==="false"&&(o[s[1].name]=!1),o[s[r].name]=s[r].value;t.push(o)}this.recipe.instructions=t},checkServings(){const t=document.getElementById("recipeServings").value;if(t!==""&&t){if(document.getElementsByClassName("amount")[0].value==="")return;const e=this.recipe.ingredients,i=document.getElementsByClassName("amount");for(let o=0;o<e.length;o++){if(i[o].value==="")return;let r=e[o].amount/t*4;r=Number(r.toFixed(1)),e[o].amount=r,i[o].value=r}this.recipe.ingredients=e}},post(){if(this.recipe.title==="Test JKL"){this.testPost(),this.$router.push("/");return}if(this.recipe.title===""||this.recipe.description===""||this.recipe.ingredients===""||this.recipe.instructions===""||this.recipe.link===""){alert("Please fill out all fields");return}this.addRecipeId(),this.fixIngredients(),this.fixInstructions(),I.database().ref("recipes").push(this.recipe),alert("Recipe added!"),this.removeDraft(),this.$router.push("/")},testPost(){this.recipe.title="Test",this.recipe.description="Test",this.addRecipeId(),this.recipe.ingredients=[{name:"Test",amount:"1",measurment:"Test",section:"Test section"}],this.recipe.instructions=[{id:0,checked:!0,text:"Test"},{id:1,checked:!1,text:"Test2"}],this.recipe.servings="4",this.recipe.link="www.google.com",this.recipe.imgLink="",I.database().ref("recipes").push(this.recipe),alert("Test recipe added!")},saveAsDraft(){this.addRecipeId(),this.fixIngredients(),this.fixInstructions();const t={title:this.recipe.title,description:this.recipe.description,ingredients:this.recipe.ingredients,instructions:this.recipe.instructions,servings:this.recipe.servings,link:this.recipe.link,imgLink:this.recipe.imgLink};localStorage.setItem("draft",JSON.stringify(t))},getDraft(){const t=JSON.parse(localStorage.getItem("draft"));t&&(this.draft=t)},putBackDraft(){this.recipe.title=this.draft.title,this.recipe.description=this.draft.description,this.recipe.servings=this.draft.servings,this.recipe.link=this.draft.link,this.recipe.imgLink=this.draft.imgLink,this.recipe.ingredients=this.draft.ingredients,this.recipe.instructions=this.draft.instructions,this.putBackIngredients(),this.putBackInstructions(),this.removeDraft()},putBackIngredients(){if(this.recipe.ingredients.length>1)for(let e=1;e<this.recipe.ingredients.length;e++)this.addIngredient();const t=document.getElementsByClassName("ingredients");for(let e=0;e<t.length;e++){const i=t[e].querySelectorAll("input");for(let o=0;o<i.length;o++)i[o].name==="name"&&(i[o].value=this.recipe.ingredients[e].name),i[o].name==="amount"&&(i[o].value=this.recipe.ingredients[e].amount),i[o].name==="measurment"&&(i[o].value=this.recipe.ingredients[e].measurment),i[o].name==="section"&&(i[o].value=this.recipe.ingredients[e].section)}},putBackInstructions(){if(this.recipe.instructions.length>1)for(let e=1;e<this.recipe.instructions.length;e++)this.addInstruction();const t=document.getElementsByClassName("instructions");for(let e=0;e<t.length;e++){const i=t[e].querySelectorAll("input");for(let o=0;o<i.length;o++)i[o].name==="text"&&(i[o].value=this.recipe.instructions[e].text),i[o].name==="checked"&&(i[o].value=this.recipe.instructions[e].checked),i[o].name==="id"&&(i[o].value=this.recipe.instructions[e].id)}},removeDraft(){this.draft=[],localStorage.removeItem("draft")},addRecipeId(){this.recipe.recipeId=this.$store.state.recipesList.length}},mounted(){this.addRecipeId(),this.getDraft();const t=document.getElementsByTagName("input"),e=document.getElementsByTagName("textarea");for(let i=0;i<t.length;i++)t[i].addEventListener("change",this.saveAsDraft);for(let i=0;i<e.length;i++)e[i].addEventListener("change",this.saveAsDraft)}},Nt={style:{display:"flex"}},Et={key:0,id:"draft"},Vt={id:"addRecipe"},Mt={action:""},Ot={class:"form-group"},Ut={class:"form-group"},qt={class:"form-group"},Dt={class:"form-group"},Pt={id:"ingredientsList"},zt={class:"ingredients"},Ft={class:"form-group"},Gt={class:"form-group"},jt={id:"instructionsList"},Ht={class:"instructions"},Wt={class:"form-group"},Kt={class:"form-group"};function Jt(t,e,i,o,s,r){const l=b("AutoCompletingIngredientInput");return d(),u("div",Nt,[s.draft.length!=0?(d(),u("div",Et,[n("ul",null,[(d(!0),u(f,null,w(s.draft,a=>(d(),u("li",{key:a.name},[n("p",null,m(a),1)]))),128))]),n("button",{onClick:e[0]||(e[0]=(...a)=>r.putBackDraft&&r.putBackDraft(...a))},"Input draft!"),n("button",{style:{"background-color":"red"},onClick:e[1]||(e[1]=(...a)=>r.removeDraft&&r.removeDraft(...a))}," Remove draft! ")])):p("",!0),n("div",Vt,[e[28]||(e[28]=n("h2",null,"Add Recipe",-1)),n("form",Mt,[n("div",Ot,[e[15]||(e[15]=n("label",{for:"recipeName"},"Recipe Name / Title:",-1)),g(n("input",{type:"text",class:"form-control",id:"recipeName",placeholder:"Tomatoes and Cheese Pasta","onUpdate:modelValue":e[2]||(e[2]=a=>s.recipe.title=a),required:""},null,512),[[k,s.recipe.title]])]),n("div",Ut,[e[16]||(e[16]=n("label",{for:"drink",style:{display:"inline-block"}},"Drink? :",-1)),g(n("input",{type:"checkbox",name:"drink",id:"drink","onUpdate:modelValue":e[3]||(e[3]=a=>s.recipe.drink=a)},null,512),[[V,s.recipe.drink]])]),n("div",qt,[e[17]||(e[17]=n("label",{for:"recipeDescription"},"Recipe Description:",-1)),g(n("textarea",{class:"form-control",id:"recipeDescription",rows:"3","onUpdate:modelValue":e[4]||(e[4]=a=>s.recipe.description=a),placeholder:"A simple recipe for a tasty pasta dish with tomatoes and cheese."},null,512),[[k,s.recipe.description]])]),n("div",Dt,[e[21]||(e[21]=B('<label for="recipeIngredients" data-v-6059f2db>Recipe Ingredients:</label><div id="labels" data-v-6059f2db><label for="amount" data-v-6059f2db>Quantity:</label><label for="ingredientUnit" data-v-6059f2db>Unit:</label><label for="ingredientName" data-v-6059f2db>Ingredient Name:</label><label for="ingredientSection" data-v-6059f2db>Section?:</label></div>',2)),n("div",Pt,[n("div",zt,[e[18]||(e[18]=n("input",{type:"number",placeholder:"2",name:"amount",class:"amount"},null,-1)),e[19]||(e[19]=n("input",{type:"text",placeholder:"Large",name:"measurment"},null,-1)),_(l,{placeholder:"Tomatoes",onChange:r.fixIngredients,required:""},null,8,["onChange"]),e[20]||(e[20]=n("input",{type:"text",placeholder:"Salad",name:"section"},null,-1))])]),n("button",{type:"button",onClick:e[5]||(e[5]=(...a)=>r.addIngredient&&r.addIngredient(...a))}," Add Ingredient "),s.moreThanOneIngredient?(d(),u("button",{key:0,type:"button",onClick:e[6]||(e[6]=(...a)=>r.removeIngredient&&r.removeIngredient(...a))}," Remove Ingredient ")):p("",!0)]),n("div",Ft,[e[22]||(e[22]=n("label",{for:"recipeServings"},"Recipe Servings:",-1)),g(n("input",{type:"number",class:"form-control",id:"recipeServings",placeholder:"4","onUpdate:modelValue":e[7]||(e[7]=a=>s.recipe.servings=a),onChange:e[8]||(e[8]=(...a)=>r.checkServings&&r.checkServings(...a))},null,544),[[k,s.recipe.servings]])]),n("div",Gt,[e[25]||(e[25]=B('<label for="recipeInstructions" data-v-6059f2db>Recipe Instructions: </label><div id="labels" data-v-6059f2db><label for="id" style="flex:0.25;" data-v-6059f2db>Id:</label><label for="checked" style="flex:0.25;" data-v-6059f2db>Checked:</label><label for="text" style="flex:0.8;" data-v-6059f2db>Instruction:</label></div>',2)),n("div",jt,[n("div",Ht,[e[23]||(e[23]=n("input",{type:"number",placeholder:"1",name:"id",style:{width:"25%"}},null,-1)),e[24]||(e[24]=n("input",{type:"text",placeholder:"false",name:"checked",style:{width:"25%"}},null,-1)),n("input",{type:"text",placeholder:"1. Preheat oven to 350 degrees.",name:"text",onChange:e[9]||(e[9]=(...a)=>r.fixInstructions&&r.fixInstructions(...a)),required:"",style:{width:"90%"}},null,32)])]),n("button",{type:"button",onClick:e[10]||(e[10]=(...a)=>r.addInstruction&&r.addInstruction(...a))}," Add Instruction "),s.moreThanOneInstruction?(d(),u("button",{key:0,type:"button",onClick:e[11]||(e[11]=(...a)=>r.removeInstruction&&r.removeInstruction(...a))}," Remove Instruction ")):p("",!0)]),n("div",Wt,[e[26]||(e[26]=n("label",{for:"recipeImage"},"Original Recipe Link:",-1)),g(n("input",{type:"text",class:"form-control",id:"recipeImage",placeholder:"www.example.com/recipe.html","onUpdate:modelValue":e[12]||(e[12]=a=>s.recipe.link=a)},null,512),[[k,s.recipe.link]])]),n("div",Kt,[e[27]||(e[27]=n("label",{for:"recipeImage"},"Recipe Image (Link):",-1)),g(n("input",{type:"text",class:"form-control",id:"recipeImage",placeholder:"www.google.com(images/recipe.jpg)","onUpdate:modelValue":e[13]||(e[13]=a=>s.recipe.imgLink=a)},null,512),[[k,s.recipe.imgLink]])]),n("button",{onClick:e[14]||(e[14]=$((...a)=>r.post&&r.post(...a),["prevent"])),type:"submit"},"Submit")])])])}var Qt=y($t,[["render",Jt],["__scopeId","data-v-6059f2db"]]);const Yt={name:"edit-recipe",components:{AutoCompletingIngredientInput:U},data(){return{moreThanOneIngredient:!1,moreThanOneInstruction:!1}},methods:{addIngredient(){const t=document.getElementsByClassName("editIngredients")[0].cloneNode(!0);for(let e=0;e<t.length;e++)t.querySelector("input").value="";document.getElementsByClassName("editIngredients")[0].parentNode.appendChild(t),this.moreThanOneIngredient=!0},removeIngredient(){const t=document.getElementsByClassName("editIngredients");t.length>1&&t[t.length-1].remove(),t.length===1&&(this.moreThanOneIngredient=!1)},addInstruction(){const t=document.getElementById("instructionsList"),e=t.children[t.children.length-1];t.insertBefore(e.cloneNode(!0),e);const i=e.getElementsByTagName("input");for(let o=0;o<i.length;o++)i[o].value="";this.moreThanOneInstruction=!0},removeInstruction(){const t=document.getElementsByClassName("editInstructions");t.length>1&&t[t.length-1].remove(),t.length===1&&(this.moreThanOneInstruction=!1)},editFirebase(){if(!this.$store.state.admin)return;const t=I.database(),e=I.database().ref("recipes"),i=[];e.on("value",h=>{for(const x of h)i.push(x.key)});const o=t.ref(`recipes/${i[this.$route.params.id]}`),s=document.getElementById("title").value,r=document.getElementById("drink").checked,l=document.getElementById("description").value,a=[],c=document.getElementsByClassName("editIngredients");for(let h=0;h<c.length;h++){const x={amount:c[h].querySelectorAll("input")[0].value,measurment:c[h].querySelectorAll("input")[1].value,name:c[h].querySelectorAll("input")[2].value,section:c[h].querySelectorAll("input")[3].value};a.push(x)}const S=[],A=document.getElementsByClassName("editInstructions");for(let h=0;h<A.length;h++){const x={checked:A[h].querySelectorAll("input")[0].value,id:A[h].querySelectorAll("input")[1].value,text:A[h].querySelectorAll("input")[2].value};x.checked==="true"&&(x.checked=!0),x.checked==="false"&&(x.checked=!1),S.push(x)}const q=document.getElementById("servings").value,D=document.getElementById("link").value,P=document.getElementById("imgLink").value;let N=this.$route.params.id;N=Number.parseInt(N);const z={title:s,drink:r,description:l,ingredients:a,instructions:S,servings:q,link:D,imgLink:P,recipeId:N};o.update(z),alert("Recipe updated!"),this.$router.push(`/recipe/${this.$route.params.id}`)},putRecipeDetailsInInputs(){document.getElementById("title").value=this.currentRecipe.title,document.getElementById("description").value=this.currentRecipe.description,document.getElementById("imgLink").value=this.currentRecipe.imgLink,this.currentRecipe.drink&&(document.getElementById("drink").checked=!0);const t=this.currentRecipe.ingredients;t.length>1&&(this.moreThanOneIngredient=!0);for(let i=0;i<t.length;i++){const o=t[i],s=o.amount,r=o.measurment,l=o.name,a=o.section,c=document.createElement("div");c.classList.add("editIngredients"),c.innerHTML=`
					<input type="text" name="amount" class="amount" value="${s}" />
					<input type="text" name="measurment" class="measurment" value="${r}" />
					<AutoCompletingIngredientInput placeholder="Tomatoes" value="${l}" />
          <input type="text" name="section" class="section" value="${a}" />
				`,document.getElementById("ingredientsList").appendChild(c)}const e=this.currentRecipe.instructions;e.length>1&&(this.moreThanOneInstruction=!0);for(let i=0;i<e.length;i++){const o=e[i],s=o.checked,r=o.id,l=o.text,a=document.createElement("div");a.classList.add("editInstructions"),a.innerHTML=`
					<input type="text" name="checked" class="checked" value="${s}">
					<input type="number" name="id" class="id" value="${r}">
					<input type="text" name="text" class="text" value="${l}">
				`,document.getElementById("instructionsList").appendChild(a)}document.getElementById("servings").value=this.currentRecipe.servings,document.getElementById("link").value=this.currentRecipe.link}},mounted(){this.putRecipeDetailsInInputs()},computed:{currentRecipe(){return this.$store.state.recipesList[this.$route.params.id]}}},Xt={action:"",id:"container"},Zt={id:"ingredientsButtons"},ei={id:"instructionsButtons"};function ti(t,e,i,o,s,r){return d(),u("div",null,[n("form",Xt,[e[5]||(e[5]=B('<input type="text" name="title" id="title" placeholder="title"><label for="drink">drink? :</label><input type="checkbox" name="drink" id="drink"><input type="text" name="description" id="description" placeholder="description"><input type="text" name="imgLink" id="imgLink" placeholder="imgLink"><div id="labels"><label for="amount" style="flex:0.25;">Quantity:</label><label for="ingredientUnit" style="flex:0.25;">Unit:</label><label for="ingredientName" style="flex:0.65;">Ingredient Name:</label><label for="ingredientSection" style="flex:0.25;">Section:</label></div><div id="ingredientsList"></div>',7)),n("div",Zt,[n("button",{type:"button",onClick:e[0]||(e[0]=(...l)=>r.addIngredient&&r.addIngredient(...l))},"Add Ingredient"),s.moreThanOneIngredient?(d(),u("button",{key:0,type:"button",onClick:e[1]||(e[1]=(...l)=>r.removeIngredient&&r.removeIngredient(...l))}," Remove Ingredient ")):p("",!0)]),e[6]||(e[6]=B('<div id="labels"><label for="checked" style="flex:0.25;">Checked:</label><label for="id" style="flex:0.25;">Id:</label><label for="name" style="flex:0.8;">Instruction:</label></div><div id="instructionsList"></div>',2)),n("div",ei,[n("button",{type:"button",onClick:e[2]||(e[2]=(...l)=>r.addInstruction&&r.addInstruction(...l))}," Add Instruction "),s.moreThanOneInstruction?(d(),u("button",{key:0,type:"button",onClick:e[3]||(e[3]=(...l)=>r.removeInstruction&&r.removeInstruction(...l))}," Remove Instruction ")):p("",!0)]),e[7]||(e[7]=n("input",{type:"text",name:"servings",id:"servings",placeholder:"servings"},null,-1)),e[8]||(e[8]=n("input",{type:"text",name:"link",id:"link",placeholder:"link"},null,-1)),n("button",{onClick:e[4]||(e[4]=$((...l)=>r.editFirebase&&r.editFirebase(...l),["prevent"])),type:"submit",id:"updateRecipeBtn"}," Update ")])])}var ii=y(Yt,[["render",ti]]);const ni={name:"loginPage",data(){return{email:"",password:""}},methods:{login(){this.$store.dispatch("login",{email:this.email,password:this.password}).then(()=>{this.$router.push("/")})},loginWithGoogle(){this.$store.dispatch("loginWithGoogle").then(()=>{this.$router.push("/")})}}},si={id:"login"};function ri(t,e,i,o,s,r){return d(),u("div",null,[n("div",si,[n("form",{onSubmit:e[2]||(e[2]=$((...l)=>r.login&&r.login(...l),["prevent"]))},[e[4]||(e[4]=n("h2",null,"Login",-1)),g(n("input",{type:"email",placeholder:"Email address...","onUpdate:modelValue":e[0]||(e[0]=l=>s.email=l)},null,512),[[k,s.email]]),g(n("input",{type:"password",placeholder:"password...","onUpdate:modelValue":e[1]||(e[1]=l=>s.password=l)},null,512),[[k,s.password]]),e[5]||(e[5]=n("button",{type:"submit"},"Login",-1))],32),n("button",{onClick:e[3]||(e[3]=(...l)=>r.loginWithGoogle&&r.loginWithGoogle(...l))},"Sign In with Google")])])}var oi=y(ni,[["render",ri],["__scopeId","data-v-4208a6fe"]]);const li={name:"RegisterPage",data(){return{email:"",password:""}},methods:{register(){this.$store.dispatch("register",{email:this.email,password:this.password}).then(()=>{this.$router.push("/")})}}},ai={id:"register"};function di(t,e,i,o,s,r){return d(),u("div",null,[n("div",ai,[n("form",{onSubmit:e[2]||(e[2]=$((...l)=>r.register&&r.register(...l),["prevent"]))},[e[3]||(e[3]=n("h2",null,"Register",-1)),g(n("input",{type:"email",placeholder:"Email address...","onUpdate:modelValue":e[0]||(e[0]=l=>s.email=l)},null,512),[[k,s.email]]),g(n("input",{type:"password",placeholder:"password...","onUpdate:modelValue":e[1]||(e[1]=l=>s.password=l)},null,512),[[k,s.password]]),e[4]||(e[4]=n("button",{type:"submit"},"Register",-1))],32)])])}var ci=y(li,[["render",di],["__scopeId","data-v-8377a67a"]]);const ui={apiKey:"AIzaSyDqfqIZoRXgkZJadMG5km-YZa3O1x344uA",authDomain:"foodlist-0921.firebaseapp.com",databaseURL:"https://foodlist-0921-default-rtdb.europe-west1.firebasedatabase.app",projectId:"foodlist-0921",storageBucket:"foodlist-0921.appspot.com",messagingSenderId:"652727898134",appId:"1:652727898134:web:bbdf18c26aa6696fe12537"};I.initializeApp(ui);const v=J({state:{recipesList:[],recipesReady:!1,currentUser:null,authIsReady:!1,selectedRecipe:null,admin:!1},mutations:{setRecipesList(t,e){t.recipesList=e},addToRecipesList(t,e){t.recipesList.push(e)},removeFromRecipesList(t,e){t.recipesList.splice(e,1)},changeRecipeList(t,e){t.recipesList[e.index]=e.recipe},setRecipesReady(t,e){t.recipesReady=e},setSelectedRecipe(t,e){t.selectedRecipe=e},setCurrentUser(t,e){t.currentUser=e},setAuthIsReady(t,e){t.authIsReady=e},setAdmin(t,e){t.admin=e}},actions:{async fetchRecipesList(t){let e=I.database().ref("recipes");e.on("child_added",i=>{t.commit("addToRecipesList",i.val()),t.commit("setRecipesReady",!0)}),e.on("child_removed",i=>{let o=v.state.recipesList.findIndex(s=>s.recipeId===i.val().recipeId);t.commit("removeFromRecipesList",o)}),e.on("child_changed",i=>{let o=v.state.recipesList.findIndex(s=>s.recipeId===i.val().recipeId);t.commit("changeRecipeList",{index:o,recipe:i.val()})})},async login(t,e){let i=await I.auth().signInWithEmailAndPassword(e.email,e.password);if(i)t.commit("setCurrentUser",i);else throw new Error("Login failed")},async loginWithGoogle(t){let e=new I.auth.GoogleAuthProvider,i=await I.auth().signInWithPopup(e);if(i)t.commit("setCurrentUser",i);else throw new Error("Login with Google failed")},async checkAdmin(t){v.state.currentUser&&(v.state.currentUser.email=="jacob.klaren@me.com"||v.state.currentUser.email=="klarenjacob00@gmail.com")&&t.commit("setAdmin",!0)},async register(t,e){let i=await I.auth().createUserWithEmailAndPassword(e.email,e.password);if(i)t.commit("setCurrentUser",i);else throw new Error("Register failed")},async logout(t){await I.auth().signOut(),t.commit("setCurrentUser",null)}},getters:{}});I.auth().onAuthStateChanged(t=>{v.commit("setAuthIsReady",!0),v.commit("setCurrentUser",t),v.dispatch("checkAdmin")});v.dispatch("fetchRecipesList");const pi=[{path:"/",name:"recipeList",component:O,meta:{title:"RecipeList"}},{path:"/recipe/:id",name:"recipe",component:St,meta:{title:"Recipe"}},{path:"/add",name:"addRecipe",component:Qt,meta:{title:"Add recipe",authRequired:!0}},{path:"/Login",name:"Login",component:oi,meta:{title:"Login",guestRequired:!0}},{path:"/Register",name:"Register",component:ci,meta:{title:"Register",guestRequired:!0}},{path:"/edit/:id",name:"editRecipe",component:ii,meta:{title:"Edit recipe",authRequired:!0}},{path:"/:catchAll(.*)",name:"NotFound",component:O,meta:{title:"RecipeList"}}],T=Q({history:Y(),routes:pi});function mi(){return new Promise(t=>{if(v.state.authIsReady)t();else{const e=v.watch(i=>i.authIsReady,i=>{i&&(e(),t())})}})}T.beforeEach((t,e,i)=>{t.matched.some(o=>o.meta.authRequired)?mi().then(()=>{v.state.currentUser?i():(alert("You must be logged in to see this page"),i({path:"/Login"}))}):i()});T.beforeEach((t,e,i)=>{t.matched.some(o=>o.meta.guestRequired)&&v.state.currentUser||i()});T.beforeEach((t,e,i)=>{e.matched.some(o=>o.meta.title==="RecipeList")&&(localStorage.setItem("scrollLength",window.pageYOffset||(document.documentElement||document.body.parentNode||document.body).scrollTop),console.log("Scrolled to: "+localStorage.getItem("scrollLength"))),i()});T.beforeEach((t,e,i)=>{t.matched.some(o=>o.meta.title!=="RecipeList")&&window.scrollTo(0,0),i()});T.beforeEach((t,e,i)=>{const o=t.matched.slice().reverse().find(l=>l.meta&&l.meta.title),s=t.matched.slice().reverse().find(l=>l.meta&&l.meta.metaTags),r=e.matched.slice().reverse().find(l=>l.meta&&l.meta.metaTags);if(o?document.title=o.meta.title:r&&(document.title=r.meta.title),Array.from(document.querySelectorAll("[data-vue-router-controlled]")).map(l=>l.parentNode.removeChild(l)),!s)return i();s.meta.metaTags.map(l=>{const a=document.createElement("meta");return Object.keys(l).forEach(c=>{a.setAttribute(c,l[c])}),a.setAttribute("data-vue-router-controlled",""),a}).forEach(l=>document.head.appendChild(l)),i()});X(ue).use(T).use(v).use(Z,{theme:{preset:ee,options:{darkModeSelector:!1}}}).mount("#app");
