function qh(e,n){const r=Object.create(null),o=e.split(",");for(let s=0;s<o.length;s++)r[o[s]]=!0;return n?s=>!!r[s.toLowerCase()]:s=>!!r[s]}const kC="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",PC=qh(kC);function I_(e){return!!e||e===""}function zh(e){if(ne(e)){const n={};for(let r=0;r<e.length;r++){const o=e[r],s=ot(o)?DC(o):zh(o);if(s)for(const u in s)n[u]=s[u]}return n}else{if(ot(e))return e;if(Je(e))return e}}const OC=/;(?![^(]*\))/g,xC=/:(.+)/;function DC(e){const n={};return e.split(OC).forEach(r=>{if(r){const o=r.split(xC);o.length>1&&(n[o[0].trim()]=o[1].trim())}}),n}function $h(e){let n="";if(ot(e))n=e;else if(ne(e))for(let r=0;r<e.length;r++){const o=$h(e[r]);o&&(n+=o+" ")}else if(Je(e))for(const r in e)e[r]&&(n+=r+" ");return n.trim()}function LC(e,n){if(e.length!==n.length)return!1;let r=!0;for(let o=0;r&&o<e.length;o++)r=Ws(e[o],n[o]);return r}function Ws(e,n){if(e===n)return!0;let r=jm(e),o=jm(n);if(r||o)return r&&o?e.getTime()===n.getTime():!1;if(r=ne(e),o=ne(n),r||o)return r&&o?LC(e,n):!1;if(r=Je(e),o=Je(n),r||o){if(!r||!o)return!1;const s=Object.keys(e).length,u=Object.keys(n).length;if(s!==u)return!1;for(const l in e){const h=e.hasOwnProperty(l),f=n.hasOwnProperty(l);if(h&&!f||!h&&f||!Ws(e[l],n[l]))return!1}}return String(e)===String(n)}function Yh(e,n){return e.findIndex(r=>Ws(r,n))}const _1=e=>ot(e)?e:e==null?"":ne(e)||Je(e)&&(e.toString===S_||!pe(e.toString))?JSON.stringify(e,T_,2):String(e),T_=(e,n)=>n&&n.__v_isRef?T_(e,n.value):Qi(n)?{[`Map(${n.size})`]:[...n.entries()].reduce((r,[o,s])=>(r[`${o} =>`]=s,r),{})}:co(n)?{[`Set(${n.size})`]:[...n.values()]}:Je(n)&&!ne(n)&&!A_(n)?String(n):n,je={},Yi=[],yn=()=>{},MC=()=>!1,FC=/^on[^a-z]/,ju=e=>FC.test(e),Qh=e=>e.startsWith("onUpdate:"),ht=Object.assign,Xh=(e,n)=>{const r=e.indexOf(n);r>-1&&e.splice(r,1)},jC=Object.prototype.hasOwnProperty,Ee=(e,n)=>jC.call(e,n),ne=Array.isArray,Qi=e=>Uu(e)==="[object Map]",co=e=>Uu(e)==="[object Set]",jm=e=>e instanceof Date,pe=e=>typeof e=="function",ot=e=>typeof e=="string",Jh=e=>typeof e=="symbol",Je=e=>e!==null&&typeof e=="object",C_=e=>Je(e)&&pe(e.then)&&pe(e.catch),S_=Object.prototype.toString,Uu=e=>S_.call(e),UC=e=>Uu(e).slice(8,-1),A_=e=>Uu(e)==="[object Object]",Zh=e=>ot(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,uu=qh(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Vu=e=>{const n=Object.create(null);return r=>n[r]||(n[r]=e(r))},VC=/-(\w)/g,xn=Vu(e=>e.replace(VC,(n,r)=>r?r.toUpperCase():"")),BC=/\B([A-Z])/g,fo=Vu(e=>e.replace(BC,"-$1").toLowerCase()),Bu=Vu(e=>e.charAt(0).toUpperCase()+e.slice(1)),Gf=Vu(e=>e?`on${Bu(e)}`:""),Cs=(e,n)=>!Object.is(e,n),lu=(e,n)=>{for(let r=0;r<e.length;r++)e[r](n)},vu=(e,n,r)=>{Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value:r})},Ss=e=>{const n=parseFloat(e);return isNaN(n)?e:n};let Um;const WC=()=>Um||(Um=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let Gn;class HC{constructor(n=!1){this.active=!0,this.effects=[],this.cleanups=[],!n&&Gn&&(this.parent=Gn,this.index=(Gn.scopes||(Gn.scopes=[])).push(this)-1)}run(n){if(this.active)try{return Gn=this,n()}finally{Gn=this.parent}}on(){Gn=this}off(){Gn=this.parent}stop(n){if(this.active){let r,o;for(r=0,o=this.effects.length;r<o;r++)this.effects[r].stop();for(r=0,o=this.cleanups.length;r<o;r++)this.cleanups[r]();if(this.scopes)for(r=0,o=this.scopes.length;r<o;r++)this.scopes[r].stop(!0);if(this.parent&&!n){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.active=!1}}}function GC(e,n=Gn){n&&n.active&&n.effects.push(e)}const ed=e=>{const n=new Set(e);return n.w=0,n.n=0,n},N_=e=>(e.w&wr)>0,R_=e=>(e.n&wr)>0,KC=({deps:e})=>{if(e.length)for(let n=0;n<e.length;n++)e[n].w|=wr},qC=e=>{const{deps:n}=e;if(n.length){let r=0;for(let o=0;o<n.length;o++){const s=n[o];N_(s)&&!R_(s)?s.delete(e):n[r++]=s,s.w&=~wr,s.n&=~wr}n.length=r}},sh=new WeakMap;let fs=0,wr=1;const ah=30;let Pn;const ui=Symbol(""),uh=Symbol("");class td{constructor(n,r=null,o){this.fn=n,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,GC(this,o)}run(){if(!this.active)return this.fn();let n=Pn,r=vr;for(;n;){if(n===this)return;n=n.parent}try{return this.parent=Pn,Pn=this,vr=!0,wr=1<<++fs,fs<=ah?KC(this):Vm(this),this.fn()}finally{fs<=ah&&qC(this),wr=1<<--fs,Pn=this.parent,vr=r,this.parent=void 0}}stop(){this.active&&(Vm(this),this.onStop&&this.onStop(),this.active=!1)}}function Vm(e){const{deps:n}=e;if(n.length){for(let r=0;r<n.length;r++)n[r].delete(e);n.length=0}}let vr=!0;const k_=[];function ho(){k_.push(vr),vr=!1}function po(){const e=k_.pop();vr=e===void 0?!0:e}function Gt(e,n,r){if(vr&&Pn){let o=sh.get(e);o||sh.set(e,o=new Map);let s=o.get(r);s||o.set(r,s=ed()),P_(s)}}function P_(e,n){let r=!1;fs<=ah?R_(e)||(e.n|=wr,r=!N_(e)):r=!e.has(Pn),r&&(e.add(Pn),Pn.deps.push(e))}function Yn(e,n,r,o,s,u){const l=sh.get(e);if(!l)return;let h=[];if(n==="clear")h=[...l.values()];else if(r==="length"&&ne(e))l.forEach((f,p)=>{(p==="length"||p>=o)&&h.push(f)});else switch(r!==void 0&&h.push(l.get(r)),n){case"add":ne(e)?Zh(r)&&h.push(l.get("length")):(h.push(l.get(ui)),Qi(e)&&h.push(l.get(uh)));break;case"delete":ne(e)||(h.push(l.get(ui)),Qi(e)&&h.push(l.get(uh)));break;case"set":Qi(e)&&h.push(l.get(ui));break}if(h.length===1)h[0]&&lh(h[0]);else{const f=[];for(const p of h)p&&f.push(...p);lh(ed(f))}}function lh(e,n){for(const r of ne(e)?e:[...e])(r!==Pn||r.allowRecurse)&&(r.scheduler?r.scheduler():r.run())}const zC=qh("__proto__,__v_isRef,__isVue"),O_=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(Jh)),$C=nd(),YC=nd(!1,!0),QC=nd(!0),Bm=XC();function XC(){const e={};return["includes","indexOf","lastIndexOf"].forEach(n=>{e[n]=function(...r){const o=Te(this);for(let u=0,l=this.length;u<l;u++)Gt(o,"get",u+"");const s=o[n](...r);return s===-1||s===!1?o[n](...r.map(Te)):s}}),["push","pop","shift","unshift","splice"].forEach(n=>{e[n]=function(...r){ho();const o=Te(this)[n].apply(this,r);return po(),o}}),e}function nd(e=!1,n=!1){return function(o,s,u){if(s==="__v_isReactive")return!e;if(s==="__v_isReadonly")return e;if(s==="__v_isShallow")return n;if(s==="__v_raw"&&u===(e?n?dS:F_:n?M_:L_).get(o))return o;const l=ne(o);if(!e&&l&&Ee(Bm,s))return Reflect.get(Bm,s,u);const h=Reflect.get(o,s,u);return(Jh(s)?O_.has(s):zC(s))||(e||Gt(o,"get",s),n)?h:pt(h)?!l||!Zh(s)?h.value:h:Je(h)?e?j_(h):Hs(h):h}}const JC=x_(),ZC=x_(!0);function x_(e=!1){return function(r,o,s,u){let l=r[o];if(As(l)&&pt(l)&&!pt(s))return!1;if(!e&&!As(s)&&(U_(s)||(s=Te(s),l=Te(l)),!ne(r)&&pt(l)&&!pt(s)))return l.value=s,!0;const h=ne(r)&&Zh(o)?Number(o)<r.length:Ee(r,o),f=Reflect.set(r,o,s,u);return r===Te(u)&&(h?Cs(s,l)&&Yn(r,"set",o,s):Yn(r,"add",o,s)),f}}function eS(e,n){const r=Ee(e,n);e[n];const o=Reflect.deleteProperty(e,n);return o&&r&&Yn(e,"delete",n,void 0),o}function tS(e,n){const r=Reflect.has(e,n);return(!Jh(n)||!O_.has(n))&&Gt(e,"has",n),r}function nS(e){return Gt(e,"iterate",ne(e)?"length":ui),Reflect.ownKeys(e)}const D_={get:$C,set:JC,deleteProperty:eS,has:tS,ownKeys:nS},rS={get:QC,set(e,n){return!0},deleteProperty(e,n){return!0}},iS=ht({},D_,{get:YC,set:ZC}),rd=e=>e,Wu=e=>Reflect.getPrototypeOf(e);function tu(e,n,r=!1,o=!1){e=e.__v_raw;const s=Te(e),u=Te(n);n!==u&&!r&&Gt(s,"get",n),!r&&Gt(s,"get",u);const{has:l}=Wu(s),h=o?rd:r?sd:Ns;if(l.call(s,n))return h(e.get(n));if(l.call(s,u))return h(e.get(u));e!==s&&e.get(n)}function nu(e,n=!1){const r=this.__v_raw,o=Te(r),s=Te(e);return e!==s&&!n&&Gt(o,"has",e),!n&&Gt(o,"has",s),e===s?r.has(e):r.has(e)||r.has(s)}function ru(e,n=!1){return e=e.__v_raw,!n&&Gt(Te(e),"iterate",ui),Reflect.get(e,"size",e)}function Wm(e){e=Te(e);const n=Te(this);return Wu(n).has.call(n,e)||(n.add(e),Yn(n,"add",e,e)),this}function Hm(e,n){n=Te(n);const r=Te(this),{has:o,get:s}=Wu(r);let u=o.call(r,e);u||(e=Te(e),u=o.call(r,e));const l=s.call(r,e);return r.set(e,n),u?Cs(n,l)&&Yn(r,"set",e,n):Yn(r,"add",e,n),this}function Gm(e){const n=Te(this),{has:r,get:o}=Wu(n);let s=r.call(n,e);s||(e=Te(e),s=r.call(n,e)),o&&o.call(n,e);const u=n.delete(e);return s&&Yn(n,"delete",e,void 0),u}function Km(){const e=Te(this),n=e.size!==0,r=e.clear();return n&&Yn(e,"clear",void 0,void 0),r}function iu(e,n){return function(o,s){const u=this,l=u.__v_raw,h=Te(l),f=n?rd:e?sd:Ns;return!e&&Gt(h,"iterate",ui),l.forEach((p,v)=>o.call(s,f(p),f(v),u))}}function ou(e,n,r){return function(...o){const s=this.__v_raw,u=Te(s),l=Qi(u),h=e==="entries"||e===Symbol.iterator&&l,f=e==="keys"&&l,p=s[e](...o),v=r?rd:n?sd:Ns;return!n&&Gt(u,"iterate",f?uh:ui),{next(){const{value:y,done:_}=p.next();return _?{value:y,done:_}:{value:h?[v(y[0]),v(y[1])]:v(y),done:_}},[Symbol.iterator](){return this}}}}function sr(e){return function(...n){return e==="delete"?!1:this}}function oS(){const e={get(u){return tu(this,u)},get size(){return ru(this)},has:nu,add:Wm,set:Hm,delete:Gm,clear:Km,forEach:iu(!1,!1)},n={get(u){return tu(this,u,!1,!0)},get size(){return ru(this)},has:nu,add:Wm,set:Hm,delete:Gm,clear:Km,forEach:iu(!1,!0)},r={get(u){return tu(this,u,!0)},get size(){return ru(this,!0)},has(u){return nu.call(this,u,!0)},add:sr("add"),set:sr("set"),delete:sr("delete"),clear:sr("clear"),forEach:iu(!0,!1)},o={get(u){return tu(this,u,!0,!0)},get size(){return ru(this,!0)},has(u){return nu.call(this,u,!0)},add:sr("add"),set:sr("set"),delete:sr("delete"),clear:sr("clear"),forEach:iu(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(u=>{e[u]=ou(u,!1,!1),r[u]=ou(u,!0,!1),n[u]=ou(u,!1,!0),o[u]=ou(u,!0,!0)}),[e,r,n,o]}const[sS,aS,uS,lS]=oS();function id(e,n){const r=n?e?lS:uS:e?aS:sS;return(o,s,u)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?o:Reflect.get(Ee(r,s)&&s in o?r:o,s,u)}const cS={get:id(!1,!1)},fS={get:id(!1,!0)},hS={get:id(!0,!1)},L_=new WeakMap,M_=new WeakMap,F_=new WeakMap,dS=new WeakMap;function pS(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function vS(e){return e.__v_skip||!Object.isExtensible(e)?0:pS(UC(e))}function Hs(e){return As(e)?e:od(e,!1,D_,cS,L_)}function gS(e){return od(e,!1,iS,fS,M_)}function j_(e){return od(e,!0,rS,hS,F_)}function od(e,n,r,o,s){if(!Je(e)||e.__v_raw&&!(n&&e.__v_isReactive))return e;const u=s.get(e);if(u)return u;const l=vS(e);if(l===0)return e;const h=new Proxy(e,l===2?o:r);return s.set(e,h),h}function Xi(e){return As(e)?Xi(e.__v_raw):!!(e&&e.__v_isReactive)}function As(e){return!!(e&&e.__v_isReadonly)}function U_(e){return!!(e&&e.__v_isShallow)}function V_(e){return Xi(e)||As(e)}function Te(e){const n=e&&e.__v_raw;return n?Te(n):e}function B_(e){return vu(e,"__v_skip",!0),e}const Ns=e=>Je(e)?Hs(e):e,sd=e=>Je(e)?j_(e):e;function W_(e){vr&&Pn&&(e=Te(e),P_(e.dep||(e.dep=ed())))}function H_(e,n){e=Te(e),e.dep&&lh(e.dep)}function pt(e){return!!(e&&e.__v_isRef===!0)}function mS(e){return G_(e,!1)}function yS(e){return G_(e,!0)}function G_(e,n){return pt(e)?e:new _S(e,n)}class _S{constructor(n,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?n:Te(n),this._value=r?n:Ns(n)}get value(){return W_(this),this._value}set value(n){n=this.__v_isShallow?n:Te(n),Cs(n,this._rawValue)&&(this._rawValue=n,this._value=this.__v_isShallow?n:Ns(n),H_(this))}}function ds(e){return pt(e)?e.value:e}const wS={get:(e,n,r)=>ds(Reflect.get(e,n,r)),set:(e,n,r,o)=>{const s=e[n];return pt(s)&&!pt(r)?(s.value=r,!0):Reflect.set(e,n,r,o)}};function K_(e){return Xi(e)?e:new Proxy(e,wS)}class bS{constructor(n,r,o,s){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new td(n,()=>{this._dirty||(this._dirty=!0,H_(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=o}get value(){const n=Te(this);return W_(n),(n._dirty||!n._cacheable)&&(n._dirty=!1,n._value=n.effect.run()),n._value}set value(n){this._setter(n)}}function ES(e,n,r=!1){let o,s;const u=pe(e);return u?(o=e,s=yn):(o=e.get,s=e.set),new bS(o,s,u||!s,r)}Promise.resolve();function gr(e,n,r,o){let s;try{s=o?e(...o):e()}catch(u){Hu(u,n,r)}return s}function nn(e,n,r,o){if(pe(e)){const u=gr(e,n,r,o);return u&&C_(u)&&u.catch(l=>{Hu(l,n,r)}),u}const s=[];for(let u=0;u<e.length;u++)s.push(nn(e[u],n,r,o));return s}function Hu(e,n,r,o=!0){const s=n?n.vnode:null;if(n){let u=n.parent;const l=n.proxy,h=r;for(;u;){const p=u.ec;if(p){for(let v=0;v<p.length;v++)if(p[v](e,l,h)===!1)return}u=u.parent}const f=n.appContext.config.errorHandler;if(f){gr(f,null,10,[e,l,h]);return}}IS(e,r,s,o)}function IS(e,n,r,o=!0){console.error(e)}let gu=!1,ch=!1;const Wt=[];let qn=0;const ps=[];let hs=null,Ki=0;const vs=[];let cr=null,qi=0;const q_=Promise.resolve();let ad=null,fh=null;function z_(e){const n=ad||q_;return e?n.then(this?e.bind(this):e):n}function TS(e){let n=qn+1,r=Wt.length;for(;n<r;){const o=n+r>>>1;Rs(Wt[o])<e?n=o+1:r=o}return n}function $_(e){(!Wt.length||!Wt.includes(e,gu&&e.allowRecurse?qn+1:qn))&&e!==fh&&(e.id==null?Wt.push(e):Wt.splice(TS(e.id),0,e),Y_())}function Y_(){!gu&&!ch&&(ch=!0,ad=q_.then(J_))}function CS(e){const n=Wt.indexOf(e);n>qn&&Wt.splice(n,1)}function Q_(e,n,r,o){ne(e)?r.push(...e):(!n||!n.includes(e,e.allowRecurse?o+1:o))&&r.push(e),Y_()}function SS(e){Q_(e,hs,ps,Ki)}function AS(e){Q_(e,cr,vs,qi)}function ud(e,n=null){if(ps.length){for(fh=n,hs=[...new Set(ps)],ps.length=0,Ki=0;Ki<hs.length;Ki++)hs[Ki]();hs=null,Ki=0,fh=null,ud(e,n)}}function X_(e){if(vs.length){const n=[...new Set(vs)];if(vs.length=0,cr){cr.push(...n);return}for(cr=n,cr.sort((r,o)=>Rs(r)-Rs(o)),qi=0;qi<cr.length;qi++)cr[qi]();cr=null,qi=0}}const Rs=e=>e.id==null?1/0:e.id;function J_(e){ch=!1,gu=!0,ud(e),Wt.sort((r,o)=>Rs(r)-Rs(o));const n=yn;try{for(qn=0;qn<Wt.length;qn++){const r=Wt[qn];r&&r.active!==!1&&gr(r,null,14)}}finally{qn=0,Wt.length=0,X_(),gu=!1,ad=null,(Wt.length||ps.length||vs.length)&&J_(e)}}function NS(e,n,...r){const o=e.vnode.props||je;let s=r;const u=n.startsWith("update:"),l=u&&n.slice(7);if(l&&l in o){const v=`${l==="modelValue"?"model":l}Modifiers`,{number:y,trim:_}=o[v]||je;_?s=r.map(w=>w.trim()):y&&(s=r.map(Ss))}let h,f=o[h=Gf(n)]||o[h=Gf(xn(n))];!f&&u&&(f=o[h=Gf(fo(n))]),f&&nn(f,e,6,s);const p=o[h+"Once"];if(p){if(!e.emitted)e.emitted={};else if(e.emitted[h])return;e.emitted[h]=!0,nn(p,e,6,s)}}function Z_(e,n,r=!1){const o=n.emitsCache,s=o.get(e);if(s!==void 0)return s;const u=e.emits;let l={},h=!1;if(!pe(e)){const f=p=>{const v=Z_(p,n,!0);v&&(h=!0,ht(l,v))};!r&&n.mixins.length&&n.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}return!u&&!h?(o.set(e,null),null):(ne(u)?u.forEach(f=>l[f]=null):ht(l,u),o.set(e,l),l)}function ld(e,n){return!e||!ju(n)?!1:(n=n.slice(2).replace(/Once$/,""),Ee(e,n[0].toLowerCase()+n.slice(1))||Ee(e,fo(n))||Ee(e,n))}let Zt=null,Gu=null;function mu(e){const n=Zt;return Zt=e,Gu=e&&e.type.__scopeId||null,n}function w1(e){Gu=e}function b1(){Gu=null}function RS(e,n=Zt,r){if(!n||e._n)return e;const o=(...s)=>{o._d&&ny(-1);const u=mu(n),l=e(...s);return mu(u),o._d&&ny(1),l};return o._n=!0,o._c=!0,o._d=!0,o}function Kf(e){const{type:n,vnode:r,proxy:o,withProxy:s,props:u,propsOptions:[l],slots:h,attrs:f,emit:p,render:v,renderCache:y,data:_,setupState:w,ctx:C,inheritAttrs:R}=e;let S,k;const U=mu(e);try{if(r.shapeFlag&4){const se=s||o;S=Rn(v.call(se,se,y,u,w,_,C)),k=f}else{const se=n;S=Rn(se.length>1?se(u,{attrs:f,slots:h,emit:p}):se(u,null)),k=n.props?f:kS(f)}}catch(se){gs.length=0,Hu(se,e,1),S=Tt(Dn)}let J=S;if(k&&R!==!1){const se=Object.keys(k),{shapeFlag:Ae}=J;se.length&&Ae&7&&(l&&se.some(Qh)&&(k=PS(k,l)),J=Zi(J,k))}return r.dirs&&(J.dirs=J.dirs?J.dirs.concat(r.dirs):r.dirs),r.transition&&(J.transition=r.transition),S=J,mu(U),S}const kS=e=>{let n;for(const r in e)(r==="class"||r==="style"||ju(r))&&((n||(n={}))[r]=e[r]);return n},PS=(e,n)=>{const r={};for(const o in e)(!Qh(o)||!(o.slice(9)in n))&&(r[o]=e[o]);return r};function OS(e,n,r){const{props:o,children:s,component:u}=e,{props:l,children:h,patchFlag:f}=n,p=u.emitsOptions;if(n.dirs||n.transition)return!0;if(r&&f>=0){if(f&1024)return!0;if(f&16)return o?qm(o,l,p):!!l;if(f&8){const v=n.dynamicProps;for(let y=0;y<v.length;y++){const _=v[y];if(l[_]!==o[_]&&!ld(p,_))return!0}}}else return(s||h)&&(!h||!h.$stable)?!0:o===l?!1:o?l?qm(o,l,p):!0:!!l;return!1}function qm(e,n,r){const o=Object.keys(n);if(o.length!==Object.keys(e).length)return!0;for(let s=0;s<o.length;s++){const u=o[s];if(n[u]!==e[u]&&!ld(r,u))return!0}return!1}function xS({vnode:e,parent:n},r){for(;n&&n.subTree===e;)(e=n.vnode).el=r,n=n.parent}const DS=e=>e.__isSuspense;function LS(e,n){n&&n.pendingBranch?ne(e)?n.effects.push(...e):n.effects.push(e):AS(e)}function cu(e,n){if(ft){let r=ft.provides;const o=ft.parent&&ft.parent.provides;o===r&&(r=ft.provides=Object.create(o)),r[e]=n}}function mr(e,n,r=!1){const o=ft||Zt;if(o){const s=o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides;if(s&&e in s)return s[e];if(arguments.length>1)return r&&pe(n)?n.call(o.proxy):n}}const zm={};function fu(e,n,r){return ew(e,n,r)}function ew(e,n,{immediate:r,deep:o,flush:s,onTrack:u,onTrigger:l}=je){const h=ft;let f,p=!1,v=!1;if(pt(e)?(f=()=>e.value,p=U_(e)):Xi(e)?(f=()=>e,o=!0):ne(e)?(v=!0,p=e.some(Xi),f=()=>e.map(k=>{if(pt(k))return k.value;if(Xi(k))return oi(k);if(pe(k))return gr(k,h,2)})):pe(e)?n?f=()=>gr(e,h,2):f=()=>{if(!(h&&h.isUnmounted))return y&&y(),nn(e,h,3,[_])}:f=yn,n&&o){const k=f;f=()=>oi(k())}let y,_=k=>{y=S.onStop=()=>{gr(k,h,4)}};if(Os)return _=yn,n?r&&nn(n,h,3,[f(),v?[]:void 0,_]):f(),yn;let w=v?[]:zm;const C=()=>{if(!!S.active)if(n){const k=S.run();(o||p||(v?k.some((U,J)=>Cs(U,w[J])):Cs(k,w)))&&(y&&y(),nn(n,h,3,[k,w===zm?void 0:w,_]),w=k)}else S.run()};C.allowRecurse=!!n;let R;s==="sync"?R=C:s==="post"?R=()=>Ot(C,h&&h.suspense):R=()=>{!h||h.isMounted?SS(C):C()};const S=new td(f,R);return n?r?C():w=S.run():s==="post"?Ot(S.run.bind(S),h&&h.suspense):S.run(),()=>{S.stop(),h&&h.scope&&Xh(h.scope.effects,S)}}function MS(e,n,r){const o=this.proxy,s=ot(e)?e.includes(".")?tw(o,e):()=>o[e]:e.bind(o,o);let u;pe(n)?u=n:(u=n.handler,r=n);const l=ft;eo(this);const h=ew(s,u.bind(o),r);return l?eo(l):ci(),h}function tw(e,n){const r=n.split(".");return()=>{let o=e;for(let s=0;s<r.length&&o;s++)o=o[r[s]];return o}}function oi(e,n){if(!Je(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),pt(e))oi(e.value,n);else if(ne(e))for(let r=0;r<e.length;r++)oi(e[r],n);else if(co(e)||Qi(e))e.forEach(r=>{oi(r,n)});else if(A_(e))for(const r in e)oi(e[r],n);return e}function nw(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return aw(()=>{e.isMounted=!0}),lw(()=>{e.isUnmounting=!0}),e}const Jt=[Function,Array],FS={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Jt,onEnter:Jt,onAfterEnter:Jt,onEnterCancelled:Jt,onBeforeLeave:Jt,onLeave:Jt,onAfterLeave:Jt,onLeaveCancelled:Jt,onBeforeAppear:Jt,onAppear:Jt,onAfterAppear:Jt,onAppearCancelled:Jt},setup(e,{slots:n}){const r=Cw(),o=nw();let s;return()=>{const u=n.default&&cd(n.default(),!0);if(!u||!u.length)return;const l=Te(e),{mode:h}=l,f=u[0];if(o.isLeaving)return qf(f);const p=$m(f);if(!p)return qf(f);const v=ks(p,l,o,r);Ps(p,v);const y=r.subTree,_=y&&$m(y);let w=!1;const{getTransitionKey:C}=p.type;if(C){const R=C();s===void 0?s=R:R!==s&&(s=R,w=!0)}if(_&&_.type!==Dn&&(!ni(p,_)||w)){const R=ks(_,l,o,r);if(Ps(_,R),h==="out-in")return o.isLeaving=!0,R.afterLeave=()=>{o.isLeaving=!1,r.update()},qf(f);h==="in-out"&&p.type!==Dn&&(R.delayLeave=(S,k,U)=>{const J=iw(o,_);J[String(_.key)]=_,S._leaveCb=()=>{k(),S._leaveCb=void 0,delete v.delayedLeave},v.delayedLeave=U})}return f}}},rw=FS;function iw(e,n){const{leavingVNodes:r}=e;let o=r.get(n.type);return o||(o=Object.create(null),r.set(n.type,o)),o}function ks(e,n,r,o){const{appear:s,mode:u,persisted:l=!1,onBeforeEnter:h,onEnter:f,onAfterEnter:p,onEnterCancelled:v,onBeforeLeave:y,onLeave:_,onAfterLeave:w,onLeaveCancelled:C,onBeforeAppear:R,onAppear:S,onAfterAppear:k,onAppearCancelled:U}=n,J=String(e.key),se=iw(r,e),Ae=(ae,q)=>{ae&&nn(ae,o,9,q)},G={mode:u,persisted:l,beforeEnter(ae){let q=h;if(!r.isMounted)if(s)q=R||h;else return;ae._leaveCb&&ae._leaveCb(!0);const Ce=se[J];Ce&&ni(e,Ce)&&Ce.el._leaveCb&&Ce.el._leaveCb(),Ae(q,[ae])},enter(ae){let q=f,Ce=p,T=v;if(!r.isMounted)if(s)q=S||f,Ce=k||p,T=U||v;else return;let Qe=!1;const Q=ae._enterCb=He=>{Qe||(Qe=!0,He?Ae(T,[ae]):Ae(Ce,[ae]),G.delayedLeave&&G.delayedLeave(),ae._enterCb=void 0)};q?(q(ae,Q),q.length<=1&&Q()):Q()},leave(ae,q){const Ce=String(e.key);if(ae._enterCb&&ae._enterCb(!0),r.isUnmounting)return q();Ae(y,[ae]);let T=!1;const Qe=ae._leaveCb=Q=>{T||(T=!0,q(),Q?Ae(C,[ae]):Ae(w,[ae]),ae._leaveCb=void 0,se[Ce]===e&&delete se[Ce])};se[Ce]=e,_?(_(ae,Qe),_.length<=1&&Qe()):Qe()},clone(ae){return ks(ae,n,r,o)}};return G}function qf(e){if(Ku(e))return e=Zi(e),e.children=null,e}function $m(e){return Ku(e)?e.children?e.children[0]:void 0:e}function Ps(e,n){e.shapeFlag&6&&e.component?Ps(e.component.subTree,n):e.shapeFlag&128?(e.ssContent.transition=n.clone(e.ssContent),e.ssFallback.transition=n.clone(e.ssFallback)):e.transition=n}function cd(e,n=!1){let r=[],o=0;for(let s=0;s<e.length;s++){const u=e[s];u.type===gn?(u.patchFlag&128&&o++,r=r.concat(cd(u.children,n))):(n||u.type!==Dn)&&r.push(u)}if(o>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}function ow(e){return pe(e)?{setup:e,name:e.name}:e}const hh=e=>!!e.type.__asyncLoader,Ku=e=>e.type.__isKeepAlive;function jS(e,n){sw(e,"a",n)}function US(e,n){sw(e,"da",n)}function sw(e,n,r=ft){const o=e.__wdc||(e.__wdc=()=>{let s=r;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(qu(n,o,r),r){let s=r.parent;for(;s&&s.parent;)Ku(s.parent.vnode)&&VS(o,n,r,s),s=s.parent}}function VS(e,n,r,o){const s=qu(n,e,o,!0);cw(()=>{Xh(o[n],s)},r)}function qu(e,n,r=ft,o=!1){if(r){const s=r[e]||(r[e]=[]),u=n.__weh||(n.__weh=(...l)=>{if(r.isUnmounted)return;ho(),eo(r);const h=nn(n,r,e,l);return ci(),po(),h});return o?s.unshift(u):s.push(u),u}}const Xn=e=>(n,r=ft)=>(!Os||e==="sp")&&qu(e,n,r),BS=Xn("bm"),aw=Xn("m"),WS=Xn("bu"),uw=Xn("u"),lw=Xn("bum"),cw=Xn("um"),HS=Xn("sp"),GS=Xn("rtg"),KS=Xn("rtc");function qS(e,n=ft){qu("ec",e,n)}let dh=!0;function zS(e){const n=hw(e),r=e.proxy,o=e.ctx;dh=!1,n.beforeCreate&&Ym(n.beforeCreate,e,"bc");const{data:s,computed:u,methods:l,watch:h,provide:f,inject:p,created:v,beforeMount:y,mounted:_,beforeUpdate:w,updated:C,activated:R,deactivated:S,beforeDestroy:k,beforeUnmount:U,destroyed:J,unmounted:se,render:Ae,renderTracked:G,renderTriggered:ae,errorCaptured:q,serverPrefetch:Ce,expose:T,inheritAttrs:Qe,components:Q,directives:He,filters:at}=n;if(p&&$S(p,o,null,e.appContext.config.unwrapInjectedRef),l)for(const Ne in l){const he=l[Ne];pe(he)&&(o[Ne]=he.bind(r))}if(s){const Ne=s.call(r,r);Je(Ne)&&(e.data=Hs(Ne))}if(dh=!0,u)for(const Ne in u){const he=u[Ne],gt=pe(he)?he.bind(r,r):pe(he.get)?he.get.bind(r,r):yn,Lt=!pe(he)&&pe(he.set)?he.set.bind(r):yn,Mt=kn({get:gt,set:Lt});Object.defineProperty(o,Ne,{enumerable:!0,configurable:!0,get:()=>Mt.value,set:Ft=>Mt.value=Ft})}if(h)for(const Ne in h)fw(h[Ne],o,r,Ne);if(f){const Ne=pe(f)?f.call(r):f;Reflect.ownKeys(Ne).forEach(he=>{cu(he,Ne[he])})}v&&Ym(v,e,"c");function Pe(Ne,he){ne(he)?he.forEach(gt=>Ne(gt.bind(r))):he&&Ne(he.bind(r))}if(Pe(BS,y),Pe(aw,_),Pe(WS,w),Pe(uw,C),Pe(jS,R),Pe(US,S),Pe(qS,q),Pe(KS,G),Pe(GS,ae),Pe(lw,U),Pe(cw,se),Pe(HS,Ce),ne(T))if(T.length){const Ne=e.exposed||(e.exposed={});T.forEach(he=>{Object.defineProperty(Ne,he,{get:()=>r[he],set:gt=>r[he]=gt})})}else e.exposed||(e.exposed={});Ae&&e.render===yn&&(e.render=Ae),Qe!=null&&(e.inheritAttrs=Qe),Q&&(e.components=Q),He&&(e.directives=He)}function $S(e,n,r=yn,o=!1){ne(e)&&(e=ph(e));for(const s in e){const u=e[s];let l;Je(u)?"default"in u?l=mr(u.from||s,u.default,!0):l=mr(u.from||s):l=mr(u),pt(l)&&o?Object.defineProperty(n,s,{enumerable:!0,configurable:!0,get:()=>l.value,set:h=>l.value=h}):n[s]=l}}function Ym(e,n,r){nn(ne(e)?e.map(o=>o.bind(n.proxy)):e.bind(n.proxy),n,r)}function fw(e,n,r,o){const s=o.includes(".")?tw(r,o):()=>r[o];if(ot(e)){const u=n[e];pe(u)&&fu(s,u)}else if(pe(e))fu(s,e.bind(r));else if(Je(e))if(ne(e))e.forEach(u=>fw(u,n,r,o));else{const u=pe(e.handler)?e.handler.bind(r):n[e.handler];pe(u)&&fu(s,u,e)}}function hw(e){const n=e.type,{mixins:r,extends:o}=n,{mixins:s,optionsCache:u,config:{optionMergeStrategies:l}}=e.appContext,h=u.get(n);let f;return h?f=h:!s.length&&!r&&!o?f=n:(f={},s.length&&s.forEach(p=>yu(f,p,l,!0)),yu(f,n,l)),u.set(n,f),f}function yu(e,n,r,o=!1){const{mixins:s,extends:u}=n;u&&yu(e,u,r,!0),s&&s.forEach(l=>yu(e,l,r,!0));for(const l in n)if(!(o&&l==="expose")){const h=YS[l]||r&&r[l];e[l]=h?h(e[l],n[l]):n[l]}return e}const YS={data:Qm,props:Jr,emits:Jr,methods:Jr,computed:Jr,beforeCreate:It,created:It,beforeMount:It,mounted:It,beforeUpdate:It,updated:It,beforeDestroy:It,beforeUnmount:It,destroyed:It,unmounted:It,activated:It,deactivated:It,errorCaptured:It,serverPrefetch:It,components:Jr,directives:Jr,watch:XS,provide:Qm,inject:QS};function Qm(e,n){return n?e?function(){return ht(pe(e)?e.call(this,this):e,pe(n)?n.call(this,this):n)}:n:e}function QS(e,n){return Jr(ph(e),ph(n))}function ph(e){if(ne(e)){const n={};for(let r=0;r<e.length;r++)n[e[r]]=e[r];return n}return e}function It(e,n){return e?[...new Set([].concat(e,n))]:n}function Jr(e,n){return e?ht(ht(Object.create(null),e),n):n}function XS(e,n){if(!e)return n;if(!n)return e;const r=ht(Object.create(null),e);for(const o in n)r[o]=It(e[o],n[o]);return r}function JS(e,n,r,o=!1){const s={},u={};vu(u,zu,1),e.propsDefaults=Object.create(null),dw(e,n,s,u);for(const l in e.propsOptions[0])l in s||(s[l]=void 0);r?e.props=o?s:gS(s):e.type.props?e.props=s:e.props=u,e.attrs=u}function ZS(e,n,r,o){const{props:s,attrs:u,vnode:{patchFlag:l}}=e,h=Te(s),[f]=e.propsOptions;let p=!1;if((o||l>0)&&!(l&16)){if(l&8){const v=e.vnode.dynamicProps;for(let y=0;y<v.length;y++){let _=v[y];const w=n[_];if(f)if(Ee(u,_))w!==u[_]&&(u[_]=w,p=!0);else{const C=xn(_);s[C]=vh(f,h,C,w,e,!1)}else w!==u[_]&&(u[_]=w,p=!0)}}}else{dw(e,n,s,u)&&(p=!0);let v;for(const y in h)(!n||!Ee(n,y)&&((v=fo(y))===y||!Ee(n,v)))&&(f?r&&(r[y]!==void 0||r[v]!==void 0)&&(s[y]=vh(f,h,y,void 0,e,!0)):delete s[y]);if(u!==h)for(const y in u)(!n||!Ee(n,y)&&!0)&&(delete u[y],p=!0)}p&&Yn(e,"set","$attrs")}function dw(e,n,r,o){const[s,u]=e.propsOptions;let l=!1,h;if(n)for(let f in n){if(uu(f))continue;const p=n[f];let v;s&&Ee(s,v=xn(f))?!u||!u.includes(v)?r[v]=p:(h||(h={}))[v]=p:ld(e.emitsOptions,f)||(!(f in o)||p!==o[f])&&(o[f]=p,l=!0)}if(u){const f=Te(r),p=h||je;for(let v=0;v<u.length;v++){const y=u[v];r[y]=vh(s,f,y,p[y],e,!Ee(p,y))}}return l}function vh(e,n,r,o,s,u){const l=e[r];if(l!=null){const h=Ee(l,"default");if(h&&o===void 0){const f=l.default;if(l.type!==Function&&pe(f)){const{propsDefaults:p}=s;r in p?o=p[r]:(eo(s),o=p[r]=f.call(null,n),ci())}else o=f}l[0]&&(u&&!h?o=!1:l[1]&&(o===""||o===fo(r))&&(o=!0))}return o}function pw(e,n,r=!1){const o=n.propsCache,s=o.get(e);if(s)return s;const u=e.props,l={},h=[];let f=!1;if(!pe(e)){const v=y=>{f=!0;const[_,w]=pw(y,n,!0);ht(l,_),w&&h.push(...w)};!r&&n.mixins.length&&n.mixins.forEach(v),e.extends&&v(e.extends),e.mixins&&e.mixins.forEach(v)}if(!u&&!f)return o.set(e,Yi),Yi;if(ne(u))for(let v=0;v<u.length;v++){const y=xn(u[v]);Xm(y)&&(l[y]=je)}else if(u)for(const v in u){const y=xn(v);if(Xm(y)){const _=u[v],w=l[y]=ne(_)||pe(_)?{type:_}:_;if(w){const C=ey(Boolean,w.type),R=ey(String,w.type);w[0]=C>-1,w[1]=R<0||C<R,(C>-1||Ee(w,"default"))&&h.push(y)}}}const p=[l,h];return o.set(e,p),p}function Xm(e){return e[0]!=="$"}function Jm(e){const n=e&&e.toString().match(/^\s*function (\w+)/);return n?n[1]:e===null?"null":""}function Zm(e,n){return Jm(e)===Jm(n)}function ey(e,n){return ne(n)?n.findIndex(r=>Zm(r,e)):pe(n)&&Zm(n,e)?0:-1}const vw=e=>e[0]==="_"||e==="$stable",fd=e=>ne(e)?e.map(Rn):[Rn(e)],eA=(e,n,r)=>{const o=RS((...s)=>fd(n(...s)),r);return o._c=!1,o},gw=(e,n,r)=>{const o=e._ctx;for(const s in e){if(vw(s))continue;const u=e[s];if(pe(u))n[s]=eA(s,u,o);else if(u!=null){const l=fd(u);n[s]=()=>l}}},mw=(e,n)=>{const r=fd(n);e.slots.default=()=>r},tA=(e,n)=>{if(e.vnode.shapeFlag&32){const r=n._;r?(e.slots=Te(n),vu(n,"_",r)):gw(n,e.slots={})}else e.slots={},n&&mw(e,n);vu(e.slots,zu,1)},nA=(e,n,r)=>{const{vnode:o,slots:s}=e;let u=!0,l=je;if(o.shapeFlag&32){const h=n._;h?r&&h===1?u=!1:(ht(s,n),!r&&h===1&&delete s._):(u=!n.$stable,gw(n,s)),l=n}else n&&(mw(e,n),l={default:1});if(u)for(const h in s)!vw(h)&&!(h in l)&&delete s[h]};function E1(e,n){const r=Zt;if(r===null)return e;const o=r.proxy,s=e.dirs||(e.dirs=[]);for(let u=0;u<n.length;u++){let[l,h,f,p=je]=n[u];pe(l)&&(l={mounted:l,updated:l}),l.deep&&oi(h),s.push({dir:l,instance:o,value:h,oldValue:void 0,arg:f,modifiers:p})}return e}function zr(e,n,r,o){const s=e.dirs,u=n&&n.dirs;for(let l=0;l<s.length;l++){const h=s[l];u&&(h.oldValue=u[l].value);let f=h.dir[o];f&&(ho(),nn(f,r,8,[e.el,h,e,n]),po())}}function yw(){return{app:null,config:{isNativeTag:MC,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let rA=0;function iA(e,n){return function(o,s=null){s!=null&&!Je(s)&&(s=null);const u=yw(),l=new Set;let h=!1;const f=u.app={_uid:rA++,_component:o,_props:s,_container:null,_context:u,_instance:null,version:SA,get config(){return u.config},set config(p){},use(p,...v){return l.has(p)||(p&&pe(p.install)?(l.add(p),p.install(f,...v)):pe(p)&&(l.add(p),p(f,...v))),f},mixin(p){return u.mixins.includes(p)||u.mixins.push(p),f},component(p,v){return v?(u.components[p]=v,f):u.components[p]},directive(p,v){return v?(u.directives[p]=v,f):u.directives[p]},mount(p,v,y){if(!h){const _=Tt(o,s);return _.appContext=u,v&&n?n(_,p):e(_,p,y),h=!0,f._container=p,p.__vue_app__=f,vd(_.component)||_.component.proxy}},unmount(){h&&(e(null,f._container),delete f._container.__vue_app__)},provide(p,v){return u.provides[p]=v,f}};return f}}function gh(e,n,r,o,s=!1){if(ne(e)){e.forEach((_,w)=>gh(_,n&&(ne(n)?n[w]:n),r,o,s));return}if(hh(o)&&!s)return;const u=o.shapeFlag&4?vd(o.component)||o.component.proxy:o.el,l=s?null:u,{i:h,r:f}=e,p=n&&n.r,v=h.refs===je?h.refs={}:h.refs,y=h.setupState;if(p!=null&&p!==f&&(ot(p)?(v[p]=null,Ee(y,p)&&(y[p]=null)):pt(p)&&(p.value=null)),pe(f))gr(f,h,12,[l,v]);else{const _=ot(f),w=pt(f);if(_||w){const C=()=>{if(e.f){const R=_?v[f]:f.value;s?ne(R)&&Xh(R,u):ne(R)?R.includes(u)||R.push(u):_?v[f]=[u]:(f.value=[u],e.k&&(v[e.k]=f.value))}else _?(v[f]=l,Ee(y,f)&&(y[f]=l)):pt(f)&&(f.value=l,e.k&&(v[e.k]=l))};l?(C.id=-1,Ot(C,r)):C()}}}const Ot=LS;function oA(e){return sA(e)}function sA(e,n){const r=WC();r.__VUE__=!0;const{insert:o,remove:s,patchProp:u,createElement:l,createText:h,createComment:f,setText:p,setElementText:v,parentNode:y,nextSibling:_,setScopeId:w=yn,cloneNode:C,insertStaticContent:R}=e,S=(E,I,A,P=null,x=null,M=null,H=!1,j=null,V=!!I.dynamicChildren)=>{if(E===I)return;E&&!ni(E,I)&&(P=W(E),wt(E,x,M,!0),E=null),I.patchFlag===-2&&(V=!1,I.dynamicChildren=null);const{type:L,ref:Z,shapeFlag:Y}=I;switch(L){case dd:k(E,I,A,P);break;case Dn:U(E,I,A,P);break;case hu:E==null&&J(I,A,P,H);break;case gn:He(E,I,A,P,x,M,H,j,V);break;default:Y&1?G(E,I,A,P,x,M,H,j,V):Y&6?at(E,I,A,P,x,M,H,j,V):(Y&64||Y&128)&&L.process(E,I,A,P,x,M,H,j,V,Oe)}Z!=null&&x&&gh(Z,E&&E.ref,M,I||E,!I)},k=(E,I,A,P)=>{if(E==null)o(I.el=h(I.children),A,P);else{const x=I.el=E.el;I.children!==E.children&&p(x,I.children)}},U=(E,I,A,P)=>{E==null?o(I.el=f(I.children||""),A,P):I.el=E.el},J=(E,I,A,P)=>{[E.el,E.anchor]=R(E.children,I,A,P,E.el,E.anchor)},se=({el:E,anchor:I},A,P)=>{let x;for(;E&&E!==I;)x=_(E),o(E,A,P),E=x;o(I,A,P)},Ae=({el:E,anchor:I})=>{let A;for(;E&&E!==I;)A=_(E),s(E),E=A;s(I)},G=(E,I,A,P,x,M,H,j,V)=>{H=H||I.type==="svg",E==null?ae(I,A,P,x,M,H,j,V):T(E,I,x,M,H,j,V)},ae=(E,I,A,P,x,M,H,j)=>{let V,L;const{type:Z,props:Y,shapeFlag:ee,transition:ie,patchFlag:X,dirs:xe}=E;if(E.el&&C!==void 0&&X===-1)V=E.el=C(E.el);else{if(V=E.el=l(E.type,M,Y&&Y.is,Y),ee&8?v(V,E.children):ee&16&&Ce(E.children,V,null,P,x,M&&Z!=="foreignObject",H,j),xe&&zr(E,null,P,"created"),Y){for(const De in Y)De!=="value"&&!uu(De)&&u(V,De,null,Y[De],M,E.children,P,x,B);"value"in Y&&u(V,"value",null,Y.value),(L=Y.onVnodeBeforeMount)&&Nn(L,P,E)}q(V,E,E.scopeId,H,P)}xe&&zr(E,null,P,"beforeMount");const we=(!x||x&&!x.pendingBranch)&&ie&&!ie.persisted;we&&ie.beforeEnter(V),o(V,I,A),((L=Y&&Y.onVnodeMounted)||we||xe)&&Ot(()=>{L&&Nn(L,P,E),we&&ie.enter(V),xe&&zr(E,null,P,"mounted")},x)},q=(E,I,A,P,x)=>{if(A&&w(E,A),P)for(let M=0;M<P.length;M++)w(E,P[M]);if(x){let M=x.subTree;if(I===M){const H=x.vnode;q(E,H,H.scopeId,H.slotScopeIds,x.parent)}}},Ce=(E,I,A,P,x,M,H,j,V=0)=>{for(let L=V;L<E.length;L++){const Z=E[L]=j?fr(E[L]):Rn(E[L]);S(null,Z,I,A,P,x,M,H,j)}},T=(E,I,A,P,x,M,H)=>{const j=I.el=E.el;let{patchFlag:V,dynamicChildren:L,dirs:Z}=I;V|=E.patchFlag&16;const Y=E.props||je,ee=I.props||je;let ie;A&&$r(A,!1),(ie=ee.onVnodeBeforeUpdate)&&Nn(ie,A,I,E),Z&&zr(I,E,A,"beforeUpdate"),A&&$r(A,!0);const X=x&&I.type!=="foreignObject";if(L?Qe(E.dynamicChildren,L,j,A,P,X,M):H||gt(E,I,j,null,A,P,X,M,!1),V>0){if(V&16)Q(j,I,Y,ee,A,P,x);else if(V&2&&Y.class!==ee.class&&u(j,"class",null,ee.class,x),V&4&&u(j,"style",Y.style,ee.style,x),V&8){const xe=I.dynamicProps;for(let we=0;we<xe.length;we++){const De=xe[we],At=Y[De],Ve=ee[De];(Ve!==At||De==="value")&&u(j,De,At,Ve,x,E.children,A,P,B)}}V&1&&E.children!==I.children&&v(j,I.children)}else!H&&L==null&&Q(j,I,Y,ee,A,P,x);((ie=ee.onVnodeUpdated)||Z)&&Ot(()=>{ie&&Nn(ie,A,I,E),Z&&zr(I,E,A,"updated")},P)},Qe=(E,I,A,P,x,M,H)=>{for(let j=0;j<I.length;j++){const V=E[j],L=I[j],Z=V.el&&(V.type===gn||!ni(V,L)||V.shapeFlag&70)?y(V.el):A;S(V,L,Z,null,P,x,M,H,!0)}},Q=(E,I,A,P,x,M,H)=>{if(A!==P){for(const j in P){if(uu(j))continue;const V=P[j],L=A[j];V!==L&&j!=="value"&&u(E,j,L,V,H,I.children,x,M,B)}if(A!==je)for(const j in A)!uu(j)&&!(j in P)&&u(E,j,A[j],null,H,I.children,x,M,B);"value"in P&&u(E,"value",A.value,P.value)}},He=(E,I,A,P,x,M,H,j,V)=>{const L=I.el=E?E.el:h(""),Z=I.anchor=E?E.anchor:h("");let{patchFlag:Y,dynamicChildren:ee,slotScopeIds:ie}=I;ie&&(j=j?j.concat(ie):ie),E==null?(o(L,A,P),o(Z,A,P),Ce(I.children,A,Z,x,M,H,j,V)):Y>0&&Y&64&&ee&&E.dynamicChildren?(Qe(E.dynamicChildren,ee,A,x,M,H,j),(I.key!=null||x&&I===x.subTree)&&_w(E,I,!0)):gt(E,I,A,Z,x,M,H,j,V)},at=(E,I,A,P,x,M,H,j,V)=>{I.slotScopeIds=j,E==null?I.shapeFlag&512?x.ctx.activate(I,A,P,H,V):_t(I,A,P,x,M,H,V):Pe(E,I,V)},_t=(E,I,A,P,x,M,H)=>{const j=E.component=_A(E,P,x);if(Ku(E)&&(j.ctx.renderer=Oe),wA(j),j.asyncDep){if(x&&x.registerDep(j,Ne),!E.el){const V=j.subTree=Tt(Dn);U(null,V,I,A)}return}Ne(j,E,I,A,x,M,H)},Pe=(E,I,A)=>{const P=I.component=E.component;if(OS(E,I,A))if(P.asyncDep&&!P.asyncResolved){he(P,I,A);return}else P.next=I,CS(P.update),P.update();else I.component=E.component,I.el=E.el,P.vnode=I},Ne=(E,I,A,P,x,M,H)=>{const j=()=>{if(E.isMounted){let{next:Z,bu:Y,u:ee,parent:ie,vnode:X}=E,xe=Z,we;$r(E,!1),Z?(Z.el=X.el,he(E,Z,H)):Z=X,Y&&lu(Y),(we=Z.props&&Z.props.onVnodeBeforeUpdate)&&Nn(we,ie,Z,X),$r(E,!0);const De=Kf(E),At=E.subTree;E.subTree=De,S(At,De,y(At.el),W(At),E,x,M),Z.el=De.el,xe===null&&xS(E,De.el),ee&&Ot(ee,x),(we=Z.props&&Z.props.onVnodeUpdated)&&Ot(()=>Nn(we,ie,Z,X),x)}else{let Z;const{el:Y,props:ee}=I,{bm:ie,m:X,parent:xe}=E,we=hh(I);if($r(E,!1),ie&&lu(ie),!we&&(Z=ee&&ee.onVnodeBeforeMount)&&Nn(Z,xe,I),$r(E,!0),Y&&fe){const De=()=>{E.subTree=Kf(E),fe(Y,E.subTree,E,x,null)};we?I.type.__asyncLoader().then(()=>!E.isUnmounted&&De()):De()}else{const De=E.subTree=Kf(E);S(null,De,A,P,E,x,M),I.el=De.el}if(X&&Ot(X,x),!we&&(Z=ee&&ee.onVnodeMounted)){const De=I;Ot(()=>Nn(Z,xe,De),x)}I.shapeFlag&256&&E.a&&Ot(E.a,x),E.isMounted=!0,I=A=P=null}},V=E.effect=new td(j,()=>$_(E.update),E.scope),L=E.update=V.run.bind(V);L.id=E.uid,$r(E,!0),L()},he=(E,I,A)=>{I.component=E;const P=E.vnode.props;E.vnode=I,E.next=null,ZS(E,I.props,P,A),nA(E,I.children,A),ho(),ud(void 0,E.update),po()},gt=(E,I,A,P,x,M,H,j,V=!1)=>{const L=E&&E.children,Z=E?E.shapeFlag:0,Y=I.children,{patchFlag:ee,shapeFlag:ie}=I;if(ee>0){if(ee&128){Mt(L,Y,A,P,x,M,H,j,V);return}else if(ee&256){Lt(L,Y,A,P,x,M,H,j,V);return}}ie&8?(Z&16&&B(L,x,M),Y!==L&&v(A,Y)):Z&16?ie&16?Mt(L,Y,A,P,x,M,H,j,V):B(L,x,M,!0):(Z&8&&v(A,""),ie&16&&Ce(Y,A,P,x,M,H,j,V))},Lt=(E,I,A,P,x,M,H,j,V)=>{E=E||Yi,I=I||Yi;const L=E.length,Z=I.length,Y=Math.min(L,Z);let ee;for(ee=0;ee<Y;ee++){const ie=I[ee]=V?fr(I[ee]):Rn(I[ee]);S(E[ee],ie,A,null,x,M,H,j,V)}L>Z?B(E,x,M,!0,!1,Y):Ce(I,A,P,x,M,H,j,V,Y)},Mt=(E,I,A,P,x,M,H,j,V)=>{let L=0;const Z=I.length;let Y=E.length-1,ee=Z-1;for(;L<=Y&&L<=ee;){const ie=E[L],X=I[L]=V?fr(I[L]):Rn(I[L]);if(ni(ie,X))S(ie,X,A,null,x,M,H,j,V);else break;L++}for(;L<=Y&&L<=ee;){const ie=E[Y],X=I[ee]=V?fr(I[ee]):Rn(I[ee]);if(ni(ie,X))S(ie,X,A,null,x,M,H,j,V);else break;Y--,ee--}if(L>Y){if(L<=ee){const ie=ee+1,X=ie<Z?I[ie].el:P;for(;L<=ee;)S(null,I[L]=V?fr(I[L]):Rn(I[L]),A,X,x,M,H,j,V),L++}}else if(L>ee)for(;L<=Y;)wt(E[L],x,M,!0),L++;else{const ie=L,X=L,xe=new Map;for(L=X;L<=ee;L++){const mt=I[L]=V?fr(I[L]):Rn(I[L]);mt.key!=null&&xe.set(mt.key,L)}let we,De=0;const At=ee-X+1;let Ve=!1,bo=0;const jt=new Array(At);for(L=0;L<At;L++)jt[L]=0;for(L=ie;L<=Y;L++){const mt=E[L];if(De>=At){wt(mt,x,M,!0);continue}let We;if(mt.key!=null)We=xe.get(mt.key);else for(we=X;we<=ee;we++)if(jt[we-X]===0&&ni(mt,I[we])){We=we;break}We===void 0?wt(mt,x,M,!0):(jt[We-X]=L+1,We>=bo?bo=We:Ve=!0,S(mt,I[We],A,null,x,M,H,j,V),De++)}const sn=Ve?aA(jt):Yi;for(we=sn.length-1,L=At-1;L>=0;L--){const mt=X+L,We=I[mt],Eo=mt+1<Z?I[mt+1].el:P;jt[L]===0?S(null,We,A,Eo,x,M,H,j,V):Ve&&(we<0||L!==sn[we]?Ft(We,A,Eo,2):we--)}}},Ft=(E,I,A,P,x=null)=>{const{el:M,type:H,transition:j,children:V,shapeFlag:L}=E;if(L&6){Ft(E.component.subTree,I,A,P);return}if(L&128){E.suspense.move(I,A,P);return}if(L&64){H.move(E,I,A,Oe);return}if(H===gn){o(M,I,A);for(let Y=0;Y<V.length;Y++)Ft(V[Y],I,A,P);o(E.anchor,I,A);return}if(H===hu){se(E,I,A);return}if(P!==2&&L&1&&j)if(P===0)j.beforeEnter(M),o(M,I,A),Ot(()=>j.enter(M),x);else{const{leave:Y,delayLeave:ee,afterLeave:ie}=j,X=()=>o(M,I,A),xe=()=>{Y(M,()=>{X(),ie&&ie()})};ee?ee(M,X,xe):xe()}else o(M,I,A)},wt=(E,I,A,P=!1,x=!1)=>{const{type:M,props:H,ref:j,children:V,dynamicChildren:L,shapeFlag:Z,patchFlag:Y,dirs:ee}=E;if(j!=null&&gh(j,null,A,E,!0),Z&256){I.ctx.deactivate(E);return}const ie=Z&1&&ee,X=!hh(E);let xe;if(X&&(xe=H&&H.onVnodeBeforeUnmount)&&Nn(xe,I,E),Z&6)z(E.component,A,P);else{if(Z&128){E.suspense.unmount(A,P);return}ie&&zr(E,null,I,"beforeUnmount"),Z&64?E.type.remove(E,I,A,x,Oe,P):L&&(M!==gn||Y>0&&Y&64)?B(L,I,A,!1,!0):(M===gn&&Y&384||!x&&Z&16)&&B(V,I,A),P&&_i(E)}(X&&(xe=H&&H.onVnodeUnmounted)||ie)&&Ot(()=>{xe&&Nn(xe,I,E),ie&&zr(E,null,I,"unmounted")},A)},_i=E=>{const{type:I,el:A,anchor:P,transition:x}=E;if(I===gn){O(A,P);return}if(I===hu){Ae(E);return}const M=()=>{s(A),x&&!x.persisted&&x.afterLeave&&x.afterLeave()};if(E.shapeFlag&1&&x&&!x.persisted){const{leave:H,delayLeave:j}=x,V=()=>H(A,M);j?j(E.el,M,V):V()}else M()},O=(E,I)=>{let A;for(;E!==I;)A=_(E),s(E),E=A;s(I)},z=(E,I,A)=>{const{bum:P,scope:x,update:M,subTree:H,um:j}=E;P&&lu(P),x.stop(),M&&(M.active=!1,wt(H,E,I,A)),j&&Ot(j,I),Ot(()=>{E.isUnmounted=!0},I),I&&I.pendingBranch&&!I.isUnmounted&&E.asyncDep&&!E.asyncResolved&&E.suspenseId===I.pendingId&&(I.deps--,I.deps===0&&I.resolve())},B=(E,I,A,P=!1,x=!1,M=0)=>{for(let H=M;H<E.length;H++)wt(E[H],I,A,P,x)},W=E=>E.shapeFlag&6?W(E.component.subTree):E.shapeFlag&128?E.suspense.next():_(E.anchor||E.el),Re=(E,I,A)=>{E==null?I._vnode&&wt(I._vnode,null,null,!0):S(I._vnode||null,E,I,null,null,null,A),X_(),I._vnode=E},Oe={p:S,um:wt,m:Ft,r:_i,mt:_t,mc:Ce,pc:gt,pbc:Qe,n:W,o:e};let ce,fe;return n&&([ce,fe]=n(Oe)),{render:Re,hydrate:ce,createApp:iA(Re,ce)}}function $r({effect:e,update:n},r){e.allowRecurse=n.allowRecurse=r}function _w(e,n,r=!1){const o=e.children,s=n.children;if(ne(o)&&ne(s))for(let u=0;u<o.length;u++){const l=o[u];let h=s[u];h.shapeFlag&1&&!h.dynamicChildren&&((h.patchFlag<=0||h.patchFlag===32)&&(h=s[u]=fr(s[u]),h.el=l.el),r||_w(l,h))}}function aA(e){const n=e.slice(),r=[0];let o,s,u,l,h;const f=e.length;for(o=0;o<f;o++){const p=e[o];if(p!==0){if(s=r[r.length-1],e[s]<p){n[o]=s,r.push(o);continue}for(u=0,l=r.length-1;u<l;)h=u+l>>1,e[r[h]]<p?u=h+1:l=h;p<e[r[u]]&&(u>0&&(n[o]=r[u-1]),r[u]=o)}}for(u=r.length,l=r[u-1];u-- >0;)r[u]=l,l=n[l];return r}const uA=e=>e.__isTeleport,hd="components";function I1(e,n){return bw(hd,e,!0,n)||e}const ww=Symbol();function T1(e){return ot(e)?bw(hd,e,!1)||e:e||ww}function bw(e,n,r=!0,o=!1){const s=Zt||ft;if(s){const u=s.type;if(e===hd){const h=TA(u);if(h&&(h===n||h===xn(n)||h===Bu(xn(n))))return u}const l=ty(s[e]||u[e],n)||ty(s.appContext[e],n);return!l&&o?u:l}}function ty(e,n){return e&&(e[n]||e[xn(n)]||e[Bu(xn(n))])}const gn=Symbol(void 0),dd=Symbol(void 0),Dn=Symbol(void 0),hu=Symbol(void 0),gs=[];let li=null;function lA(e=!1){gs.push(li=e?null:[])}function cA(){gs.pop(),li=gs[gs.length-1]||null}let _u=1;function ny(e){_u+=e}function Ew(e){return e.dynamicChildren=_u>0?li||Yi:null,cA(),_u>0&&li&&li.push(e),e}function C1(e,n,r,o,s,u){return Ew(Tw(e,n,r,o,s,u,!0))}function fA(e,n,r,o,s){return Ew(Tt(e,n,r,o,s,!0))}function mh(e){return e?e.__v_isVNode===!0:!1}function ni(e,n){return e.type===n.type&&e.key===n.key}const zu="__vInternal",Iw=({key:e})=>e!=null?e:null,du=({ref:e,ref_key:n,ref_for:r})=>e!=null?ot(e)||pt(e)||pe(e)?{i:Zt,r:e,k:n,f:!!r}:e:null;function Tw(e,n=null,r=null,o=0,s=null,u=e===gn?0:1,l=!1,h=!1){const f={__v_isVNode:!0,__v_skip:!0,type:e,props:n,key:n&&Iw(n),ref:n&&du(n),scopeId:Gu,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:u,patchFlag:o,dynamicProps:s,dynamicChildren:null,appContext:null};return h?(pd(f,r),u&128&&e.normalize(f)):r&&(f.shapeFlag|=ot(r)?8:16),_u>0&&!l&&li&&(f.patchFlag>0||u&6)&&f.patchFlag!==32&&li.push(f),f}const Tt=hA;function hA(e,n=null,r=null,o=0,s=null,u=!1){if((!e||e===ww)&&(e=Dn),mh(e)){const h=Zi(e,n,!0);return r&&pd(h,r),h}if(CA(e)&&(e=e.__vccOpts),n){n=dA(n);let{class:h,style:f}=n;h&&!ot(h)&&(n.class=$h(h)),Je(f)&&(V_(f)&&!ne(f)&&(f=ht({},f)),n.style=zh(f))}const l=ot(e)?1:DS(e)?128:uA(e)?64:Je(e)?4:pe(e)?2:0;return Tw(e,n,r,o,s,l,u,!0)}function dA(e){return e?V_(e)||zu in e?ht({},e):e:null}function Zi(e,n,r=!1){const{props:o,ref:s,patchFlag:u,children:l}=e,h=n?vA(o||{},n):o;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:h,key:h&&Iw(h),ref:n&&n.ref?r&&s?ne(s)?s.concat(du(n)):[s,du(n)]:du(n):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:n&&e.type!==gn?u===-1?16:u|16:u,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Zi(e.ssContent),ssFallback:e.ssFallback&&Zi(e.ssFallback),el:e.el,anchor:e.anchor}}function pA(e=" ",n=0){return Tt(dd,null,e,n)}function S1(e,n){const r=Tt(hu,null,e);return r.staticCount=n,r}function A1(e="",n=!1){return n?(lA(),fA(Dn,null,e)):Tt(Dn,null,e)}function Rn(e){return e==null||typeof e=="boolean"?Tt(Dn):ne(e)?Tt(gn,null,e.slice()):typeof e=="object"?fr(e):Tt(dd,null,String(e))}function fr(e){return e.el===null||e.memo?e:Zi(e)}function pd(e,n){let r=0;const{shapeFlag:o}=e;if(n==null)n=null;else if(ne(n))r=16;else if(typeof n=="object")if(o&65){const s=n.default;s&&(s._c&&(s._d=!1),pd(e,s()),s._c&&(s._d=!0));return}else{r=32;const s=n._;!s&&!(zu in n)?n._ctx=Zt:s===3&&Zt&&(Zt.slots._===1?n._=1:(n._=2,e.patchFlag|=1024))}else pe(n)?(n={default:n,_ctx:Zt},r=32):(n=String(n),o&64?(r=16,n=[pA(n)]):r=8);e.children=n,e.shapeFlag|=r}function vA(...e){const n={};for(let r=0;r<e.length;r++){const o=e[r];for(const s in o)if(s==="class")n.class!==o.class&&(n.class=$h([n.class,o.class]));else if(s==="style")n.style=zh([n.style,o.style]);else if(ju(s)){const u=n[s],l=o[s];l&&u!==l&&!(ne(u)&&u.includes(l))&&(n[s]=u?[].concat(u,l):l)}else s!==""&&(n[s]=o[s])}return n}function Nn(e,n,r,o=null){nn(e,n,7,[r,o])}function N1(e,n,r,o){let s;const u=r&&r[o];if(ne(e)||ot(e)){s=new Array(e.length);for(let l=0,h=e.length;l<h;l++)s[l]=n(e[l],l,void 0,u&&u[l])}else if(typeof e=="number"){s=new Array(e);for(let l=0;l<e;l++)s[l]=n(l+1,l,void 0,u&&u[l])}else if(Je(e))if(e[Symbol.iterator])s=Array.from(e,(l,h)=>n(l,h,void 0,u&&u[h]));else{const l=Object.keys(e);s=new Array(l.length);for(let h=0,f=l.length;h<f;h++){const p=l[h];s[h]=n(e[p],p,h,u&&u[h])}}else s=[];return r&&(r[o]=s),s}const yh=e=>e?Sw(e)?vd(e)||e.proxy:yh(e.parent):null,wu=ht(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>yh(e.parent),$root:e=>yh(e.root),$emit:e=>e.emit,$options:e=>hw(e),$forceUpdate:e=>()=>$_(e.update),$nextTick:e=>z_.bind(e.proxy),$watch:e=>MS.bind(e)}),gA={get({_:e},n){const{ctx:r,setupState:o,data:s,props:u,accessCache:l,type:h,appContext:f}=e;let p;if(n[0]!=="$"){const w=l[n];if(w!==void 0)switch(w){case 1:return o[n];case 2:return s[n];case 4:return r[n];case 3:return u[n]}else{if(o!==je&&Ee(o,n))return l[n]=1,o[n];if(s!==je&&Ee(s,n))return l[n]=2,s[n];if((p=e.propsOptions[0])&&Ee(p,n))return l[n]=3,u[n];if(r!==je&&Ee(r,n))return l[n]=4,r[n];dh&&(l[n]=0)}}const v=wu[n];let y,_;if(v)return n==="$attrs"&&Gt(e,"get",n),v(e);if((y=h.__cssModules)&&(y=y[n]))return y;if(r!==je&&Ee(r,n))return l[n]=4,r[n];if(_=f.config.globalProperties,Ee(_,n))return _[n]},set({_:e},n,r){const{data:o,setupState:s,ctx:u}=e;return s!==je&&Ee(s,n)?(s[n]=r,!0):o!==je&&Ee(o,n)?(o[n]=r,!0):Ee(e.props,n)||n[0]==="$"&&n.slice(1)in e?!1:(u[n]=r,!0)},has({_:{data:e,setupState:n,accessCache:r,ctx:o,appContext:s,propsOptions:u}},l){let h;return!!r[l]||e!==je&&Ee(e,l)||n!==je&&Ee(n,l)||(h=u[0])&&Ee(h,l)||Ee(o,l)||Ee(wu,l)||Ee(s.config.globalProperties,l)},defineProperty(e,n,r){return r.get!=null?this.set(e,n,r.get(),null):r.value!=null&&this.set(e,n,r.value,null),Reflect.defineProperty(e,n,r)}},mA=yw();let yA=0;function _A(e,n,r){const o=e.type,s=(n?n.appContext:e.appContext)||mA,u={uid:yA++,vnode:e,type:o,parent:n,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new HC(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:pw(o,s),emitsOptions:Z_(o,s),emit:null,emitted:null,propsDefaults:je,inheritAttrs:o.inheritAttrs,ctx:je,data:je,props:je,attrs:je,slots:je,refs:je,setupState:je,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return u.ctx={_:u},u.root=n?n.root:u,u.emit=NS.bind(null,u),e.ce&&e.ce(u),u}let ft=null;const Cw=()=>ft||Zt,eo=e=>{ft=e,e.scope.on()},ci=()=>{ft&&ft.scope.off(),ft=null};function Sw(e){return e.vnode.shapeFlag&4}let Os=!1;function wA(e,n=!1){Os=n;const{props:r,children:o}=e.vnode,s=Sw(e);JS(e,r,s,n),tA(e,o);const u=s?bA(e,n):void 0;return Os=!1,u}function bA(e,n){const r=e.type;e.accessCache=Object.create(null),e.proxy=B_(new Proxy(e.ctx,gA));const{setup:o}=r;if(o){const s=e.setupContext=o.length>1?IA(e):null;eo(e),ho();const u=gr(o,e,0,[e.props,s]);if(po(),ci(),C_(u)){if(u.then(ci,ci),n)return u.then(l=>{ry(e,l,n)}).catch(l=>{Hu(l,e,0)});e.asyncDep=u}else ry(e,u,n)}else Aw(e,n)}function ry(e,n,r){pe(n)?e.type.__ssrInlineRender?e.ssrRender=n:e.render=n:Je(n)&&(e.setupState=K_(n)),Aw(e,r)}let iy;function Aw(e,n,r){const o=e.type;if(!e.render){if(!n&&iy&&!o.render){const s=o.template;if(s){const{isCustomElement:u,compilerOptions:l}=e.appContext.config,{delimiters:h,compilerOptions:f}=o,p=ht(ht({isCustomElement:u,delimiters:h},l),f);o.render=iy(s,p)}}e.render=o.render||yn}eo(e),ho(),zS(e),po(),ci()}function EA(e){return new Proxy(e.attrs,{get(n,r){return Gt(e,"get","$attrs"),n[r]}})}function IA(e){const n=o=>{e.exposed=o||{}};let r;return{get attrs(){return r||(r=EA(e))},slots:e.slots,emit:e.emit,expose:n}}function vd(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(K_(B_(e.exposed)),{get(n,r){if(r in n)return n[r];if(r in wu)return wu[r](e)}}))}function TA(e){return pe(e)&&e.displayName||e.name}function CA(e){return pe(e)&&"__vccOpts"in e}const kn=(e,n)=>ES(e,n,Os);function gd(e,n,r){const o=arguments.length;return o===2?Je(n)&&!ne(n)?mh(n)?Tt(e,null,[n]):Tt(e,n):Tt(e,null,n):(o>3?r=Array.prototype.slice.call(arguments,2):o===3&&mh(r)&&(r=[r]),Tt(e,n,r))}const SA="3.2.31",AA="http://www.w3.org/2000/svg",ri=typeof document!="undefined"?document:null,oy=ri&&ri.createElement("template"),NA={insert:(e,n,r)=>{n.insertBefore(e,r||null)},remove:e=>{const n=e.parentNode;n&&n.removeChild(e)},createElement:(e,n,r,o)=>{const s=n?ri.createElementNS(AA,e):ri.createElement(e,r?{is:r}:void 0);return e==="select"&&o&&o.multiple!=null&&s.setAttribute("multiple",o.multiple),s},createText:e=>ri.createTextNode(e),createComment:e=>ri.createComment(e),setText:(e,n)=>{e.nodeValue=n},setElementText:(e,n)=>{e.textContent=n},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>ri.querySelector(e),setScopeId(e,n){e.setAttribute(n,"")},cloneNode(e){const n=e.cloneNode(!0);return"_value"in e&&(n._value=e._value),n},insertStaticContent(e,n,r,o,s,u){const l=r?r.previousSibling:n.lastChild;if(s&&(s===u||s.nextSibling))for(;n.insertBefore(s.cloneNode(!0),r),!(s===u||!(s=s.nextSibling)););else{oy.innerHTML=o?`<svg>${e}</svg>`:e;const h=oy.content;if(o){const f=h.firstChild;for(;f.firstChild;)h.appendChild(f.firstChild);h.removeChild(f)}n.insertBefore(h,r)}return[l?l.nextSibling:n.firstChild,r?r.previousSibling:n.lastChild]}};function RA(e,n,r){const o=e._vtc;o&&(n=(n?[n,...o]:[...o]).join(" ")),n==null?e.removeAttribute("class"):r?e.setAttribute("class",n):e.className=n}function kA(e,n,r){const o=e.style,s=ot(r);if(r&&!s){for(const u in r)_h(o,u,r[u]);if(n&&!ot(n))for(const u in n)r[u]==null&&_h(o,u,"")}else{const u=o.display;s?n!==r&&(o.cssText=r):n&&e.removeAttribute("style"),"_vod"in e&&(o.display=u)}}const sy=/\s*!important$/;function _h(e,n,r){if(ne(r))r.forEach(o=>_h(e,n,o));else if(n.startsWith("--"))e.setProperty(n,r);else{const o=PA(e,n);sy.test(r)?e.setProperty(fo(o),r.replace(sy,""),"important"):e[o]=r}}const ay=["Webkit","Moz","ms"],zf={};function PA(e,n){const r=zf[n];if(r)return r;let o=xn(n);if(o!=="filter"&&o in e)return zf[n]=o;o=Bu(o);for(let s=0;s<ay.length;s++){const u=ay[s]+o;if(u in e)return zf[n]=u}return n}const uy="http://www.w3.org/1999/xlink";function OA(e,n,r,o,s){if(o&&n.startsWith("xlink:"))r==null?e.removeAttributeNS(uy,n.slice(6,n.length)):e.setAttributeNS(uy,n,r);else{const u=PC(n);r==null||u&&!I_(r)?e.removeAttribute(n):e.setAttribute(n,u?"":r)}}function xA(e,n,r,o,s,u,l){if(n==="innerHTML"||n==="textContent"){o&&l(o,s,u),e[n]=r==null?"":r;return}if(n==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=r;const h=r==null?"":r;(e.value!==h||e.tagName==="OPTION")&&(e.value=h),r==null&&e.removeAttribute(n);return}if(r===""||r==null){const h=typeof e[n];if(h==="boolean"){e[n]=I_(r);return}else if(r==null&&h==="string"){e[n]="",e.removeAttribute(n);return}else if(h==="number"){try{e[n]=0}catch{}e.removeAttribute(n);return}}try{e[n]=r}catch{}}let bu=Date.now,Nw=!1;if(typeof window!="undefined"){bu()>document.createEvent("Event").timeStamp&&(bu=()=>performance.now());const e=navigator.userAgent.match(/firefox\/(\d+)/i);Nw=!!(e&&Number(e[1])<=53)}let wh=0;const DA=Promise.resolve(),LA=()=>{wh=0},MA=()=>wh||(DA.then(LA),wh=bu());function dr(e,n,r,o){e.addEventListener(n,r,o)}function FA(e,n,r,o){e.removeEventListener(n,r,o)}function jA(e,n,r,o,s=null){const u=e._vei||(e._vei={}),l=u[n];if(o&&l)l.value=o;else{const[h,f]=UA(n);if(o){const p=u[n]=VA(o,s);dr(e,h,p,f)}else l&&(FA(e,h,l,f),u[n]=void 0)}}const ly=/(?:Once|Passive|Capture)$/;function UA(e){let n;if(ly.test(e)){n={};let r;for(;r=e.match(ly);)e=e.slice(0,e.length-r[0].length),n[r[0].toLowerCase()]=!0}return[fo(e.slice(2)),n]}function VA(e,n){const r=o=>{const s=o.timeStamp||bu();(Nw||s>=r.attached-1)&&nn(BA(o,r.value),n,5,[o])};return r.value=e,r.attached=MA(),r}function BA(e,n){if(ne(n)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},n.map(o=>s=>!s._stopped&&o&&o(s))}else return n}const cy=/^on[a-z]/,WA=(e,n,r,o,s=!1,u,l,h,f)=>{n==="class"?RA(e,o,s):n==="style"?kA(e,r,o):ju(n)?Qh(n)||jA(e,n,r,o,l):(n[0]==="."?(n=n.slice(1),!0):n[0]==="^"?(n=n.slice(1),!1):HA(e,n,o,s))?xA(e,n,o,u,l,h,f):(n==="true-value"?e._trueValue=o:n==="false-value"&&(e._falseValue=o),OA(e,n,o,s))};function HA(e,n,r,o){return o?!!(n==="innerHTML"||n==="textContent"||n in e&&cy.test(n)&&pe(r)):n==="spellcheck"||n==="draggable"||n==="form"||n==="list"&&e.tagName==="INPUT"||n==="type"&&e.tagName==="TEXTAREA"||cy.test(n)&&ot(r)?!1:n in e}const ar="transition",os="animation",Rw=(e,{slots:n})=>gd(rw,Pw(e),n);Rw.displayName="Transition";const kw={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},GA=Rw.props=ht({},rw.props,kw),Yr=(e,n=[])=>{ne(e)?e.forEach(r=>r(...n)):e&&e(...n)},fy=e=>e?ne(e)?e.some(n=>n.length>1):e.length>1:!1;function Pw(e){const n={};for(const Q in e)Q in kw||(n[Q]=e[Q]);if(e.css===!1)return n;const{name:r="v",type:o,duration:s,enterFromClass:u=`${r}-enter-from`,enterActiveClass:l=`${r}-enter-active`,enterToClass:h=`${r}-enter-to`,appearFromClass:f=u,appearActiveClass:p=l,appearToClass:v=h,leaveFromClass:y=`${r}-leave-from`,leaveActiveClass:_=`${r}-leave-active`,leaveToClass:w=`${r}-leave-to`}=e,C=KA(s),R=C&&C[0],S=C&&C[1],{onBeforeEnter:k,onEnter:U,onEnterCancelled:J,onLeave:se,onLeaveCancelled:Ae,onBeforeAppear:G=k,onAppear:ae=U,onAppearCancelled:q=J}=n,Ce=(Q,He,at)=>{Zr(Q,He?v:h),Zr(Q,He?p:l),at&&at()},T=(Q,He)=>{Zr(Q,w),Zr(Q,_),He&&He()},Qe=Q=>(He,at)=>{const _t=Q?ae:U,Pe=()=>Ce(He,Q,at);Yr(_t,[He,Pe]),hy(()=>{Zr(He,Q?f:u),Kn(He,Q?v:h),fy(_t)||dy(He,o,R,Pe)})};return ht(n,{onBeforeEnter(Q){Yr(k,[Q]),Kn(Q,u),Kn(Q,l)},onBeforeAppear(Q){Yr(G,[Q]),Kn(Q,f),Kn(Q,p)},onEnter:Qe(!1),onAppear:Qe(!0),onLeave(Q,He){const at=()=>T(Q,He);Kn(Q,y),xw(),Kn(Q,_),hy(()=>{Zr(Q,y),Kn(Q,w),fy(se)||dy(Q,o,S,at)}),Yr(se,[Q,at])},onEnterCancelled(Q){Ce(Q,!1),Yr(J,[Q])},onAppearCancelled(Q){Ce(Q,!0),Yr(q,[Q])},onLeaveCancelled(Q){T(Q),Yr(Ae,[Q])}})}function KA(e){if(e==null)return null;if(Je(e))return[$f(e.enter),$f(e.leave)];{const n=$f(e);return[n,n]}}function $f(e){return Ss(e)}function Kn(e,n){n.split(/\s+/).forEach(r=>r&&e.classList.add(r)),(e._vtc||(e._vtc=new Set)).add(n)}function Zr(e,n){n.split(/\s+/).forEach(o=>o&&e.classList.remove(o));const{_vtc:r}=e;r&&(r.delete(n),r.size||(e._vtc=void 0))}function hy(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let qA=0;function dy(e,n,r,o){const s=e._endId=++qA,u=()=>{s===e._endId&&o()};if(r)return setTimeout(u,r);const{type:l,timeout:h,propCount:f}=Ow(e,n);if(!l)return o();const p=l+"end";let v=0;const y=()=>{e.removeEventListener(p,_),u()},_=w=>{w.target===e&&++v>=f&&y()};setTimeout(()=>{v<f&&y()},h+1),e.addEventListener(p,_)}function Ow(e,n){const r=window.getComputedStyle(e),o=C=>(r[C]||"").split(", "),s=o(ar+"Delay"),u=o(ar+"Duration"),l=py(s,u),h=o(os+"Delay"),f=o(os+"Duration"),p=py(h,f);let v=null,y=0,_=0;n===ar?l>0&&(v=ar,y=l,_=u.length):n===os?p>0&&(v=os,y=p,_=f.length):(y=Math.max(l,p),v=y>0?l>p?ar:os:null,_=v?v===ar?u.length:f.length:0);const w=v===ar&&/\b(transform|all)(,|$)/.test(r[ar+"Property"]);return{type:v,timeout:y,propCount:_,hasTransform:w}}function py(e,n){for(;e.length<n.length;)e=e.concat(e);return Math.max(...n.map((r,o)=>vy(r)+vy(e[o])))}function vy(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function xw(){return document.body.offsetHeight}const Dw=new WeakMap,Lw=new WeakMap,zA={name:"TransitionGroup",props:ht({},GA,{tag:String,moveClass:String}),setup(e,{slots:n}){const r=Cw(),o=nw();let s,u;return uw(()=>{if(!s.length)return;const l=e.moveClass||`${e.name||"v"}-move`;if(!XA(s[0].el,r.vnode.el,l))return;s.forEach($A),s.forEach(YA);const h=s.filter(QA);xw(),h.forEach(f=>{const p=f.el,v=p.style;Kn(p,l),v.transform=v.webkitTransform=v.transitionDuration="";const y=p._moveCb=_=>{_&&_.target!==p||(!_||/transform$/.test(_.propertyName))&&(p.removeEventListener("transitionend",y),p._moveCb=null,Zr(p,l))};p.addEventListener("transitionend",y)})}),()=>{const l=Te(e),h=Pw(l);let f=l.tag||gn;s=u,u=n.default?cd(n.default()):[];for(let p=0;p<u.length;p++){const v=u[p];v.key!=null&&Ps(v,ks(v,h,o,r))}if(s)for(let p=0;p<s.length;p++){const v=s[p];Ps(v,ks(v,h,o,r)),Dw.set(v,v.el.getBoundingClientRect())}return Tt(f,null,u)}}},R1=zA;function $A(e){const n=e.el;n._moveCb&&n._moveCb(),n._enterCb&&n._enterCb()}function YA(e){Lw.set(e,e.el.getBoundingClientRect())}function QA(e){const n=Dw.get(e),r=Lw.get(e),o=n.left-r.left,s=n.top-r.top;if(o||s){const u=e.el.style;return u.transform=u.webkitTransform=`translate(${o}px,${s}px)`,u.transitionDuration="0s",e}}function XA(e,n,r){const o=e.cloneNode();e._vtc&&e._vtc.forEach(l=>{l.split(/\s+/).forEach(h=>h&&o.classList.remove(h))}),r.split(/\s+/).forEach(l=>l&&o.classList.add(l)),o.style.display="none";const s=n.nodeType===1?n:n.parentNode;s.appendChild(o);const{hasTransform:u}=Ow(o);return s.removeChild(o),u}const to=e=>{const n=e.props["onUpdate:modelValue"];return ne(n)?r=>lu(n,r):n};function JA(e){e.target.composing=!0}function gy(e){const n=e.target;n.composing&&(n.composing=!1,ZA(n,"input"))}function ZA(e,n){const r=document.createEvent("HTMLEvents");r.initEvent(n,!0,!0),e.dispatchEvent(r)}const k1={created(e,{modifiers:{lazy:n,trim:r,number:o}},s){e._assign=to(s);const u=o||s.props&&s.props.type==="number";dr(e,n?"change":"input",l=>{if(l.target.composing)return;let h=e.value;r?h=h.trim():u&&(h=Ss(h)),e._assign(h)}),r&&dr(e,"change",()=>{e.value=e.value.trim()}),n||(dr(e,"compositionstart",JA),dr(e,"compositionend",gy),dr(e,"change",gy))},mounted(e,{value:n}){e.value=n==null?"":n},beforeUpdate(e,{value:n,modifiers:{lazy:r,trim:o,number:s}},u){if(e._assign=to(u),e.composing||document.activeElement===e&&(r||o&&e.value.trim()===n||(s||e.type==="number")&&Ss(e.value)===n))return;const l=n==null?"":n;e.value!==l&&(e.value=l)}},P1={deep:!0,created(e,n,r){e._assign=to(r),dr(e,"change",()=>{const o=e._modelValue,s=xs(e),u=e.checked,l=e._assign;if(ne(o)){const h=Yh(o,s),f=h!==-1;if(u&&!f)l(o.concat(s));else if(!u&&f){const p=[...o];p.splice(h,1),l(p)}}else if(co(o)){const h=new Set(o);u?h.add(s):h.delete(s),l(h)}else l(Mw(e,u))})},mounted:my,beforeUpdate(e,n,r){e._assign=to(r),my(e,n,r)}};function my(e,{value:n,oldValue:r},o){e._modelValue=n,ne(n)?e.checked=Yh(n,o.props.value)>-1:co(n)?e.checked=n.has(o.props.value):n!==r&&(e.checked=Ws(n,Mw(e,!0)))}const O1={deep:!0,created(e,{value:n,modifiers:{number:r}},o){const s=co(n);dr(e,"change",()=>{const u=Array.prototype.filter.call(e.options,l=>l.selected).map(l=>r?Ss(xs(l)):xs(l));e._assign(e.multiple?s?new Set(u):u:u[0])}),e._assign=to(o)},mounted(e,{value:n}){yy(e,n)},beforeUpdate(e,n,r){e._assign=to(r)},updated(e,{value:n}){yy(e,n)}};function yy(e,n){const r=e.multiple;if(!(r&&!ne(n)&&!co(n))){for(let o=0,s=e.options.length;o<s;o++){const u=e.options[o],l=xs(u);if(r)ne(n)?u.selected=Yh(n,l)>-1:u.selected=n.has(l);else if(Ws(xs(u),n)){e.selectedIndex!==o&&(e.selectedIndex=o);return}}!r&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function xs(e){return"_value"in e?e._value:e.value}function Mw(e,n){const r=n?"_trueValue":"_falseValue";return r in e?e[r]:n}const eN=["ctrl","shift","alt","meta"],tN={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,n)=>eN.some(r=>e[`${r}Key`]&&!n.includes(r))},x1=(e,n)=>(r,...o)=>{for(let s=0;s<n.length;s++){const u=tN[n[s]];if(u&&u(r,n))return}return e(r,...o)},nN=ht({patchProp:WA},NA);let _y;function rN(){return _y||(_y=oA(nN))}const D1=(...e)=>{const n=rN().createApp(...e),{mount:r}=n;return n.mount=o=>{const s=iN(o);if(!s)return;const u=n._component;!pe(u)&&!u.render&&!u.template&&(u.template=s.innerHTML),s.innerHTML="";const l=r(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),l},n};function iN(e){return ot(e)?document.querySelector(e):e}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var bh=function(e,n){return bh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])},bh(e,n)};function Ye(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");bh(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}var br=function(){return br=Object.assign||function(n){for(var r,o=1,s=arguments.length;o<s;o++){r=arguments[o];for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&(n[u]=r[u])}return n},br.apply(this,arguments)};function Fw(e,n,r,o){function s(u){return u instanceof r?u:new r(function(l){l(u)})}return new(r||(r=Promise))(function(u,l){function h(v){try{p(o.next(v))}catch(y){l(y)}}function f(v){try{p(o.throw(v))}catch(y){l(y)}}function p(v){v.done?u(v.value):s(v.value).then(h,f)}p((o=o.apply(e,n||[])).next())})}function jw(e,n){var r={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},o,s,u,l;return l={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function h(p){return function(v){return f([p,v])}}function f(p){if(o)throw new TypeError("Generator is already executing.");for(;r;)try{if(o=1,s&&(u=p[0]&2?s.return:p[0]?s.throw||((u=s.return)&&u.call(s),0):s.next)&&!(u=u.call(s,p[1])).done)return u;switch(s=0,u&&(p=[p[0]&2,u.value]),p[0]){case 0:case 1:u=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,s=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(u=r.trys,!(u=u.length>0&&u[u.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!u||p[1]>u[0]&&p[1]<u[3])){r.label=p[1];break}if(p[0]===6&&r.label<u[1]){r.label=u[1],u=p;break}if(u&&r.label<u[2]){r.label=u[2],r.ops.push(p);break}u[2]&&r.ops.pop(),r.trys.pop();continue}p=n.call(e,r)}catch(v){p=[6,v],s=0}finally{o=u=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}function Ht(e){var n=typeof Symbol=="function"&&Symbol.iterator,r=n&&e[n],o=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ct(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var o=r.call(e),s,u=[],l;try{for(;(n===void 0||n-- >0)&&!(s=o.next()).done;)u.push(s.value)}catch(h){l={error:h}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(l)throw l.error}}return u}function Er(e,n,r){if(r||arguments.length===2)for(var o=0,s=n.length,u;o<s;o++)(u||!(o in n))&&(u||(u=Array.prototype.slice.call(n,0,o)),u[o]=n[o]);return e.concat(u||Array.prototype.slice.call(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uw={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var F=function(e,n){if(!e)throw vo(n)},vo=function(e){return new Error("Firebase Database ("+Uw.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vw=function(e){for(var n=[],r=0,o=0;o<e.length;o++){var s=e.charCodeAt(o);s<128?n[r++]=s:s<2048?(n[r++]=s>>6|192,n[r++]=s&63|128):(s&64512)===55296&&o+1<e.length&&(e.charCodeAt(o+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++o)&1023),n[r++]=s>>18|240,n[r++]=s>>12&63|128,n[r++]=s>>6&63|128,n[r++]=s&63|128):(n[r++]=s>>12|224,n[r++]=s>>6&63|128,n[r++]=s&63|128)}return n},oN=function(e){for(var n=[],r=0,o=0;r<e.length;){var s=e[r++];if(s<128)n[o++]=String.fromCharCode(s);else if(s>191&&s<224){var u=e[r++];n[o++]=String.fromCharCode((s&31)<<6|u&63)}else if(s>239&&s<365){var u=e[r++],l=e[r++],h=e[r++],f=((s&7)<<18|(u&63)<<12|(l&63)<<6|h&63)-65536;n[o++]=String.fromCharCode(55296+(f>>10)),n[o++]=String.fromCharCode(56320+(f&1023))}else{var u=e[r++],l=e[r++];n[o++]=String.fromCharCode((s&15)<<12|(u&63)<<6|l&63)}}return n.join("")},md={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,n){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var r=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[],s=0;s<e.length;s+=3){var u=e[s],l=s+1<e.length,h=l?e[s+1]:0,f=s+2<e.length,p=f?e[s+2]:0,v=u>>2,y=(u&3)<<4|h>>4,_=(h&15)<<2|p>>6,w=p&63;f||(w=64,l||(_=64)),o.push(r[v],r[y],r[_],r[w])}return o.join("")},encodeString:function(e,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(e):this.encodeByteArray(Vw(e),n)},decodeString:function(e,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(e):oN(this.decodeStringToByteArray(e,n))},decodeStringToByteArray:function(e,n){this.init_();for(var r=n?this.charToByteMapWebSafe_:this.charToByteMap_,o=[],s=0;s<e.length;){var u=r[e.charAt(s++)],l=s<e.length,h=l?r[e.charAt(s)]:0;++s;var f=s<e.length,p=f?r[e.charAt(s)]:64;++s;var v=s<e.length,y=v?r[e.charAt(s)]:64;if(++s,u==null||h==null||p==null||y==null)throw Error();var _=u<<2|h>>4;if(o.push(_),p!==64){var w=h<<4&240|p>>2;if(o.push(w),y!==64){var C=p<<6&192|y;o.push(C)}}}return o},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Bw=function(e){var n=Vw(e);return md.encodeByteArray(n,!0)},wy=function(e){return Bw(e).replace(/\./g,"")},by=function(e){try{return md.decodeString(e,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(e){return Ds(void 0,e)}function Ds(e,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:var r=n;return new Date(r.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return n}for(var o in n)!n.hasOwnProperty(o)||!sN(o)||(e[o]=Ds(e[o],n[o]));return e}function sN(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt=function(){function e(){var n=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(r,o){n.resolve=r,n.reject=o})}return e.prototype.wrapCallback=function(n){var r=this;return function(o,s){o?r.reject(o):r.resolve(s),typeof n=="function"&&(r.promise.catch(function(){}),n.length===1?n(o):n(o,s))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(e,n){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var r={alg:"none",type:"JWT"},o=n||"demo-project",s=e.iat||0,u=e.sub||e.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var l=br({iss:"https://securetoken.google.com/"+o,aud:o,iat:s,exp:s+3600,auth_time:s,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},e),h="";return[wy(JSON.stringify(r)),wy(JSON.stringify(l)),h].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Hw(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(uN())}function lN(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cN(){return typeof self=="object"&&self.self===self}function fN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Gw(){return Uw.NODE_ADMIN===!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hN="FirebaseError",dN=function(e){Ye(n,e);function n(r,o,s){var u=e.call(this,o)||this;return u.code=r,u.customData=s,u.name=hN,Object.setPrototypeOf(u,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(u,yd.prototype.create),u}return n}(Error),yd=function(){function e(n,r,o){this.service=n,this.serviceName=r,this.errors=o}return e.prototype.create=function(n){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var s=r[0]||{},u=this.service+"/"+n,l=this.errors[n],h=l?pN(l,s):"Error",f=this.serviceName+": "+h+" ("+u+").",p=new dN(u,f,s);return p},e}();function pN(e,n){return e.replace(vN,function(r,o){var s=n[o];return s!=null?String(s):"<"+o+"?>"})}var vN=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(e){return JSON.parse(e)}function it(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kw=function(e){var n={},r={},o={},s="";try{var u=e.split(".");n=Ls(by(u[0])||""),r=Ls(by(u[1])||""),s=u[2],o=r.d||{},delete r.d}catch{}return{header:n,claims:r,data:o,signature:s}},gN=function(e){var n=Kw(e),r=n.claims;return!!r&&typeof r=="object"&&r.hasOwnProperty("iat")},mN=function(e){var n=Kw(e).claims;return typeof n=="object"&&n.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function di(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]}function Eh(e){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n))return!1;return!0}function Eu(e,n,r){var o={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(o[s]=n.call(r,e[s],s,e));return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(e){for(var n=[],r=function(f,p){Array.isArray(p)?p.forEach(function(v){n.push(encodeURIComponent(f)+"="+encodeURIComponent(v))}):n.push(encodeURIComponent(f)+"="+encodeURIComponent(p))},o=0,s=Object.entries(e);o<s.length;o++){var u=s[o],l=u[0],h=u[1];r(l,h)}return n.length?"&"+n.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _N=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(var n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(n,r){r||(r=0);var o=this.W_;if(typeof n=="string")for(var s=0;s<16;s++)o[s]=n.charCodeAt(r)<<24|n.charCodeAt(r+1)<<16|n.charCodeAt(r+2)<<8|n.charCodeAt(r+3),r+=4;else for(var s=0;s<16;s++)o[s]=n[r]<<24|n[r+1]<<16|n[r+2]<<8|n[r+3],r+=4;for(var s=16;s<80;s++){var u=o[s-3]^o[s-8]^o[s-14]^o[s-16];o[s]=(u<<1|u>>>31)&4294967295}for(var l=this.chain_[0],h=this.chain_[1],f=this.chain_[2],p=this.chain_[3],v=this.chain_[4],y,_,s=0;s<80;s++){s<40?s<20?(y=p^h&(f^p),_=1518500249):(y=h^f^p,_=1859775393):s<60?(y=h&f|p&(h|f),_=2400959708):(y=h^f^p,_=3395469782);var u=(l<<5|l>>>27)+y+v+_+o[s]&4294967295;v=p,p=f,f=(h<<30|h>>>2)&4294967295,h=l,l=u}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+h&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+p&4294967295,this.chain_[4]=this.chain_[4]+v&4294967295},e.prototype.update=function(n,r){if(n!=null){r===void 0&&(r=n.length);for(var o=r-this.blockSize,s=0,u=this.buf_,l=this.inbuf_;s<r;){if(l===0)for(;s<=o;)this.compress_(n,s),s+=this.blockSize;if(typeof n=="string"){for(;s<r;)if(u[l]=n.charCodeAt(s),++l,++s,l===this.blockSize){this.compress_(u),l=0;break}}else for(;s<r;)if(u[l]=n[s],++l,++s,l===this.blockSize){this.compress_(u),l=0;break}}this.inbuf_=l,this.total_+=r}},e.prototype.digest=function(){var n=[],r=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var o=this.blockSize-1;o>=56;o--)this.buf_[o]=r&255,r/=256;this.compress_(this.buf_);for(var s=0,o=0;o<5;o++)for(var u=24;u>=0;u-=8)n[s]=this.chain_[o]>>u&255,++s;return n},e}();function wN(e,n){var r=new bN(e,n);return r.subscribe.bind(r)}var bN=function(){function e(n,r){var o=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(function(){n(o)}).catch(function(s){o.error(s)})}return e.prototype.next=function(n){this.forEachObserver(function(r){r.next(n)})},e.prototype.error=function(n){this.forEachObserver(function(r){r.error(n)}),this.close(n)},e.prototype.complete=function(){this.forEachObserver(function(n){n.complete()}),this.close()},e.prototype.subscribe=function(n,r,o){var s=this,u;if(n===void 0&&r===void 0&&o===void 0)throw new Error("Missing Observer.");EN(n,["next","error","complete"])?u=n:u={next:n,error:r,complete:o},u.next===void 0&&(u.next=Yf),u.error===void 0&&(u.error=Yf),u.complete===void 0&&(u.complete=Yf);var l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{s.finalError?u.error(s.finalError):u.complete()}catch{}}),this.observers.push(u),l},e.prototype.unsubscribeOne=function(n){this.observers===void 0||this.observers[n]===void 0||(delete this.observers[n],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(n){if(!this.finalized)for(var r=0;r<this.observers.length;r++)this.sendOne(r,n)},e.prototype.sendOne=function(n,r){var o=this;this.task.then(function(){if(o.observers!==void 0&&o.observers[n]!==void 0)try{r(o.observers[n])}catch(s){typeof console!="undefined"&&console.error&&console.error(s)}})},e.prototype.close=function(n){var r=this;this.finalized||(this.finalized=!0,n!==void 0&&(this.finalError=n),this.task.then(function(){r.observers=void 0,r.onNoObservers=void 0}))},e}();function EN(e,n){if(typeof e!="object"||e===null)return!1;for(var r=0,o=n;r<o.length;r++){var s=o[r];if(s in e&&typeof e[s]=="function")return!0}return!1}function Yf(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var re=function(e,n,r,o){var s;if(o<n?s="at least "+n:o>r&&(s=r===0?"none":"no more than "+r),s){var u=e+" failed: Was called with "+o+(o===1?" argument.":" arguments.")+" Expects "+s+".";throw new Error(u)}};function Dt(e,n){return e+" failed: "+n+" argument "}function lt(e,n,r,o){if(!(o&&!r)&&typeof r!="function")throw new Error(Dt(e,n)+"must be a valid function.")}function Ey(e,n,r,o){if(!(o&&!r)&&(typeof r!="object"||r===null))throw new Error(Dt(e,n)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IN=function(e){for(var n=[],r=0,o=0;o<e.length;o++){var s=e.charCodeAt(o);if(s>=55296&&s<=56319){var u=s-55296;o++,F(o<e.length,"Surrogate pair missing trail surrogate.");var l=e.charCodeAt(o)-56320;s=65536+(u<<10)+l}s<128?n[r++]=s:s<2048?(n[r++]=s>>6|192,n[r++]=s&63|128):s<65536?(n[r++]=s>>12|224,n[r++]=s>>6&63|128,n[r++]=s&63|128):(n[r++]=s>>18|240,n[r++]=s>>12&63|128,n[r++]=s>>6&63|128,n[r++]=s&63|128)}return n},$u=function(e){for(var n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);o<128?n++:o<2048?n+=2:o>=55296&&o<=56319?(n+=4,r++):n+=3}return n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(e){return e&&e._delegate?e._delegate:e}var Gs=function(){function e(n,r,o){this.name=n,this.instanceFactory=r,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(n){return this.instantiationMode=n,this},e.prototype.setMultipleInstances=function(n){return this.multipleInstances=n,this},e.prototype.setServiceProps=function(n){return this.serviceProps=n,this},e.prototype.setInstanceCreatedCallback=function(n){return this.onInstanceCreated=n,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ei="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qw=function(){function e(n,r){this.name=n,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(n){var r=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(r)){var o=new xt;if(this.instancesDeferred.set(r,o),this.isInitialized(r)||this.shouldAutoInitialize())try{var s=this.getOrInitializeService({instanceIdentifier:r});s&&o.resolve(s)}catch{}}return this.instancesDeferred.get(r).promise},e.prototype.getImmediate=function(n){var r,o=this.normalizeInstanceIdentifier(n==null?void 0:n.identifier),s=(r=n==null?void 0:n.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(u){if(s)return null;throw u}else{if(s)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(n){var r,o;if(n.name!==this.name)throw Error("Mismatching Component "+n.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=n,!!this.shouldAutoInitialize()){if(CN(n))try{this.getOrInitializeService({instanceIdentifier:ei})}catch{}try{for(var s=Ht(this.instancesDeferred.entries()),u=s.next();!u.done;u=s.next()){var l=Ct(u.value,2),h=l[0],f=l[1],p=this.normalizeInstanceIdentifier(h);try{var v=this.getOrInitializeService({instanceIdentifier:p});f.resolve(v)}catch{}}}catch(y){r={error:y}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}}},e.prototype.clearInstance=function(n){n===void 0&&(n=ei),this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)},e.prototype.delete=function(){return Fw(this,void 0,void 0,function(){var n;return jw(this,function(r){switch(r.label){case 0:return n=Array.from(this.instances.values()),[4,Promise.all(Er(Er([],Ct(n.filter(function(o){return"INTERNAL"in o}).map(function(o){return o.INTERNAL.delete()}))),Ct(n.filter(function(o){return"_delete"in o}).map(function(o){return o._delete()}))))];case 1:return r.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(n){return n===void 0&&(n=ei),this.instances.has(n)},e.prototype.getOptions=function(n){return n===void 0&&(n=ei),this.instancesOptions.get(n)||{}},e.prototype.initialize=function(n){var r,o;n===void 0&&(n={});var s=n.options,u=s===void 0?{}:s,l=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(l))throw Error(this.name+"("+l+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var h=this.getOrInitializeService({instanceIdentifier:l,options:u});try{for(var f=Ht(this.instancesDeferred.entries()),p=f.next();!p.done;p=f.next()){var v=Ct(p.value,2),y=v[0],_=v[1],w=this.normalizeInstanceIdentifier(y);l===w&&_.resolve(h)}}catch(C){r={error:C}}finally{try{p&&!p.done&&(o=f.return)&&o.call(f)}finally{if(r)throw r.error}}return h},e.prototype.onInit=function(n,r){var o,s=this.normalizeInstanceIdentifier(r),u=(o=this.onInitCallbacks.get(s))!==null&&o!==void 0?o:new Set;u.add(n),this.onInitCallbacks.set(s,u);var l=this.instances.get(s);return l&&n(l,s),function(){u.delete(n)}},e.prototype.invokeOnInitCallbacks=function(n,r){var o,s,u=this.onInitCallbacks.get(r);if(!!u)try{for(var l=Ht(u),h=l.next();!h.done;h=l.next()){var f=h.value;try{f(n,r)}catch{}}}catch(p){o={error:p}}finally{try{h&&!h.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}},e.prototype.getOrInitializeService=function(n){var r=n.instanceIdentifier,o=n.options,s=o===void 0?{}:o,u=this.instances.get(r);if(!u&&this.component&&(u=this.component.instanceFactory(this.container,{instanceIdentifier:TN(r),options:s}),this.instances.set(r,u),this.instancesOptions.set(r,s),this.invokeOnInitCallbacks(u,r),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,r,u)}catch{}return u||null},e.prototype.normalizeInstanceIdentifier=function(n){return n===void 0&&(n=ei),this.component?this.component.multipleInstances?n:ei:n},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function TN(e){return e===ei?void 0:e}function CN(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zw=function(){function e(n){this.name=n,this.providers=new Map}return e.prototype.addComponent=function(n){var r=this.getProvider(n.name);if(r.isComponentSet())throw new Error("Component "+n.name+" has already been registered with "+this.name);r.setComponent(n)},e.prototype.addOrOverwriteComponent=function(n){var r=this.getProvider(n.name);r.isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)},e.prototype.getProvider=function(n){if(this.providers.has(n))return this.providers.get(n);var r=new qw(n,this);return this.providers.set(n,r),r},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function pn(){for(var e=0,n=0,r=arguments.length;n<r;n++)e+=arguments[n].length;for(var o=Array(e),s=0,n=0;n<r;n++)for(var u=arguments[n],l=0,h=u.length;l<h;l++,s++)o[s]=u[l];return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qr,_d=[],Fe;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Fe||(Fe={}));var $w={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},SN=Fe.INFO,AN=(Qr={},Qr[Fe.DEBUG]="log",Qr[Fe.VERBOSE]="log",Qr[Fe.INFO]="info",Qr[Fe.WARN]="warn",Qr[Fe.ERROR]="error",Qr),NN=function(e,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(!(n<e.logLevel)){var s=new Date().toISOString(),u=AN[n];if(u)console[u].apply(console,pn(["["+s+"]  "+e.name+":"],r));else throw new Error("Attempted to log a message with an invalid logType (value: "+n+")")}},Yw=function(){function e(n){this.name=n,this._logLevel=SN,this._logHandler=NN,this._userLogHandler=null,_d.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(n){if(!(n in Fe))throw new TypeError('Invalid value "'+n+'" assigned to `logLevel`');this._logLevel=n},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(n){this._logLevel=typeof n=="string"?$w[n]:n},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(n){this._userLogHandler=n},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];this._userLogHandler&&this._userLogHandler.apply(this,pn([this,Fe.DEBUG],n)),this._logHandler.apply(this,pn([this,Fe.DEBUG],n))},e.prototype.log=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];this._userLogHandler&&this._userLogHandler.apply(this,pn([this,Fe.VERBOSE],n)),this._logHandler.apply(this,pn([this,Fe.VERBOSE],n))},e.prototype.info=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];this._userLogHandler&&this._userLogHandler.apply(this,pn([this,Fe.INFO],n)),this._logHandler.apply(this,pn([this,Fe.INFO],n))},e.prototype.warn=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];this._userLogHandler&&this._userLogHandler.apply(this,pn([this,Fe.WARN],n)),this._logHandler.apply(this,pn([this,Fe.WARN],n))},e.prototype.error=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];this._userLogHandler&&this._userLogHandler.apply(this,pn([this,Fe.ERROR],n)),this._logHandler.apply(this,pn([this,Fe.ERROR],n))},e}();function RN(e){_d.forEach(function(n){n.setLogLevel(e)})}function kN(e,n){for(var r=function(l){var h=null;n&&n.level&&(h=$w[n.level]),e===null?l.userLogHandler=null:l.userLogHandler=function(f,p){for(var v=[],y=2;y<arguments.length;y++)v[y-2]=arguments[y];var _=v.map(function(w){if(w==null)return null;if(typeof w=="string")return w;if(typeof w=="number"||typeof w=="boolean")return w.toString();if(w instanceof Error)return w.message;try{return JSON.stringify(w)}catch{return null}}).filter(function(w){return w}).join(" ");p>=(h!=null?h:f.logLevel)&&e({level:Fe[p].toLowerCase(),message:_,args:v,type:f.name})}},o=0,s=_d;o<s.length;o++){var u=s[o];r(u)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ur,PN=(ur={},ur["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",ur["bad-app-name"]="Illegal App name: '{$appName}",ur["duplicate-app"]="Firebase App named '{$appName}' already exists",ur["app-deleted"]="Firebase App named '{$appName}' already deleted",ur["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",ur["invalid-log-argument"]="First argument to `onLog` must be null or a function.",ur),zi=new yd("app","Firebase",PN),Qw="@firebase/app",ON="0.6.30",xN="@firebase/analytics",DN="@firebase/app-check",LN="@firebase/auth",MN="@firebase/database",FN="@firebase/functions",jN="@firebase/installations",UN="@firebase/messaging",VN="@firebase/performance",BN="@firebase/remote-config",WN="@firebase/storage",HN="@firebase/firestore",GN="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt,Iu="[DEFAULT]",KN=(yt={},yt[Qw]="fire-core",yt[xN]="fire-analytics",yt[DN]="fire-app-check",yt[LN]="fire-auth",yt[MN]="fire-rtdb",yt[FN]="fire-fn",yt[jN]="fire-iid",yt[UN]="fire-fcm",yt[VN]="fire-perf",yt[BN]="fire-rc",yt[WN]="fire-gcs",yt[HN]="fire-fst",yt["fire-js"]="fire-js",yt[GN]="fire-js-all",yt);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var no=new Yw("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pu=function(){function e(n,r,o){var s=this;this.firebase_=o,this.isDeleted_=!1,this.name_=r.name,this.automaticDataCollectionEnabled_=r.automaticDataCollectionEnabled||!1,this.options_=Ww(n),this.container=new zw(r.name),this._addComponent(new Gs("app",function(){return s},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(u){return s._addComponent(u)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(n){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var n=this;return new Promise(function(r){n.checkDestroyed_(),r()}).then(function(){return n.firebase_.INTERNAL.removeApp(n.name_),Promise.all(n.container.getProviders().map(function(r){return r.delete()}))}).then(function(){n.isDeleted_=!0})},e.prototype._getService=function(n,r){var o;r===void 0&&(r=Iu),this.checkDestroyed_();var s=this.container.getProvider(n);return!s.isInitialized()&&((o=s.getComponent())===null||o===void 0?void 0:o.instantiationMode)==="EXPLICIT"&&s.initialize(),s.getImmediate({identifier:r})},e.prototype._removeServiceInstance=function(n,r){r===void 0&&(r=Iu),this.container.getProvider(n).clearInstance(r)},e.prototype._addComponent=function(n){try{this.container.addComponent(n)}catch(r){no.debug("Component "+n.name+" failed to register with FirebaseApp "+this.name,r)}},e.prototype._addOrOverwriteComponent=function(n){this.container.addOrOverwriteComponent(n)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw zi.create("app-deleted",{appName:this.name_})},e}();pu.prototype.name&&pu.prototype.options||pu.prototype.delete||console.log("dc");var qN="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(e){var n={},r=new Map,o={__esModule:!0,initializeApp:l,app:u,registerVersion:p,setLogLevel:RN,onLog:v,apps:null,SDK_VERSION:qN,INTERNAL:{registerComponent:f,removeApp:s,components:r,useAsService:y}};o.default=o,Object.defineProperty(o,"apps",{get:h});function s(_){delete n[_]}function u(_){if(_=_||Iu,!Kt(n,_))throw zi.create("no-app",{appName:_});return n[_]}u.App=e;function l(_,w){if(w===void 0&&(w={}),typeof w!="object"||w===null){var C=w;w={name:C}}var R=w;R.name===void 0&&(R.name=Iu);var S=R.name;if(typeof S!="string"||!S)throw zi.create("bad-app-name",{appName:String(S)});if(Kt(n,S))throw zi.create("duplicate-app",{appName:S});var k=new e(_,R,o);return n[S]=k,k}function h(){return Object.keys(n).map(function(_){return n[_]})}function f(_){var w=_.name;if(r.has(w))return no.debug("There were multiple attempts to register component "+w+"."),_.type==="PUBLIC"?o[w]:null;if(r.set(w,_),_.type==="PUBLIC"){var C=function(U){if(U===void 0&&(U=u()),typeof U[w]!="function")throw zi.create("invalid-app-argument",{appName:w});return U[w]()};_.serviceProps!==void 0&&Ds(C,_.serviceProps),o[w]=C,e.prototype[w]=function(){for(var U=[],J=0;J<arguments.length;J++)U[J]=arguments[J];var se=this._getService.bind(this,w);return se.apply(this,_.multipleInstances?U:[])}}for(var R=0,S=Object.keys(n);R<S.length;R++){var k=S[R];n[k]._addComponent(_)}return _.type==="PUBLIC"?o[w]:null}function p(_,w,C){var R,S=(R=KN[_])!==null&&R!==void 0?R:_;C&&(S+="-"+C);var k=S.match(/\s|\//),U=w.match(/\s|\//);if(k||U){var J=['Unable to register library "'+S+'" with version "'+w+'":'];k&&J.push('library name "'+S+'" contains illegal characters (whitespace or "/")'),k&&U&&J.push("and"),U&&J.push('version name "'+w+'" contains illegal characters (whitespace or "/")'),no.warn(J.join(" "));return}f(new Gs(S+"-version",function(){return{library:S,version:w}},"VERSION"))}function v(_,w){if(_!==null&&typeof _!="function")throw zi.create("invalid-log-argument");kN(_,w)}function y(_,w){if(w==="serverAuth")return null;var C=w;return C}return o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(){var e=zN(pu);e.INTERNAL=br(br({},e.INTERNAL),{createFirebaseNamespace:Xw,extendNamespace:n,createSubscribe:wN,ErrorFactory:yd,deepExtend:Ds});function n(r){Ds(e,r)}return e}var wd=Xw();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $N=function(){function e(n){this.container=n}return e.prototype.getPlatformInfoString=function(){var n=this.container.getProviders();return n.map(function(r){if(YN(r)){var o=r.getImmediate();return o.library+"/"+o.version}else return null}).filter(function(r){return r}).join(" ")},e}();function YN(e){var n=e.getComponent();return(n==null?void 0:n.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(e,n){e.INTERNAL.registerComponent(new Gs("platform-logger",function(r){return new $N(r)},"PRIVATE")),e.registerVersion(Qw,ON,n),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(cN()&&self.firebase!==void 0){no.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var Iy=self.firebase.SDK_VERSION;Iy&&Iy.indexOf("LITE")>=0&&no.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var XN=wd.initializeApp;wd.initializeApp=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return lN()&&no.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),XN.apply(void 0,e)};var ue=wd;QN(ue);var JN="firebase",Jw="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ue.registerVersion(JN,Jw,"app");ue.SDK_VERSION=Jw;(function(){var e,n=typeof Object.defineProperties=="function"?Object.defineProperty:function(t,i,a){t!=Array.prototype&&t!=Object.prototype&&(t[i]=a.value)};function r(t){t=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,t];for(var i=0;i<t.length;++i){var a=t[i];if(a&&a.Math==Math)return a}return globalThis}var o=r(this);function s(t,i){if(i){var a=o;t=t.split(".");for(var c=0;c<t.length-1;c++){var d=t[c];d in a||(a[d]={}),a=a[d]}t=t[t.length-1],c=a[t],i=i(c),i!=c&&i!=null&&n(a,t,{configurable:!0,writable:!0,value:i})}}function u(t){var i=0;return function(){return i<t.length?{done:!1,value:t[i++]}:{done:!0}}}function l(t){var i=typeof Symbol!="undefined"&&Symbol.iterator&&t[Symbol.iterator];return i?i.call(t):{next:u(t)}}s("Promise",function(t){function i(m){this.b=0,this.c=void 0,this.a=[];var b=this.f();try{m(b.resolve,b.reject)}catch(N){b.reject(N)}}function a(){this.a=null}function c(m){return m instanceof i?m:new i(function(b){b(m)})}if(t)return t;a.prototype.b=function(m){if(this.a==null){this.a=[];var b=this;this.c(function(){b.g()})}this.a.push(m)};var d=o.setTimeout;a.prototype.c=function(m){d(m,0)},a.prototype.g=function(){for(;this.a&&this.a.length;){var m=this.a;this.a=[];for(var b=0;b<m.length;++b){var N=m[b];m[b]=null;try{N()}catch(D){this.f(D)}}}this.a=null},a.prototype.f=function(m){this.c(function(){throw m})},i.prototype.f=function(){function m(D){return function(oe){N||(N=!0,D.call(b,oe))}}var b=this,N=!1;return{resolve:m(this.m),reject:m(this.g)}},i.prototype.m=function(m){if(m===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(m instanceof i)this.s(m);else{e:switch(typeof m){case"object":var b=m!=null;break e;case"function":b=!0;break e;default:b=!1}b?this.v(m):this.h(m)}},i.prototype.v=function(m){var b=void 0;try{b=m.then}catch(N){this.g(N);return}typeof b=="function"?this.u(b,m):this.h(m)},i.prototype.g=function(m){this.i(2,m)},i.prototype.h=function(m){this.i(1,m)},i.prototype.i=function(m,b){if(this.b!=0)throw Error("Cannot settle("+m+", "+b+"): Promise already settled in state"+this.b);this.b=m,this.c=b,this.l()},i.prototype.l=function(){if(this.a!=null){for(var m=0;m<this.a.length;++m)g.b(this.a[m]);this.a=null}};var g=new a;return i.prototype.s=function(m){var b=this.f();m.Ra(b.resolve,b.reject)},i.prototype.u=function(m,b){var N=this.f();try{m.call(b,N.resolve,N.reject)}catch(D){N.reject(D)}},i.prototype.then=function(m,b){function N(be,ut){return typeof be=="function"?function(Hn){try{D(be(Hn))}catch(Hf){oe(Hf)}}:ut}var D,oe,ke=new i(function(be,ut){D=be,oe=ut});return this.Ra(N(m,D),N(b,oe)),ke},i.prototype.catch=function(m){return this.then(void 0,m)},i.prototype.Ra=function(m,b){function N(){switch(D.b){case 1:m(D.c);break;case 2:b(D.c);break;default:throw Error("Unexpected state: "+D.b)}}var D=this;this.a==null?g.b(N):this.a.push(N)},i.resolve=c,i.reject=function(m){return new i(function(b,N){N(m)})},i.race=function(m){return new i(function(b,N){for(var D=l(m),oe=D.next();!oe.done;oe=D.next())c(oe.value).Ra(b,N)})},i.all=function(m){var b=l(m),N=b.next();return N.done?c([]):new i(function(D,oe){function ke(Hn){return function(Hf){be[Hn]=Hf,ut--,ut==0&&D(be)}}var be=[],ut=0;do be.push(void 0),ut++,c(N.value).Ra(ke(be.length-1),oe),N=b.next();while(!N.done)})},i});var h=h||{},f=this||self,p=/^[\w+/_-]+[=]{0,2}$/,v=null;function y(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&p.test(t)?t:""}function _(){}function w(t){var i=typeof t;return i!="object"?i:t?Array.isArray(t)?"array":i:"null"}function C(t){var i=w(t);return i=="array"||i=="object"&&typeof t.length=="number"}function R(t){return w(t)=="function"}function S(t){var i=typeof t;return i=="object"&&t!=null||i=="function"}function k(t){return Object.prototype.hasOwnProperty.call(t,U)&&t[U]||(t[U]=++J)}var U="closure_uid_"+(1e9*Math.random()>>>0),J=0;function se(t,i,a){return t.call.apply(t.bind,arguments)}function Ae(t,i,a){if(!t)throw Error();if(2<arguments.length){var c=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(d,c),t.apply(i,d)}}return function(){return t.apply(i,arguments)}}function G(t,i,a){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?G=se:G=Ae,G.apply(null,arguments)}function ae(t,i){var a=Array.prototype.slice.call(arguments,1);return function(){var c=a.slice();return c.push.apply(c,arguments),t.apply(this,c)}}function q(t,i){function a(){}a.prototype=i.prototype,t.bb=i.prototype,t.prototype=new a,t.prototype.constructor=t}function Ce(t){return t}function T(t,i,a){this.code=Q+t,this.message=i||He[t]||"",this.a=a||null}q(T,Error),T.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},T.prototype.toJSON=function(){return this.w()};function Qe(t){var i=t&&t.code;return i?new T(i.substring(Q.length),t.message,t.serverResponse):null}var Q="auth/",He={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},at={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function _t(t){for(var i in at)if(at[i].id===t)return t=at[i],{firebaseEndpoint:t.Ua,secureTokenEndpoint:t.$a,identityPlatformEndpoint:t.Xa};return null}var Pe;Pe=_t("__EID__")?"__EID__":void 0;function Ne(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch{return!1}}function he(t){if(Error.captureStackTrace)Error.captureStackTrace(this,he);else{var i=Error().stack;i&&(this.stack=i)}t&&(this.message=String(t))}q(he,Error),he.prototype.name="CustomError";function gt(t,i){t=t.split("%s");for(var a="",c=t.length-1,d=0;d<c;d++)a+=t[d]+(d<i.length?i[d]:"%s");he.call(this,a+t[c])}q(gt,he),gt.prototype.name="AssertionError";function Lt(t,i){throw new gt("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function Mt(t,i){this.c=t,this.f=i,this.b=0,this.a=null}Mt.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};function Ft(t,i){t.f(i),100>t.b&&(t.b++,i.next=t.a,t.a=i)}function wt(){this.b=this.a=null}var _i=new Mt(function(){return new z},function(t){t.reset()});wt.prototype.add=function(t,i){var a=_i.get();a.set(t,i),this.b?this.b.next=a:this.a=a,this.b=a};function O(){var t=Ip,i=null;return t.a&&(i=t.a,t.a=t.a.next,t.a||(t.b=null),i.next=null),i}function z(){this.next=this.b=this.a=null}z.prototype.set=function(t,i){this.a=t,this.b=i,this.next=null},z.prototype.reset=function(){this.next=this.b=this.a=null};var B=Array.prototype.indexOf?function(t,i){return Array.prototype.indexOf.call(t,i,void 0)}:function(t,i){if(typeof t=="string")return typeof i!="string"||i.length!=1?-1:t.indexOf(i,0);for(var a=0;a<t.length;a++)if(a in t&&t[a]===i)return a;return-1},W=Array.prototype.forEach?function(t,i,a){Array.prototype.forEach.call(t,i,a)}:function(t,i,a){for(var c=t.length,d=typeof t=="string"?t.split(""):t,g=0;g<c;g++)g in d&&i.call(a,d[g],g,t)};function Re(t,i){for(var a=typeof t=="string"?t.split(""):t,c=t.length-1;0<=c;--c)c in a&&i.call(void 0,a[c],c,t)}var Oe=Array.prototype.filter?function(t,i){return Array.prototype.filter.call(t,i,void 0)}:function(t,i){for(var a=t.length,c=[],d=0,g=typeof t=="string"?t.split(""):t,m=0;m<a;m++)if(m in g){var b=g[m];i.call(void 0,b,m,t)&&(c[d++]=b)}return c},ce=Array.prototype.map?function(t,i){return Array.prototype.map.call(t,i,void 0)}:function(t,i){for(var a=t.length,c=Array(a),d=typeof t=="string"?t.split(""):t,g=0;g<a;g++)g in d&&(c[g]=i.call(void 0,d[g],g,t));return c},fe=Array.prototype.some?function(t,i){return Array.prototype.some.call(t,i,void 0)}:function(t,i){for(var a=t.length,c=typeof t=="string"?t.split(""):t,d=0;d<a;d++)if(d in c&&i.call(void 0,c[d],d,t))return!0;return!1};function E(t){e:{for(var i=lI,a=t.length,c=typeof t=="string"?t.split(""):t,d=0;d<a;d++)if(d in c&&i.call(void 0,c[d],d,t)){i=d;break e}i=-1}return 0>i?null:typeof t=="string"?t.charAt(i):t[i]}function I(t,i){return 0<=B(t,i)}function A(t,i){i=B(t,i);var a;return(a=0<=i)&&Array.prototype.splice.call(t,i,1),a}function P(t,i){var a=0;Re(t,function(c,d){i.call(void 0,c,d,t)&&Array.prototype.splice.call(t,d,1).length==1&&a++})}function x(t){return Array.prototype.concat.apply([],arguments)}function M(t){var i=t.length;if(0<i){for(var a=Array(i),c=0;c<i;c++)a[c]=t[c];return a}return[]}var H=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},j=/&/g,V=/</g,L=/>/g,Z=/"/g,Y=/'/g,ee=/\x00/g,ie=/[\x00&<>"']/;function X(t,i){return t.indexOf(i)!=-1}function xe(t,i){return t<i?-1:t>i?1:0}var we;e:{var De=f.navigator;if(De){var At=De.userAgent;if(At){we=At;break e}}we=""}function Ve(t){return X(we,t)}function bo(t,i){for(var a in t)i.call(void 0,t[a],a,t)}function jt(t){for(var i in t)return!1;return!0}function sn(t){var i={},a;for(a in t)i[a]=t[a];return i}var mt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function We(t,i){for(var a,c,d=1;d<arguments.length;d++){c=arguments[d];for(a in c)t[a]=c[a];for(var g=0;g<mt.length;g++)a=mt[g],Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a])}}function Eo(t,i){e:{try{var a=t&&t.ownerDocument,c=a&&(a.defaultView||a.parentWindow);if(c=c||f,c.Element&&c.Location){var d=c;break e}}catch{}d=null}if(d&&typeof d[i]!="undefined"&&(!t||!(t instanceof d[i])&&(t instanceof d.Location||t instanceof d.Element))){if(S(t))try{var g=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch{g="<object could not be stringified>"}else g=t===void 0?"undefined":t===null?"null":typeof t;Lt("Argument is not a %s (or a non-Element, non-Location mock); got: %s",i,g)}}function wn(t,i){this.a=t===ea&&i||"",this.b=ip}wn.prototype.ta=!0,wn.prototype.sa=function(){return this.a},wn.prototype.toString=function(){return"Const{"+this.a+"}"};function vl(t){return t instanceof wn&&t.constructor===wn&&t.b===ip?t.a:(Lt("expected object of type Const, got '"+t+"'"),"type_error:Const")}var ip={},ea={},ta;function op(){if(ta===void 0){var t=null,i=f.trustedTypes;if(i&&i.createPolicy){try{t=i.createPolicy("goog#html",{createHTML:Ce,createScript:Ce,createScriptURL:Ce})}catch(a){f.console&&f.console.error(a.message)}ta=t}else ta=t}return ta}function wi(t,i){this.a=i===ap?t:""}wi.prototype.ta=!0,wi.prototype.sa=function(){return this.a.toString()},wi.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function sp(t){return t instanceof wi&&t.constructor===wi?t.a:(Lt("expected object of type TrustedResourceUrl, got '"+t+"' of type "+w(t)),"type_error:TrustedResourceUrl")}function gl(t,i){var a=vl(t);if(!jE.test(a))throw Error("Invalid TrustedResourceUrl format: "+a);return t=a.replace(FE,function(c,d){if(!Object.prototype.hasOwnProperty.call(i,d))throw Error('Found marker, "'+d+'", in format string, "'+a+'", but no valid label mapping found in args: '+JSON.stringify(i));return c=i[d],c instanceof wn?vl(c):encodeURIComponent(String(c))}),UE(t)}var FE=/%{(\w+)}/g,jE=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,ap={};function UE(t){var i=op();return t=i?i.createScriptURL(t):t,new wi(t,ap)}function Nt(t,i){this.a=i===Io?t:""}Nt.prototype.ta=!0,Nt.prototype.sa=function(){return this.a.toString()},Nt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function na(t){return t instanceof Nt&&t.constructor===Nt?t.a:(Lt("expected object of type SafeUrl, got '"+t+"' of type "+w(t)),"type_error:SafeUrl")}var VE=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,BE=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,up=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function lp(t){if(t instanceof Nt)return t;if(t=typeof t=="object"&&t.ta?t.sa():String(t),up.test(t))t=new Nt(t,Io);else{t=String(t),t=t.replace(/(%0A|%0D)/g,"");var i=t.match(BE);t=i&&VE.test(i[1])?new Nt(t,Io):null}return t}function cp(t){return t instanceof Nt?t:(t=typeof t=="object"&&t.ta?t.sa():String(t),up.test(t)||(t="about:invalid#zClosurez"),new Nt(t,Io))}var Io={},fp=new Nt("about:invalid#zClosurez",Io);function bi(t,i,a){this.a=a===hp?t:""}bi.prototype.ta=!0,bi.prototype.sa=function(){return this.a.toString()},bi.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function WE(t){return t instanceof bi&&t.constructor===bi?t.a:(Lt("expected object of type SafeHtml, got '"+t+"' of type "+w(t)),"type_error:SafeHtml")}var hp={};function HE(t,i){Eo(t,"HTMLScriptElement"),t.src=sp(i),(i=t.ownerDocument&&t.ownerDocument.defaultView)&&i!=f?i=y(i.document):(v===null&&(v=y(f.document)),i=v),i&&t.setAttribute("nonce",i)}function dp(t,i,a,c){return t=t instanceof Nt?t:cp(t),i=i||f,a=a instanceof wn?vl(a):a||"",i.open(na(t),a,c,void 0)}function pp(t,i){for(var a=t.split("%s"),c="",d=Array.prototype.slice.call(arguments,1);d.length&&1<a.length;)c+=a.shift()+d.shift();return c+a.join("%s")}function ml(t){return ie.test(t)&&(t.indexOf("&")!=-1&&(t=t.replace(j,"&amp;")),t.indexOf("<")!=-1&&(t=t.replace(V,"&lt;")),t.indexOf(">")!=-1&&(t=t.replace(L,"&gt;")),t.indexOf('"')!=-1&&(t=t.replace(Z,"&quot;")),t.indexOf("'")!=-1&&(t=t.replace(Y,"&#39;")),t.indexOf("\0")!=-1&&(t=t.replace(ee,"&#0;"))),t}function yl(t){return yl[" "](t),t}yl[" "]=_;function GE(t,i){var a=$E;return Object.prototype.hasOwnProperty.call(a,t)?a[t]:a[t]=i(t)}var KE=Ve("Opera"),an=Ve("Trident")||Ve("MSIE"),vp=Ve("Edge"),qE=vp||an,gp=Ve("Gecko")&&!(X(we.toLowerCase(),"webkit")&&!Ve("Edge"))&&!(Ve("Trident")||Ve("MSIE"))&&!Ve("Edge"),zE=X(we.toLowerCase(),"webkit")&&!Ve("Edge");function mp(){var t=f.document;return t?t.documentMode:void 0}var ra;e:{var _l="",wl=function(){var t=we;if(gp)return/rv:([^\);]+)(\)|;)/.exec(t);if(vp)return/Edge\/([\d\.]+)/.exec(t);if(an)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(zE)return/WebKit\/(\S+)/.exec(t);if(KE)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(wl&&(_l=wl?wl[1]:""),an){var bl=mp();if(bl!=null&&bl>parseFloat(_l)){ra=String(bl);break e}}ra=_l}var $E={};function yp(t){return GE(t,function(){for(var i=0,a=H(String(ra)).split("."),c=H(String(t)).split("."),d=Math.max(a.length,c.length),g=0;i==0&&g<d;g++){var m=a[g]||"",b=c[g]||"";do{if(m=/(\d*)(\D*)(.*)/.exec(m)||["","","",""],b=/(\d*)(\D*)(.*)/.exec(b)||["","","",""],m[0].length==0&&b[0].length==0)break;i=xe(m[1].length==0?0:parseInt(m[1],10),b[1].length==0?0:parseInt(b[1],10))||xe(m[2].length==0,b[2].length==0)||xe(m[2],b[2]),m=m[3],b=b[3]}while(i==0)}return 0<=i})}var El;if(f.document&&an){var _p=mp();El=_p||parseInt(ra,10)||void 0}else El=void 0;var Jn=El;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var YE=!an||9<=Number(Jn);function To(t){var i=document;return typeof t=="string"?i.getElementById(t):t}function wp(t,i){bo(i,function(a,c){a&&typeof a=="object"&&a.ta&&(a=a.sa()),c=="style"?t.style.cssText=a:c=="class"?t.className=a:c=="for"?t.htmlFor=a:bp.hasOwnProperty(c)?t.setAttribute(bp[c],a):c.lastIndexOf("aria-",0)==0||c.lastIndexOf("data-",0)==0?t.setAttribute(c,a):t[c]=a})}var bp={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function QE(t,i,a){var c=arguments,d=document,g=String(c[0]),m=c[1];if(!YE&&m&&(m.name||m.type)){if(g=["<",g],m.name&&g.push(' name="',ml(m.name),'"'),m.type){g.push(' type="',ml(m.type),'"');var b={};We(b,m),delete b.type,m=b}g.push(">"),g=g.join("")}return g=ia(d,g),m&&(typeof m=="string"?g.className=m:Array.isArray(m)?g.className=m.join(" "):wp(g,m)),2<c.length&&XE(d,g,c),g}function XE(t,i,a){function c(b){b&&i.appendChild(typeof b=="string"?t.createTextNode(b):b)}for(var d=2;d<a.length;d++){var g=a[d];if(!C(g)||S(g)&&0<g.nodeType)c(g);else{e:{if(g&&typeof g.length=="number"){if(S(g)){var m=typeof g.item=="function"||typeof g.item=="string";break e}if(R(g)){m=typeof g.item=="function";break e}}m=!1}W(m?M(g):g,c)}}}function ia(t,i){return i=String(i),t.contentType==="application/xhtml+xml"&&(i=i.toLowerCase()),t.createElement(i)}function Ep(t){f.setTimeout(function(){throw t},0)}var Il;function JE(){var t=f.MessageChannel;if(typeof t=="undefined"&&typeof window!="undefined"&&window.postMessage&&window.addEventListener&&!Ve("Presto")&&(t=function(){var d=ia(document,"IFRAME");d.style.display="none",document.documentElement.appendChild(d);var g=d.contentWindow;d=g.document,d.open(),d.close();var m="callImmediate"+Math.random(),b=g.location.protocol=="file:"?"*":g.location.protocol+"//"+g.location.host;d=G(function(N){(b=="*"||N.origin==b)&&N.data==m&&this.port1.onmessage()},this),g.addEventListener("message",d,!1),this.port1={},this.port2={postMessage:function(){g.postMessage(m,b)}}}),typeof t!="undefined"&&!Ve("Trident")&&!Ve("MSIE")){var i=new t,a={},c=a;return i.port1.onmessage=function(){if(a.next!==void 0){a=a.next;var d=a.Hb;a.Hb=null,d()}},function(d){c.next={Hb:d},c=c.next,i.port2.postMessage(0)}}return function(d){f.setTimeout(d,0)}}function oa(t,i){sa||ZE(),Tl||(sa(),Tl=!0),Ip.add(t,i)}var sa;function ZE(){if(f.Promise&&f.Promise.resolve){var t=f.Promise.resolve(void 0);sa=function(){t.then(Tp)}}else sa=function(){var i=Tp;!R(f.setImmediate)||f.Window&&f.Window.prototype&&!Ve("Edge")&&f.Window.prototype.setImmediate==f.setImmediate?(Il||(Il=JE()),Il(i)):f.setImmediate(i)}}var Tl=!1,Ip=new wt;function Tp(){for(var t;t=O();){try{t.a.call(t.b)}catch(i){Ep(i)}Ft(_i,t)}Tl=!1}function me(t,i){if(this.a=Nr,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=_)try{var a=this;t.call(i,function(c){Rr(a,Co,c)},function(c){if(!(c instanceof Ei))try{throw c instanceof Error?c:Error("Promise rejected.")}catch{}Rr(a,Un,c)})}catch(c){Rr(this,Un,c)}}var Nr=0,Co=2,Un=3;function Cp(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Cp.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Sp=new Mt(function(){return new Cp},function(t){t.reset()});function Cl(t,i,a){var c=Sp.get();return c.g=t,c.b=i,c.f=a,c}function te(t){if(t instanceof me)return t;var i=new me(_);return Rr(i,Co,t),i}function Ge(t){return new me(function(i,a){a(t)})}function Ap(t,i,a){Pp(t,i,a,null)||oa(ae(i,t))}function e0(t){return new me(function(i,a){var c=t.length,d=[];if(c)for(var g=function(D,oe){c--,d[D]=oe,c==0&&i(d)},m=function(D){a(D)},b=0,N;b<t.length;b++)N=t[b],Ap(N,ae(g,b),m);else i(d)})}function Np(t){return new me(function(i){var a=t.length,c=[];if(a)for(var d=function(b,N,D){a--,c[b]=N?{Qb:!0,value:D}:{Qb:!1,reason:D},a==0&&i(c)},g=0,m;g<t.length;g++)m=t[g],Ap(m,ae(d,g,!0),ae(d,g,!1));else i(c)})}me.prototype.then=function(t,i,a){return kp(this,R(t)?t:null,R(i)?i:null,a)},me.prototype.$goog_Thenable=!0,e=me.prototype,e.oa=function(t,i){return t=Cl(t,t,i),t.c=!0,Sl(this,t),this},e.o=function(t,i){return kp(this,null,t,i)},e.cancel=function(t){if(this.a==Nr){var i=new Ei(t);oa(function(){Rp(this,i)},this)}};function Rp(t,i){if(t.a==Nr)if(t.c){var a=t.c;if(a.b){for(var c=0,d=null,g=null,m=a.b;m&&(m.c||(c++,m.a==t&&(d=m),!(d&&1<c)));m=m.next)d||(g=m);d&&(a.a==Nr&&c==1?Rp(a,i):(g?(c=g,c.next==a.f&&(a.f=c),c.next=c.next.next):xp(a),Dp(a,d,Un,i)))}t.c=null}else Rr(t,Un,i)}function Sl(t,i){t.b||t.a!=Co&&t.a!=Un||Op(t),t.f?t.f.next=i:t.b=i,t.f=i}function kp(t,i,a,c){var d=Cl(null,null,null);return d.a=new me(function(g,m){d.g=i?function(b){try{var N=i.call(c,b);g(N)}catch(D){m(D)}}:g,d.b=a?function(b){try{var N=a.call(c,b);N===void 0&&b instanceof Ei?m(b):g(N)}catch(D){m(D)}}:m}),d.a.c=t,Sl(t,d),d.a}e.$c=function(t){this.a=Nr,Rr(this,Co,t)},e.ad=function(t){this.a=Nr,Rr(this,Un,t)};function Rr(t,i,a){t.a==Nr&&(t===a&&(i=Un,a=new TypeError("Promise cannot resolve to itself")),t.a=1,Pp(a,t.$c,t.ad,t)||(t.i=a,t.a=i,t.c=null,Op(t),i!=Un||a instanceof Ei||n0(t,a)))}function Pp(t,i,a,c){if(t instanceof me)return Sl(t,Cl(i||_,a||null,c)),!0;if(Ne(t))return t.then(i,a,c),!0;if(S(t))try{var d=t.then;if(R(d))return t0(t,d,i,a,c),!0}catch(g){return a.call(c,g),!0}return!1}function t0(t,i,a,c,d){function g(N){b||(b=!0,c.call(d,N))}function m(N){b||(b=!0,a.call(d,N))}var b=!1;try{i.call(t,m,g)}catch(N){g(N)}}function Op(t){t.h||(t.h=!0,oa(t.gc,t))}function xp(t){var i=null;return t.b&&(i=t.b,t.b=i.next,i.next=null),t.b||(t.f=null),i}e.gc=function(){for(var t;t=xp(this);)Dp(this,t,this.a,this.i);this.h=!1};function Dp(t,i,a,c){if(a==Un&&i.b&&!i.c)for(;t&&t.g;t=t.c)t.g=!1;if(i.a)i.a.c=null,Lp(i,a,c);else try{i.c?i.g.call(i.f):Lp(i,a,c)}catch(d){Mp.call(null,d)}Ft(Sp,i)}function Lp(t,i,a){i==Co?t.g.call(t.f,a):t.b&&t.b.call(t.f,a)}function n0(t,i){t.g=!0,oa(function(){t.g&&Mp.call(null,i)})}var Mp=Ep;function Ei(t){he.call(this,t)}q(Ei,he),Ei.prototype.name="cancel";function aa(){this.ya=this.ya,this.pa=this.pa}var r0=0,i0={};aa.prototype.ya=!1;function Fp(t){if(!t.ya&&(t.ya=!0,t.Da(),r0!=0)){var i=k(t);delete i0[i]}}aa.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var o0=Object.freeze||function(t){return t},jp=!an||9<=Number(Jn),s0=an&&!yp("9"),a0=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var t=!1,i=Object.defineProperty({},"passive",{get:function(){t=!0}});try{f.addEventListener("test",_,i),f.removeEventListener("test",_,i)}catch{}return t}();function Rt(t,i){this.type=t,this.b=this.target=i,this.defaultPrevented=!1}Rt.prototype.preventDefault=function(){this.defaultPrevented=!0};function kr(t,i){if(Rt.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var a=this.type=t.type,c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=i,i=t.relatedTarget){if(gp){e:{try{yl(i.nodeName);var d=!0;break e}catch{}d=!1}d||(i=null)}}else a=="mouseover"?i=t.fromElement:a=="mouseout"&&(i=t.toElement);this.relatedTarget=i,c?(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:u0[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}q(kr,Rt);var u0=o0({2:"touch",3:"pen",4:"mouse"});kr.prototype.preventDefault=function(){kr.bb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,s0)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch{}},kr.prototype.g=function(){return this.a};var So="closure_listenable_"+(1e6*Math.random()|0),l0=0;function c0(t,i,a,c,d){this.listener=t,this.proxy=null,this.src=i,this.type=a,this.capture=!!c,this.Wa=d,this.key=++l0,this.wa=this.Qa=!1}function ua(t){t.wa=!0,t.listener=null,t.proxy=null,t.src=null,t.Wa=null}function la(t){this.src=t,this.a={},this.b=0}la.prototype.add=function(t,i,a,c,d){var g=t.toString();t=this.a[g],t||(t=this.a[g]=[],this.b++);var m=Nl(t,i,c,d);return-1<m?(i=t[m],a||(i.Qa=!1)):(i=new c0(i,this.src,g,!!c,d),i.Qa=a,t.push(i)),i};function Al(t,i){var a=i.type;a in t.a&&A(t.a[a],i)&&(ua(i),t.a[a].length==0&&(delete t.a[a],t.b--))}function Nl(t,i,a,c){for(var d=0;d<t.length;++d){var g=t[d];if(!g.wa&&g.listener==i&&g.capture==!!a&&g.Wa==c)return d}return-1}var Rl="closure_lm_"+(1e6*Math.random()|0),kl={};function $t(t,i,a,c,d){if(c&&c.once)Pl(t,i,a,c,d);else if(Array.isArray(i))for(var g=0;g<i.length;g++)$t(t,i[g],a,c,d);else a=xl(a),t&&t[So]?Gp(t,i,a,S(c)?!!c.capture:!!c,d):Up(t,i,a,!1,c,d)}function Up(t,i,a,c,d,g){if(!i)throw Error("Invalid event type");var m=S(d)?!!d.capture:!!d,b=ca(t);if(b||(t[Rl]=b=new la(t)),a=b.add(i,a,c,m,g),!a.proxy)if(c=f0(),a.proxy=c,c.src=t,c.listener=a,t.addEventListener)a0||(d=m),d===void 0&&(d=!1),t.addEventListener(i.toString(),c,d);else if(t.attachEvent)t.attachEvent(Bp(i.toString()),c);else if(t.addListener&&t.removeListener)t.addListener(c);else throw Error("addEventListener and attachEvent are unavailable.")}function f0(){var t=h0,i=jp?function(a){return t.call(i.src,i.listener,a)}:function(a){if(a=t.call(i.src,i.listener,a),!a)return a};return i}function Pl(t,i,a,c,d){if(Array.isArray(i))for(var g=0;g<i.length;g++)Pl(t,i[g],a,c,d);else a=xl(a),t&&t[So]?Dl(t,i,a,S(c)?!!c.capture:!!c,d):Up(t,i,a,!0,c,d)}function Ut(t,i,a,c,d){if(Array.isArray(i))for(var g=0;g<i.length;g++)Ut(t,i[g],a,c,d);else c=S(c)?!!c.capture:!!c,a=xl(a),t&&t[So]?(t=t.v,i=String(i).toString(),i in t.a&&(g=t.a[i],a=Nl(g,a,c,d),-1<a&&(ua(g[a]),Array.prototype.splice.call(g,a,1),g.length==0&&(delete t.a[i],t.b--)))):t&&(t=ca(t))&&(i=t.a[i.toString()],t=-1,i&&(t=Nl(i,a,c,d)),(a=-1<t?i[t]:null)&&Vp(a))}function Vp(t){if(typeof t!="number"&&t&&!t.wa){var i=t.src;if(i&&i[So])Al(i.v,t);else{var a=t.type,c=t.proxy;i.removeEventListener?i.removeEventListener(a,c,t.capture):i.detachEvent?i.detachEvent(Bp(a),c):i.addListener&&i.removeListener&&i.removeListener(c),(a=ca(i))?(Al(a,t),a.b==0&&(a.src=null,i[Rl]=null)):ua(t)}}}function Bp(t){return t in kl?kl[t]:kl[t]="on"+t}function Wp(t,i,a,c){var d=!0;if((t=ca(t))&&(i=t.a[i.toString()]))for(i=i.concat(),t=0;t<i.length;t++){var g=i[t];g&&g.capture==a&&!g.wa&&(g=Hp(g,c),d=d&&g!==!1)}return d}function Hp(t,i){var a=t.listener,c=t.Wa||t.src;return t.Qa&&Vp(t),a.call(c,i)}function h0(t,i){if(t.wa)return!0;if(!jp){if(!i)e:{i=["window","event"];for(var a=f,c=0;c<i.length;c++)if(a=a[i[c]],a==null){i=null;break e}i=a}if(c=i,i=new kr(c,this),a=!0,!(0>c.keyCode||c.returnValue!=null)){e:{var d=!1;if(c.keyCode==0)try{c.keyCode=-1;break e}catch{d=!0}(d||c.returnValue==null)&&(c.returnValue=!0)}for(c=[],d=i.b;d;d=d.parentNode)c.push(d);for(t=t.type,d=c.length-1;0<=d;d--){i.b=c[d];var g=Wp(c[d],t,!0,i);a=a&&g}for(d=0;d<c.length;d++)i.b=c[d],g=Wp(c[d],t,!1,i),a=a&&g}return a}return Hp(t,new kr(i,this))}function ca(t){return t=t[Rl],t instanceof la?t:null}var Ol="__closure_events_fn_"+(1e9*Math.random()>>>0);function xl(t){return R(t)?t:(t[Ol]||(t[Ol]=function(i){return t.handleEvent(i)}),t[Ol])}function bt(){aa.call(this),this.v=new la(this),this.bc=this,this.hb=null}q(bt,aa),bt.prototype[So]=!0,bt.prototype.addEventListener=function(t,i,a,c){$t(this,t,i,a,c)},bt.prototype.removeEventListener=function(t,i,a,c){Ut(this,t,i,a,c)},bt.prototype.dispatchEvent=function(t){var i,a=this.hb;if(a)for(i=[];a;a=a.hb)i.push(a);a=this.bc;var c=t.type||t;if(typeof t=="string")t=new Rt(t,a);else if(t instanceof Rt)t.target=t.target||a;else{var d=t;t=new Rt(c,a),We(t,d)}if(d=!0,i)for(var g=i.length-1;0<=g;g--){var m=t.b=i[g];d=fa(m,c,!0,t)&&d}if(m=t.b=a,d=fa(m,c,!0,t)&&d,d=fa(m,c,!1,t)&&d,i)for(g=0;g<i.length;g++)m=t.b=i[g],d=fa(m,c,!1,t)&&d;return d},bt.prototype.Da=function(){if(bt.bb.Da.call(this),this.v){var t=this.v,i;for(i in t.a){for(var a=t.a[i],c=0;c<a.length;c++)ua(a[c]);delete t.a[i],t.b--}}this.hb=null};function Gp(t,i,a,c,d){t.v.add(String(i),a,!1,c,d)}function Dl(t,i,a,c,d){t.v.add(String(i),a,!0,c,d)}function fa(t,i,a,c){if(i=t.v.a[String(i)],!i)return!0;i=i.concat();for(var d=!0,g=0;g<i.length;++g){var m=i[g];if(m&&!m.wa&&m.capture==a){var b=m.listener,N=m.Wa||m.src;m.Qa&&Al(t.v,m),d=b.call(N,c)!==!1&&d}}return d&&!c.defaultPrevented}function Ll(t,i,a){if(R(t))a&&(t=G(t,a));else if(t&&typeof t.handleEvent=="function")t=G(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(i)?-1:f.setTimeout(t,i||0)}function Ii(t){var i=null;return new me(function(a,c){i=Ll(function(){a(void 0)},t),i==-1&&c(Error("Failed to schedule timer."))}).o(function(a){throw f.clearTimeout(i),a})}function Kp(t){if(t.X&&typeof t.X=="function")return t.X();if(typeof t=="string")return t.split("");if(C(t)){for(var i=[],a=t.length,c=0;c<a;c++)i.push(t[c]);return i}i=[],a=0;for(c in t)i[a++]=t[c];return i}function qp(t){if(t.Y&&typeof t.Y=="function")return t.Y();if(!t.X||typeof t.X!="function"){if(C(t)||typeof t=="string"){var i=[];t=t.length;for(var a=0;a<t;a++)i.push(a);return i}i=[],a=0;for(var c in t)i[a++]=c;return i}}function d0(t,i){if(t.forEach&&typeof t.forEach=="function")t.forEach(i,void 0);else if(C(t)||typeof t=="string")W(t,i,void 0);else for(var a=qp(t),c=Kp(t),d=c.length,g=0;g<d;g++)i.call(void 0,c[g],a&&a[g],t)}function Ti(t,i){this.b={},this.a=[],this.c=0;var a=arguments.length;if(1<a){if(a%2)throw Error("Uneven number of arguments");for(var c=0;c<a;c+=2)this.set(arguments[c],arguments[c+1])}else if(t)if(t instanceof Ti)for(a=t.Y(),c=0;c<a.length;c++)this.set(a[c],t.get(a[c]));else for(c in t)this.set(c,t[c])}e=Ti.prototype,e.X=function(){Ml(this);for(var t=[],i=0;i<this.a.length;i++)t.push(this.b[this.a[i]]);return t},e.Y=function(){return Ml(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function Ml(t){if(t.c!=t.a.length){for(var i=0,a=0;i<t.a.length;){var c=t.a[i];Pr(t.b,c)&&(t.a[a++]=c),i++}t.a.length=a}if(t.c!=t.a.length){var d={};for(a=i=0;i<t.a.length;)c=t.a[i],Pr(d,c)||(t.a[a++]=c,d[c]=1),i++;t.a.length=a}}e.get=function(t,i){return Pr(this.b,t)?this.b[t]:i},e.set=function(t,i){Pr(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=i},e.forEach=function(t,i){for(var a=this.Y(),c=0;c<a.length;c++){var d=a[c],g=this.get(d);t.call(i,g,d,this)}};function Pr(t,i){return Object.prototype.hasOwnProperty.call(t,i)}var zp=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function p0(t,i){if(t){t=t.split("&");for(var a=0;a<t.length;a++){var c=t[a].indexOf("="),d=null;if(0<=c){var g=t[a].substring(0,c);d=t[a].substring(c+1)}else g=t[a];i(g,d?decodeURIComponent(d.replace(/\+/g," ")):"")}}}function Zn(t,i){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var a;t instanceof Zn?(this.i=i!==void 0?i:t.i,Ao(this,t.c),this.l=t.l,this.a=t.a,No(this,t.g),this.f=t.f,Fl(this,Xp(t.b)),this.h=t.h):t&&(a=String(t).match(zp))?(this.i=!!i,Ao(this,a[1]||"",!0),this.l=Ro(a[2]||""),this.a=Ro(a[3]||"",!0),No(this,a[4]),this.f=Ro(a[5]||"",!0),Fl(this,a[6]||"",!0),this.h=Ro(a[7]||"")):(this.i=!!i,this.b=new Or(null,this.i))}Zn.prototype.toString=function(){var t=[],i=this.c;i&&t.push(ko(i,$p,!0),":");var a=this.a;return(a||i=="file")&&(t.push("//"),(i=this.l)&&t.push(ko(i,$p,!0),"@"),t.push(encodeURIComponent(String(a)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a=this.g,a!=null&&t.push(":",String(a))),(a=this.f)&&(this.a&&a.charAt(0)!="/"&&t.push("/"),t.push(ko(a,a.charAt(0)=="/"?m0:g0,!0))),(a=this.b.toString())&&t.push("?",a),(a=this.h)&&t.push("#",ko(a,_0)),t.join("")},Zn.prototype.resolve=function(t){var i=new Zn(this),a=!!t.c;a?Ao(i,t.c):a=!!t.l,a?i.l=t.l:a=!!t.a,a?i.a=t.a:a=t.g!=null;var c=t.f;if(a)No(i,t.g);else if(a=!!t.f){if(c.charAt(0)!="/")if(this.a&&!this.f)c="/"+c;else{var d=i.f.lastIndexOf("/");d!=-1&&(c=i.f.substr(0,d+1)+c)}if(d=c,d==".."||d==".")c="";else if(X(d,"./")||X(d,"/.")){c=d.lastIndexOf("/",0)==0,d=d.split("/");for(var g=[],m=0;m<d.length;){var b=d[m++];b=="."?c&&m==d.length&&g.push(""):b==".."?((1<g.length||g.length==1&&g[0]!="")&&g.pop(),c&&m==d.length&&g.push("")):(g.push(b),c=!0)}c=g.join("/")}else c=d}return a?i.f=c:a=t.b.toString()!=="",a?Fl(i,Xp(t.b)):a=!!t.h,a&&(i.h=t.h),i};function Ao(t,i,a){t.c=a?Ro(i,!0):i,t.c&&(t.c=t.c.replace(/:$/,""))}function No(t,i){if(i){if(i=Number(i),isNaN(i)||0>i)throw Error("Bad port number "+i);t.g=i}else t.g=null}function Fl(t,i,a){i instanceof Or?(t.b=i,w0(t.b,t.i)):(a||(i=ko(i,y0)),t.b=new Or(i,t.i))}function Ze(t,i,a){t.b.set(i,a)}function Yt(t,i){return t.b.get(i)}function kt(t){return t instanceof Zn?new Zn(t):new Zn(t,void 0)}function ha(t,i,a,c){var d=new Zn(null,void 0);return t&&Ao(d,t),i&&(d.a=i),a&&No(d,a),c&&(d.f=c),d}function Ro(t,i){return t?i?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ko(t,i,a){return typeof t=="string"?(t=encodeURI(t).replace(i,v0),a&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function v0(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var $p=/[#\/\?@]/g,g0=/[#\?:]/g,m0=/[#\?]/g,y0=/[#\?@]/g,_0=/#/g;function Or(t,i){this.b=this.a=null,this.c=t||null,this.f=!!i}function er(t){t.a||(t.a=new Ti,t.b=0,t.c&&p0(t.c,function(i,a){t.add(decodeURIComponent(i.replace(/\+/g," ")),a)}))}function Yp(t){var i=qp(t);if(typeof i=="undefined")throw Error("Keys are undefined");var a=new Or(null,void 0);t=Kp(t);for(var c=0;c<i.length;c++){var d=i[c],g=t[c];Array.isArray(g)?Qp(a,d,g):a.add(d,g)}return a}e=Or.prototype,e.add=function(t,i){er(this),this.c=null,t=Ci(this,t);var a=this.a.get(t);return a||this.a.set(t,a=[]),a.push(i),this.b+=1,this};function bn(t,i){er(t),i=Ci(t,i),Pr(t.a.b,i)&&(t.c=null,t.b-=t.a.get(i).length,t=t.a,Pr(t.b,i)&&(delete t.b[i],t.c--,t.a.length>2*t.c&&Ml(t)))}e.clear=function(){this.a=this.c=null,this.b=0};function jl(t,i){return er(t),i=Ci(t,i),Pr(t.a.b,i)}e.forEach=function(t,i){er(this),this.a.forEach(function(a,c){W(a,function(d){t.call(i,d,c,this)},this)},this)},e.Y=function(){er(this);for(var t=this.a.X(),i=this.a.Y(),a=[],c=0;c<i.length;c++)for(var d=t[c],g=0;g<d.length;g++)a.push(i[c]);return a},e.X=function(t){er(this);var i=[];if(typeof t=="string")jl(this,t)&&(i=x(i,this.a.get(Ci(this,t))));else{t=this.a.X();for(var a=0;a<t.length;a++)i=x(i,t[a])}return i},e.set=function(t,i){return er(this),this.c=null,t=Ci(this,t),jl(this,t)&&(this.b-=this.a.get(t).length),this.a.set(t,[i]),this.b+=1,this},e.get=function(t,i){return t?(t=this.X(t),0<t.length?String(t[0]):i):i};function Qp(t,i,a){bn(t,i),0<a.length&&(t.c=null,t.a.set(Ci(t,i),M(a)),t.b+=a.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],i=this.a.Y(),a=0;a<i.length;a++){var c=i[a],d=encodeURIComponent(String(c));c=this.X(c);for(var g=0;g<c.length;g++){var m=d;c[g]!==""&&(m+="="+encodeURIComponent(String(c[g]))),t.push(m)}}return this.c=t.join("&")};function Xp(t){var i=new Or;return i.c=t.c,t.a&&(i.a=new Ti(t.a),i.b=t.b),i}function Ci(t,i){return i=String(i),t.f&&(i=i.toLowerCase()),i}function w0(t,i){i&&!t.f&&(er(t),t.c=null,t.a.forEach(function(a,c){var d=c.toLowerCase();c!=d&&(bn(this,c),Qp(this,d,a))},t)),t.f=i}function Jp(t){var i=[];return Ul(new b0,t,i),i.join("")}function b0(){}function Ul(t,i,a){if(i==null)a.push("null");else{if(typeof i=="object"){if(Array.isArray(i)){var c=i;i=c.length,a.push("[");for(var d="",g=0;g<i;g++)a.push(d),Ul(t,c[g],a),d=",";a.push("]");return}if(i instanceof String||i instanceof Number||i instanceof Boolean)i=i.valueOf();else{a.push("{"),d="";for(c in i)Object.prototype.hasOwnProperty.call(i,c)&&(g=i[c],typeof g!="function"&&(a.push(d),ev(c,a),a.push(":"),Ul(t,g,a),d=","));a.push("}");return}}switch(typeof i){case"string":ev(i,a);break;case"number":a.push(isFinite(i)&&!isNaN(i)?String(i):"null");break;case"boolean":a.push(String(i));break;case"function":a.push("null");break;default:throw Error("Unknown type: "+typeof i)}}}var Zp={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},E0=/\uffff/.test("\uFFFF")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ev(t,i){i.push('"',t.replace(E0,function(a){var c=Zp[a];return c||(c="\\u"+(a.charCodeAt(0)|65536).toString(16).substr(1),Zp[a]=c),c}),'"')}function Vl(){var t=dt();return an&&!!Jn&&Jn==11||/Edge\/\d+/.test(t)}function Po(){return f.window&&f.window.location.href||self&&self.location&&self.location.href||""}function tv(t,i){i=i||f.window;var a="about:blank";t&&(a=na(lp(t)||fp)),i.location.href=a}function nv(t,i){var a=[],c;for(c in t)c in i?typeof t[c]!=typeof i[c]?a.push(c):typeof t[c]=="object"&&t[c]!=null&&i[c]!=null?0<nv(t[c],i[c]).length&&a.push(c):t[c]!==i[c]&&a.push(c):a.push(c);for(c in i)c in t||a.push(c);return a}function I0(){var t=dt();return t=Si(t)!=sv?null:(t=t.match(/\sChrome\/(\d+)/i))&&t.length==2?parseInt(t[1],10):null,t&&30>t?!1:!an||!Jn||9<Jn}function rv(t){return t=(t||dt()).toLowerCase(),!!(t.match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function xr(t){t=t||f.window;try{t.close()}catch{}}function iv(t,i,a){var c=Math.floor(1e9*Math.random()).toString();i=i||500,a=a||600;var d=(window.screen.availHeight-a)/2,g=(window.screen.availWidth-i)/2;i={width:i,height:a,top:0<d?d:0,left:0<g?g:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},a=dt().toLowerCase(),c&&(i.target=c,X(a,"crios/")&&(i.target="_blank")),Si(dt())==Hl&&(t=t||"http://localhost",i.scrollbars=!0),a=t||"",(t=i)||(t={}),c=window,i=a instanceof Nt?a:lp(typeof a.href!="undefined"?a.href:String(a))||fp,a=t.target||a.target,d=[];for(m in t)switch(m){case"width":case"height":case"top":case"left":d.push(m+"="+t[m]);break;case"target":case"noopener":case"noreferrer":break;default:d.push(m+"="+(t[m]?1:0))}var m=d.join(",");if((Ve("iPhone")&&!Ve("iPod")&&!Ve("iPad")||Ve("iPad")||Ve("iPod"))&&c.navigator&&c.navigator.standalone&&a&&a!="_self"?(m=ia(document,"A"),Eo(m,"HTMLAnchorElement"),i=i instanceof Nt?i:cp(i),m.href=na(i),m.setAttribute("target",a),t.noreferrer&&m.setAttribute("rel","noreferrer"),t=document.createEvent("MouseEvent"),t.initMouseEvent("click",!0,!0,c,1),m.dispatchEvent(t),m={}):t.noreferrer?(m=dp("",c,a,m),t=na(i),m&&(qE&&X(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),m.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+ml(t)+'">',t=(c=op())?c.createHTML(t):t,t=new bi(t,null,hp),c=m.document)&&(c.write(WE(t)),c.close())):(m=dp(i,c,a,m))&&t.noopener&&(m.opener=null),m)try{m.focus()}catch{}return m}function T0(t){return new me(function(i){function a(){Ii(2e3).then(function(){if(!t||t.closed)i();else return a()})}return a()})}var C0=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,S0=/^[^@]+@[^@]+$/;function da(){var t=null;return new me(function(i){f.document.readyState=="complete"?i():(t=function(){i()},Pl(window,"load",t))}).o(function(i){throw Ut(window,"load",t),i})}function A0(){return Bl(void 0)?da().then(function(){return new me(function(t,i){var a=f.document,c=setTimeout(function(){i(Error("Cordova framework is not ready."))},1e3);a.addEventListener("deviceready",function(){clearTimeout(c),t()},!1)})}):Ge(Error("Cordova must run in an Android or iOS file scheme."))}function Bl(t){return t=t||dt(),!(Ni()!=="file:"&&Ni()!=="ionic:"||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Wl(){var t=f.window;try{return!(!t||t==t.top)}catch{return!1}}function un(){return typeof f.WorkerGlobalScope!="undefined"&&typeof f.importScripts=="function"}function En(){return ue.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":ue.INTERNAL.hasOwnProperty("node")?"Node":un()?"Worker":"Browser"}function ov(){var t=En();return t==="ReactNative"||t==="Node"}function N0(){for(var t=50,i=[];0<t;)i.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return i.join("")}var Hl="Firefox",sv="Chrome";function Si(t){var i=t.toLowerCase();if(X(i,"opera/")||X(i,"opr/")||X(i,"opios/"))return"Opera";if(X(i,"iemobile"))return"IEMobile";if(X(i,"msie")||X(i,"trident/"))return"IE";if(X(i,"edge/"))return"Edge";if(X(i,"firefox/"))return Hl;if(X(i,"silk/"))return"Silk";if(X(i,"blackberry"))return"Blackberry";if(X(i,"webos"))return"Webos";if(!X(i,"safari/")||X(i,"chrome/")||X(i,"crios/")||X(i,"android"))if(!X(i,"chrome/")&&!X(i,"crios/")||X(i,"edge/")){if(X(i,"android"))return"Android";if((t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&t.length==2)return t[1]}else return sv;else return"Safari";return"Other"}var av={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Ai(t,i){i=i||[];var a=[],c={},d;for(d in av)c[av[d]]=!0;for(d=0;d<i.length;d++)typeof c[i[d]]!="undefined"&&(delete c[i[d]],a.push(i[d]));return a.sort(),i=a,i.length||(i=["FirebaseCore-web"]),a=En(),a==="Browser"?(c=dt(),a=Si(c)):a==="Worker"&&(c=dt(),a=Si(c)+"-"+a),a+"/JsCore/"+t+"/"+i.join(",")}function dt(){return f.navigator&&f.navigator.userAgent||""}function Ke(t,i){t=t.split("."),i=i||f;for(var a=0;a<t.length&&typeof i=="object"&&i!=null;a++)i=i[t[a]];return a!=t.length&&(i=void 0),i}function Gl(){try{var t=f.localStorage,i=Lr();if(t)return t.setItem(i,"1"),t.removeItem(i),Vl()?!!f.indexedDB:!0}catch{return un()&&!!f.indexedDB}return!1}function Dr(){return(pa()||Ni()==="chrome-extension:"||Bl())&&!ov()&&Gl()&&!un()}function pa(){return Ni()==="http:"||Ni()==="https:"}function Ni(){return f.location&&f.location.protocol||null}function Oo(t){return t=t||dt(),!(rv(t)||Si(t)==Hl)}function xo(t){return typeof t=="undefined"?null:Jp(t)}function uv(t){var i={},a;for(a in t)t.hasOwnProperty(a)&&t[a]!==null&&t[a]!==void 0&&(i[a]=t[a]);return i}function Ri(t){if(t!==null)return JSON.parse(t)}function Lr(t){return t||Math.floor(1e9*Math.random()).toString()}function lv(t){return t=t||dt(),!(Si(t)=="Safari"||t.toLowerCase().match(/iphone|ipad|ipod/))}function cv(){var t=f.___jsl;if(t&&t.H){for(var i in t.H)if(t.H[i].r=t.H[i].r||[],t.H[i].L=t.H[i].L||[],t.H[i].r=t.H[i].L.concat(),t.CP)for(var a=0;a<t.CP.length;a++)t.CP[a]=null}}function tr(t,i){if(t>i)throw Error("Short delay should be less than long delay!");this.a=t,this.c=i,t=dt(),i=En(),this.b=rv(t)||i==="ReactNative"}tr.prototype.get=function(){var t=f.navigator;return(t&&typeof t.onLine=="boolean"&&(pa()||Ni()==="chrome-extension:"||typeof t.connection!="undefined")?t.onLine:1)?this.b?this.c:this.a:Math.min(5e3,this.a)};function Kl(){var t=f.document;return t&&typeof t.visibilityState!="undefined"?t.visibilityState=="visible":!0}function R0(){var t=f.document,i=null;return Kl()||!t?te():new me(function(a){i=function(){Kl()&&(t.removeEventListener("visibilitychange",i,!1),a())},t.addEventListener("visibilitychange",i,!1)}).o(function(a){throw t.removeEventListener("visibilitychange",i,!1),a})}function Do(t){try{var i=new Date(parseInt(t,10));if(!isNaN(i.getTime())&&!/[^0-9]/.test(t))return i.toUTCString()}catch{}return null}function fv(){return!(!Ke("fireauth.oauthhelper",f)&&!Ke("fireauth.iframe",f))}function k0(){var t=f.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}function P0(){var t=f.navigator;return t&&t.serviceWorker?te().then(function(){return t.serviceWorker.ready}).then(function(i){return i.active||null}).o(function(){return null}):te(null)}var hv={};function ql(t){hv[t]||(hv[t]=!0,typeof console!="undefined"&&typeof console.warn=="function"&&console.warn(t))}var zl;try{var $l={};Object.defineProperty($l,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty($l,"abcd",{configurable:!0,enumerable:!0,value:2}),zl=$l.abcd==2}catch{zl=!1}function $(t,i,a){zl?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,value:a}):t[i]=a}function Et(t,i){if(i)for(var a in i)i.hasOwnProperty(a)&&$(t,a,i[a])}function In(t){var i={};return Et(i,t),i}function O0(t){var i={},a;for(a in t)t.hasOwnProperty(a)&&(i[a]=t[a]);return i}function x0(t,i){if(!i||!i.length)return!0;if(!t)return!1;for(var a=0;a<i.length;a++){var c=t[i[a]];if(c==null||c==="")return!1}return!0}function Yl(t){var i=t;if(typeof t=="object"&&t!=null){i="length"in t?[]:{};for(var a in t)$(i,a,Yl(t[a]))}return i}function Ql(t){var i=t&&(t[ec]?"phone":null);if(i&&t&&t[Zl]){$(this,"uid",t[Zl]),$(this,"displayName",t[dv]||null);var a=null;t[Jl]&&(a=new Date(t[Jl]).toUTCString()),$(this,"enrollmentTime",a),$(this,"factorId",i)}else throw new T("internal-error","Internal assert: invalid MultiFactorInfo object")}Ql.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function Xl(t){try{var i=new Lo(t)}catch{i=null}return i}var dv="displayName",Jl="enrolledAt",Zl="mfaEnrollmentId",ec="phoneInfo";function Lo(t){Ql.call(this,t),$(this,"phoneNumber",t[ec])}q(Lo,Ql),Lo.prototype.w=function(){var t=Lo.bb.w.call(this);return t.phoneNumber=this.phoneNumber,t};function D0(t){var i={},a=t[L0],c=t[F0],d=t[j0];if(t=Xl(t[M0]),!d||d!=va&&d!=Mo&&!a||d==Mo&&!c||d==tc&&!t)throw Error("Invalid checkActionCode response!");d==Mo?(i[vv]=a||null,i[gv]=a||null,i[pv]=c):(i[vv]=c||null,i[gv]=c||null,i[pv]=a||null),i[U0]=t||null,$(this,B0,d),$(this,V0,Yl(i))}var tc="REVERT_SECOND_FACTOR_ADDITION",va="EMAIL_SIGNIN",Mo="VERIFY_AND_CHANGE_EMAIL",L0="email",M0="mfaInfo",F0="newEmail",j0="requestType",pv="email",vv="fromEmail",U0="multiFactorInfo",gv="previousEmail",V0="data",B0="operation";function nc(t){t=kt(t);var i=Yt(t,mv)||null,a=Yt(t,yv)||null,c=Yt(t,_v)||null;if(c=c&&K0[c]||null,!i||!a||!c)throw new T("argument-error",mv+", "+yv+"and "+_v+" are required in a valid action code URL.");Et(this,{apiKey:i,operation:c,code:a,continueUrl:Yt(t,W0)||null,languageCode:Yt(t,H0)||null,tenantId:Yt(t,G0)||null})}var mv="apiKey",yv="oobCode",W0="continueUrl",H0="languageCode",_v="mode",G0="tenantId",K0={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:tc,signIn:va,verifyAndChangeEmail:Mo,verifyEmail:"VERIFY_EMAIL"};function wv(t){try{return new nc(t)}catch{return null}}function ga(t){var i=t[q0];if(typeof i=="undefined")throw new T("missing-continue-uri");if(typeof i!="string"||typeof i=="string"&&!i.length)throw new T("invalid-continue-uri");this.h=i,this.b=this.a=null,this.g=!1;var a=t[bv];if(a&&typeof a=="object"){i=a[Sv];var c=a[Tv];if(a=a[Cv],typeof i=="string"&&i.length){if(this.a=i,typeof c!="undefined"&&typeof c!="boolean")throw new T("argument-error",Tv+" property must be a boolean when specified.");if(this.g=!!c,typeof a!="undefined"&&(typeof a!="string"||typeof a=="string"&&!a.length))throw new T("argument-error",Cv+" property must be a non empty string when specified.");this.b=a||null}else{if(typeof i!="undefined")throw new T("argument-error",Sv+" property must be a non empty string when specified.");if(typeof c!="undefined"||typeof a!="undefined")throw new T("missing-android-pkg-name")}}else if(typeof a!="undefined")throw new T("argument-error",bv+" property must be a non null object when specified.");if(this.f=null,(i=t[Iv])&&typeof i=="object"){if(i=i[Av],typeof i=="string"&&i.length)this.f=i;else if(typeof i!="undefined")throw new T("argument-error",Av+" property must be a non empty string when specified.")}else if(typeof i!="undefined")throw new T("argument-error",Iv+" property must be a non null object when specified.");if(i=t[rc],typeof i!="undefined"&&typeof i!="boolean")throw new T("argument-error",rc+" property must be a boolean when specified.");if(this.c=!!i,t=t[Ev],typeof t!="undefined"&&(typeof t!="string"||typeof t=="string"&&!t.length))throw new T("argument-error",Ev+" property must be a non empty string when specified.");this.i=t||null}var bv="android",Ev="dynamicLinkDomain",rc="handleCodeInApp",Iv="iOS",q0="url",Tv="installApp",Cv="minimumVersion",Sv="packageName",Av="bundleId";function ma(t){var i={};i.continueUrl=t.h,i.canHandleCodeInApp=t.c,(i.androidPackageName=t.a)&&(i.androidMinimumVersion=t.b,i.androidInstallApp=t.g),i.iOSBundleId=t.f,i.dynamicLinkDomain=t.i;for(var a in i)i[a]===null&&delete i[a];return i}function z0(t){return ce(t,function(i){return i=i.toString(16),1<i.length?i:"0"+i}).join("")}var Fo=null;function $0(t){var i=[];return Y0(t,function(a){i.push(a)}),i}function Y0(t,i){function a(N){for(;c<t.length;){var D=t.charAt(c++),oe=Fo[D];if(oe!=null)return oe;if(!/^[\s\xa0]*$/.test(D))throw Error("Unknown base64 encoding at char: "+D)}return N}Q0();for(var c=0;;){var d=a(-1),g=a(0),m=a(64),b=a(64);if(b===64&&d===-1)break;i(d<<2|g>>4),m!=64&&(i(g<<4&240|m>>2),b!=64&&i(m<<6&192|b))}}function Q0(){if(!Fo){Fo={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),i=["+/=","+/","-_=","-_.","-_"],a=0;5>a;a++)for(var c=t.concat(i[a].split("")),d=0;d<c.length;d++){var g=c[d];Fo[g]===void 0&&(Fo[g]=d)}}}function ya(t){var i=Nv(t);if(!(i&&i.sub&&i.iss&&i.aud&&i.exp))throw Error("Invalid JWT");this.h=t,this.a=i.exp,this.i=i.sub,t=Date.now()/1e3,this.g=i.iat||(t>this.a?this.a:t),this.b=i.provider_id||i.firebase&&i.firebase.sign_in_provider||null,this.f=i.firebase&&i.firebase.tenant||null,this.c=!!i.is_anonymous||this.b=="anonymous"}ya.prototype.T=function(){return this.f},ya.prototype.l=function(){return this.c},ya.prototype.toString=function(){return this.h};function _a(t){try{return new ya(t)}catch{return null}}function Nv(t){if(!t||(t=t.split("."),t.length!=3))return null;t=t[1];for(var i=(4-t.length%4)%4,a=0;a<i;a++)t+=".";try{var c=$0(t);for(t=[],a=i=0;i<c.length;){var d=c[i++];if(128>d)t[a++]=String.fromCharCode(d);else if(191<d&&224>d){var g=c[i++];t[a++]=String.fromCharCode((d&31)<<6|g&63)}else if(239<d&&365>d){g=c[i++];var m=c[i++],b=c[i++],N=((d&7)<<18|(g&63)<<12|(m&63)<<6|b&63)-65536;t[a++]=String.fromCharCode(55296+(N>>10)),t[a++]=String.fromCharCode(56320+(N&1023))}else g=c[i++],m=c[i++],t[a++]=String.fromCharCode((d&15)<<12|(g&63)<<6|m&63)}return JSON.parse(t.join(""))}catch{}return null}var Rv="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),wa=["client_id","response_type","scope","redirect_uri","state"],ic={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:wa},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:wa},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:wa},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Rv},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function oc(t){for(var i in ic)if(ic[i].fa==t)return ic[i];return null}function kv(t){var i={};i["facebook.com"]=Ov,i["google.com"]=Dv,i["github.com"]=xv,i["twitter.com"]=Lv;var a=t&&t[Pv];try{if(a)return i[a]?new i[a](t):new Tn(t);if(typeof t[sc]!="undefined")return new ac(t)}catch{}return null}var sc="idToken",Pv="providerId";function ac(t){var i=t[Pv];if(!i&&t[sc]){var a=_a(t[sc]);a&&a.b&&(i=a.b)}if(!i)throw Error("Invalid additional user info!");(i=="anonymous"||i=="custom")&&(i=null),a=!1,typeof t.isNewUser!="undefined"?a=!!t.isNewUser:t.kind==="identitytoolkit#SignupNewUserResponse"&&(a=!0),$(this,"providerId",i),$(this,"isNewUser",a)}function Tn(t){ac.call(this,t),t=Ri(t.rawUserInfo||"{}"),$(this,"profile",Yl(t||{}))}q(Tn,ac);function Ov(t){if(Tn.call(this,t),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}q(Ov,Tn);function xv(t){if(Tn.call(this,t),this.providerId!="github.com")throw Error("Invalid provider ID!");$(this,"username",this.profile&&this.profile.login||null)}q(xv,Tn);function Dv(t){if(Tn.call(this,t),this.providerId!="google.com")throw Error("Invalid provider ID!")}q(Dv,Tn);function Lv(t){if(Tn.call(this,t),this.providerId!="twitter.com")throw Error("Invalid provider ID!");$(this,"username",t.screenName||null)}q(Lv,Tn);function Mv(t){var i=kt(t),a=Yt(i,"link"),c=Yt(kt(a),"link");return i=Yt(i,"deep_link_id"),Yt(kt(i),"link")||i||c||a||t}function ba(t,i){if(!t&&!i)throw new T("internal-error","Internal assert: no raw session string available");if(t&&i)throw new T("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=i||null,this.type=this.a?jo:Ea}var jo="enroll",Ea="signin";ba.prototype.Ha=function(){return this.a?te(this.a):te(this.b)},ba.prototype.w=function(){return this.type==jo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function ki(){}ki.prototype.ka=function(){},ki.prototype.b=function(){},ki.prototype.c=function(){},ki.prototype.w=function(){};function Pi(t,i){return t.then(function(a){if(a[fn]){var c=_a(a[fn]);if(!c||i!=c.i)throw new T("user-mismatch");return a}throw new T("user-mismatch")}).o(function(a){throw a&&a.code&&a.code==Q+"user-not-found"?new T("user-mismatch"):a})}function Mr(t,i){if(i)this.a=i;else throw new T("internal-error","failed to construct a credential");$(this,"providerId",t),$(this,"signInMethod",t)}Mr.prototype.ka=function(t){return Pc(t,uc(this))},Mr.prototype.b=function(t,i){var a=uc(this);return a.idToken=i,Oc(t,a)},Mr.prototype.c=function(t,i){return Pi(xc(t,uc(this)),i)};function uc(t){return{pendingToken:t.a,requestUri:"http://localhost"}}Mr.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function X0(t){if(t&&t.providerId&&t.signInMethod&&t.providerId.indexOf("saml.")==0&&t.pendingToken)try{return new Mr(t.providerId,t.pendingToken)}catch{}return null}function Vn(t,i,a){if(this.a=null,i.idToken||i.accessToken)i.idToken&&$(this,"idToken",i.idToken),i.accessToken&&$(this,"accessToken",i.accessToken),i.nonce&&!i.pendingToken&&$(this,"nonce",i.nonce),i.pendingToken&&(this.a=i.pendingToken);else if(i.oauthToken&&i.oauthTokenSecret)$(this,"accessToken",i.oauthToken),$(this,"secret",i.oauthTokenSecret);else throw new T("internal-error","failed to construct a credential");$(this,"providerId",t),$(this,"signInMethod",a)}Vn.prototype.ka=function(t){return Pc(t,lc(this))},Vn.prototype.b=function(t,i){var a=lc(this);return a.idToken=i,Oc(t,a)},Vn.prototype.c=function(t,i){var a=lc(this);return Pi(xc(t,a),i)};function lc(t){var i={};return t.idToken&&(i.id_token=t.idToken),t.accessToken&&(i.access_token=t.accessToken),t.secret&&(i.oauth_token_secret=t.secret),i.providerId=t.providerId,t.nonce&&!t.a&&(i.nonce=t.nonce),i={postBody:Yp(i).toString(),requestUri:"http://localhost"},t.a&&(delete i.postBody,i.pendingToken=t.a),i}Vn.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t};function J0(t){if(t&&t.providerId&&t.signInMethod){var i={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new Vn(t.providerId,i,t.signInMethod)}catch{}}return null}function Fr(t,i){this.Qc=i||[],Et(this,{providerId:t,isOAuthProvider:!0}),this.Jb={},this.qb=(oc(t)||{}).Ja||null,this.pb=null}Fr.prototype.Ka=function(t){return this.Jb=sn(t),this};function Fv(t){if(typeof t!="string"||t.indexOf("saml.")!=0)throw new T("argument-error",'SAML provider IDs must be prefixed with "saml."');Fr.call(this,t,[])}q(Fv,Fr);function Vt(t){Fr.call(this,t,wa),this.a=[]}q(Vt,Fr),Vt.prototype.Ca=function(t){return I(this.a,t)||this.a.push(t),this},Vt.prototype.Rb=function(){return M(this.a)},Vt.prototype.credential=function(t,i){var a;if(S(t)?a={idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:a={idToken:t||null,accessToken:i||null},!a.idToken&&!a.accessToken)throw new T("argument-error","credential failed: must provide the ID token and/or the access token.");return new Vn(this.providerId,a,this.providerId)};function jr(){Vt.call(this,"facebook.com")}q(jr,Vt),$(jr,"PROVIDER_ID","facebook.com"),$(jr,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function jv(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var i=t;return S(t)&&(i=t.accessToken),new jr().credential({accessToken:i})}function Ur(){Vt.call(this,"github.com")}q(Ur,Vt),$(Ur,"PROVIDER_ID","github.com"),$(Ur,"GITHUB_SIGN_IN_METHOD","github.com");function Uv(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var i=t;return S(t)&&(i=t.accessToken),new Ur().credential({accessToken:i})}function Vr(){Vt.call(this,"google.com"),this.Ca("profile")}q(Vr,Vt),$(Vr,"PROVIDER_ID","google.com"),$(Vr,"GOOGLE_SIGN_IN_METHOD","google.com");function Vv(t,i){var a=t;return S(t)&&(a=t.idToken,i=t.accessToken),new Vr().credential({idToken:a,accessToken:i})}function Oi(){Fr.call(this,"twitter.com",Rv)}q(Oi,Fr),$(Oi,"PROVIDER_ID","twitter.com"),$(Oi,"TWITTER_SIGN_IN_METHOD","twitter.com");function Bv(t,i){var a=t;if(S(a)||(a={oauthToken:t,oauthTokenSecret:i}),!a.oauthToken||!a.oauthTokenSecret)throw new T("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Vn("twitter.com",a,"twitter.com")}function nr(t,i,a){this.a=t,this.f=i,$(this,"providerId","password"),$(this,"signInMethod",a===Qt.EMAIL_LINK_SIGN_IN_METHOD?Qt.EMAIL_LINK_SIGN_IN_METHOD:Qt.EMAIL_PASSWORD_SIGN_IN_METHOD)}nr.prototype.ka=function(t){return this.signInMethod==Qt.EMAIL_LINK_SIGN_IN_METHOD?ye(t,MI,{email:this.a,oobCode:this.f}):ye(t,vg,{email:this.a,password:this.f})},nr.prototype.b=function(t,i){return this.signInMethod==Qt.EMAIL_LINK_SIGN_IN_METHOD?ye(t,FI,{idToken:i,email:this.a,oobCode:this.f}):ye(t,pg,{idToken:i,email:this.a,password:this.f})},nr.prototype.c=function(t,i){return Pi(this.ka(t),i)},nr.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function Z0(t){return t&&t.email&&t.password?new nr(t.email,t.password,t.signInMethod):null}function Qt(){Et(this,{providerId:"password",isOAuthProvider:!1})}function Wv(t,i){if(i=cc(i),!i)throw new T("argument-error","Invalid email link!");return new nr(t,i.code,Qt.EMAIL_LINK_SIGN_IN_METHOD)}function cc(t){return t=Mv(t),(t=wv(t))&&t.operation===va?t:null}Et(Qt,{PROVIDER_ID:"password"}),Et(Qt,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Et(Qt,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function rr(t){if(!(t.fb&&t.eb||t.La&&t.ea))throw new T("internal-error");this.a=t,$(this,"providerId","phone"),this.fa="phone",$(this,"signInMethod","phone")}rr.prototype.ka=function(t){return t.gb(Uo(this))},rr.prototype.b=function(t,i){var a=Uo(this);return a.idToken=i,ye(t,rT,a)},rr.prototype.c=function(t,i){var a=Uo(this);return a.operation="REAUTH",t=ye(t,iT,a),Pi(t,i)},rr.prototype.w=function(){var t={providerId:"phone"};return this.a.fb&&(t.verificationId=this.a.fb),this.a.eb&&(t.verificationCode=this.a.eb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t};function eI(t){if(t&&t.providerId==="phone"&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var i={};return W(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(a){t[a]&&(i[a]=t[a])}),new rr(i)}return null}function Uo(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.fb,code:t.a.eb}}function Bn(t){try{this.a=t||ue.auth()}catch{throw new T("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Et(this,{providerId:"phone",isOAuthProvider:!1})}Bn.prototype.gb=function(t,i){var a=this.a.a;return te(i.verify()).then(function(c){if(typeof c!="string")throw new T("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(i.type){case"recaptcha":var d=S(t)?t.session:null,g=S(t)?t.phoneNumber:t,m;return d&&d.type==jo?m=d.Ha().then(function(b){return AI(a,{idToken:b,phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:c}})}):d&&d.type==Ea?m=d.Ha().then(function(b){return NI(a,{mfaPendingCredential:b,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:c}})}):m=SI(a,{phoneNumber:g,recaptchaToken:c}),m.then(function(b){return typeof i.reset=="function"&&i.reset(),b},function(b){throw typeof i.reset=="function"&&i.reset(),b});default:throw new T("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function Hv(t,i){if(!t)throw new T("missing-verification-id");if(!i)throw new T("missing-verification-code");return new rr({fb:t,eb:i})}Et(Bn,{PROVIDER_ID:"phone"}),Et(Bn,{PHONE_SIGN_IN_METHOD:"phone"});function fc(t){if(t.temporaryProof&&t.phoneNumber)return new rr({La:t.temporaryProof,ea:t.phoneNumber});var i=t&&t.providerId;if(!i||i==="password")return null;var a=t&&t.oauthAccessToken,c=t&&t.oauthTokenSecret,d=t&&t.nonce,g=t&&t.oauthIdToken,m=t&&t.pendingToken;try{switch(i){case"google.com":return Vv(g,a);case"facebook.com":return jv(a);case"github.com":return Uv(a);case"twitter.com":return Bv(a,c);default:return a||c||g||m?m?i.indexOf("saml.")==0?new Mr(i,m):new Vn(i,{pendingToken:m,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},i):new Vt(i).credential({idToken:g,accessToken:a,rawNonce:d}):null}}catch{return null}}function hc(t){if(!t.isOAuthProvider)throw new T("invalid-oauth-provider")}function ln(t,i,a,c,d,g,m){if(this.c=t,this.b=i||null,this.g=a||null,this.f=c||null,this.i=g||null,this.h=m||null,this.a=d||null,this.g||this.a){if(this.g&&this.a)throw new T("invalid-auth-event");if(this.g&&!this.f)throw new T("invalid-auth-event")}else throw new T("invalid-auth-event")}ln.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},ln.prototype.T=function(){return this.h},ln.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function Gv(t){return t=t||{},t.type?new ln(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&Qe(t.error),t.postBody,t.tenantId):null}function tI(){this.b=null,this.a=[]}var dc=null;function nI(t){var i=dc;i.a.push(t),i.b||(i.b=function(a){for(var c=0;c<i.a.length;c++)i.a[c](a)},t=Ke("universalLinks.subscribe",f),typeof t=="function"&&t(null,i.b))}function pc(t){var i="unauthorized-domain",a=void 0,c=kt(t);t=c.a,c=c.c,c=="chrome-extension"?a=pp("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):c=="http"||c=="https"?a=pp("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):i="operation-not-supported-in-this-environment",T.call(this,i,a)}q(pc,T);function Vo(t,i,a){T.call(this,t,a),t=i||{},t.Kb&&$(this,"email",t.Kb),t.ea&&$(this,"phoneNumber",t.ea),t.credential&&$(this,"credential",t.credential),t.$b&&$(this,"tenantId",t.$b)}q(Vo,T),Vo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var i=this.credential&&this.credential.w();return i&&We(t,i),t},Vo.prototype.toJSON=function(){return this.w()};function Ia(t){if(t.code){var i=t.code||"";i.indexOf(Q)==0&&(i=i.substring(Q.length));var a={credential:fc(t),$b:t.tenantId};if(t.email)a.Kb=t.email;else if(t.phoneNumber)a.ea=t.phoneNumber;else if(!a.credential)return new T(i,t.message||void 0);return new Vo(i,a,t.message)}return null}function Bo(){}Bo.prototype.c=null;function Kv(t){return t.c||(t.c=t.b())}var vc;function Ta(){}q(Ta,Bo),Ta.prototype.a=function(){var t=qv(this);return t?new ActiveXObject(t):new XMLHttpRequest},Ta.prototype.b=function(){var t={};return qv(this)&&(t[0]=!0,t[1]=!0),t};function qv(t){if(!t.f&&typeof XMLHttpRequest=="undefined"&&typeof ActiveXObject!="undefined"){for(var i=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],a=0;a<i.length;a++){var c=i[a];try{return new ActiveXObject(c),t.f=c}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}vc=new Ta;function Ca(){}q(Ca,Bo),Ca.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if(typeof XDomainRequest!="undefined")return new zv;throw Error("Unsupported browser")},Ca.prototype.b=function(){return{}};function zv(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=G(this.qc,this),this.a.onerror=G(this.Tb,this),this.a.onprogress=G(this.rc,this),this.a.ontimeout=G(this.vc,this)}e=zv.prototype,e.open=function(t,i,a){if(a!=null&&!a)throw Error("Only async requests are supported.");this.a.open(t,i)},e.send=function(t){if(t)if(typeof t=="string")this.a.send(t);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(t){return t.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,gc(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",gc(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,gc(this,1)};function gc(t,i){t.readyState=i,t.onreadystatechange&&t.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function mc(t,i,a){this.reset(t,i,a,void 0,void 0)}mc.prototype.a=null,mc.prototype.reset=function(t,i,a,c,d){delete this.a};function yc(t){this.f=t,this.b=this.c=this.a=null}function Wo(t,i){this.name=t,this.value=i}Wo.prototype.toString=function(){return this.name};var $v=new Wo("SEVERE",1e3),_c=new Wo("WARNING",900),rI=new Wo("CONFIG",700),iI=new Wo("FINE",500);function Yv(t){return t.c?t.c:t.a?Yv(t.a):(Lt("Root logger has no level set."),null)}yc.prototype.log=function(t,i,a){if(t.value>=Yv(this).value)for(R(i)&&(i=i()),t=new mc(t,String(i),this.f),a&&(t.a=a),a=this;a;)a=a.a};var wc={},Sa=null;function bc(t){Sa||(Sa=new yc(""),wc[""]=Sa,Sa.c=rI);var i;if(!(i=wc[t])){i=new yc(t);var a=t.lastIndexOf("."),c=t.substr(a+1);a=bc(t.substr(0,a)),a.b||(a.b={}),a.b[c]=i,i.a=a,wc[t]=i}return i}function Xt(t,i){t&&t.log(iI,i,void 0)}function Aa(t){this.f=t}q(Aa,Bo),Aa.prototype.a=function(){return new Na(this.f)},Aa.prototype.b=function(t){return function(){return t}}({});function Na(t){bt.call(this),this.u=t,this.h=void 0,this.readyState=Ec,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=bc("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}q(Na,bt);var Ec=0;e=Na.prototype,e.open=function(t,i){if(this.readyState!=Ec)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=i,this.readyState=1,Go(this)},e.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var i={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(i.body=t),this.u.fetch(new Request(this.f,i)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,Ho(this)),this.readyState=Ec},e.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,Go(this)),this.a&&(this.readyState=3,Go(this),this.a&&(this.responseType==="arraybuffer"?t.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof f.ReadableStream!="undefined"&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,Qv(this)):t.text().then(this.tc.bind(this),this.Va.bind(this)))))};function Qv(t){t.c.read().then(t.pc.bind(t)).catch(t.Va.bind(t))}e.pc=function(t){if(this.a){var i=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});i&&(this.response=this.responseText+=i),t.done?Ho(this):Go(this),this.readyState==3&&Qv(this)}},e.tc=function(t){this.a&&(this.response=this.responseText=t,Ho(this))},e.sc=function(t){this.a&&(this.response=t,Ho(this))},e.Va=function(t){var i=this.i;i&&i.log(_c,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&Ho(this)};function Ho(t){t.readyState=4,t.g=null,t.c=null,t.m=null,Go(t)}e.setRequestHeader=function(t,i){this.l.append(t,i)},e.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(_c,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(_c,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var i=this.b.entries(),a=i.next();!a.done;)a=a.value,t.push(a[0]+": "+a[1]),a=i.next();return t.join(`\r
`)};function Go(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Na.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(t){this.h=t?"include":"same-origin"}});function Ko(t){bt.call(this),this.headers=new Ti,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Xv,this.u=this.S=!1}q(Ko,bt);var Xv="";Ko.prototype.b=bc("goog.net.XhrIo");var oI=/^https?$/i,sI=["POST","PUT"];function aI(t,i,a,c,d){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+i);a=a?a.toUpperCase():"GET",t.l=i,t.h="",t.P=a,t.J=!1,t.c=!0,t.a=t.D?t.D.a():vc.a(),t.C=t.D?Kv(t.D):Kv(vc),t.a.onreadystatechange=G(t.Wb,t);try{Xt(t.b,Wn(t,"Opening Xhr")),t.N=!0,t.a.open(a,String(i),!0),t.N=!1}catch(m){Xt(t.b,Wn(t,"Error opening Xhr: "+m.message)),Jv(t,m);return}i=c||"";var g=new Ti(t.headers);d&&d0(d,function(m,b){g.set(b,m)}),d=E(g.Y()),c=f.FormData&&i instanceof f.FormData,!I(sI,a)||d||c||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),g.forEach(function(m,b){this.a.setRequestHeader(b,m)},t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{tg(t),0<t.g&&(t.u=uI(t.a),Xt(t.b,Wn(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=G(t.Ma,t)):t.s=Ll(t.Ma,t.g,t)),Xt(t.b,Wn(t,"Sending request")),t.i=!0,t.a.send(i),t.i=!1}catch(m){Xt(t.b,Wn(t,"Send error: "+m.message)),Jv(t,m)}}function uI(t){return an&&yp(9)&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function lI(t){return t.toLowerCase()=="content-type"}e=Ko.prototype,e.Ma=function(){typeof h!="undefined"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Xt(this.b,Wn(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function Jv(t,i){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=i,Zv(t),Ra(t)}function Zv(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(Xt(this.b,Wn(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ra(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ra(this,!0)),Ko.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?eg(this):this.Jc())},e.Jc=function(){eg(this)};function eg(t){if(t.c&&typeof h!="undefined"){if(t.C[1]&&qo(t)==4&&ka(t)==2)Xt(t.b,Wn(t,"Local request error detected and ignored"));else if(t.i&&qo(t)==4)Ll(t.Wb,0,t);else if(t.dispatchEvent("readystatechange"),qo(t)==4){Xt(t.b,Wn(t,"Request complete")),t.c=!1;try{var i=ka(t);e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var a=!0;break e;default:a=!1}var c;if(!(c=a)){var d;if(d=i===0){var g=String(t.l).match(zp)[1]||null;if(!g&&f.self&&f.self.location){var m=f.self.location.protocol;g=m.substr(0,m.length-1)}d=!oI.test(g?g.toLowerCase():"")}c=d}if(c)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var b=2<qo(t)?t.a.statusText:""}catch(N){Xt(t.b,"Can not get status: "+N.message),b=""}t.h=b+" ["+ka(t)+"]",Zv(t)}}finally{Ra(t)}}}}function Ra(t,i){if(t.a){tg(t);var a=t.a,c=t.C[0]?_:null;t.a=null,t.C=null,i||t.dispatchEvent("ready");try{a.onreadystatechange=c}catch(d){(t=t.b)&&t.log($v,"Problem encountered resetting onreadystatechange: "+d.message,void 0)}}}function tg(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(f.clearTimeout(t.s),t.s=null)}function qo(t){return t.a?t.a.readyState:0}function ka(t){try{return 2<qo(t)?t.a.status:-1}catch{return-1}}function cI(t){try{return t.a?t.a.responseText:""}catch(i){return Xt(t.b,"Can not get responseText: "+i.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Xv:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log($v,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(i){return Xt(this.b,"Can not get response: "+i.message),null}};function Wn(t,i){return i+" ["+t.P+" "+t.l+" "+ka(t)+"]"}function Br(t){var i=dI;this.g=[],this.u=i,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}Br.prototype.cancel=function(t){if(this.a)this.c instanceof Br&&this.c.cancel();else{if(this.b){var i=this.b;delete this.b,t?i.cancel(t):(i.l--,0>=i.l&&i.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new $o(this),Pa(this),zo(this,!1,t))}},Br.prototype.m=function(t,i){this.i=!1,zo(this,t,i)};function zo(t,i,a){t.a=!0,t.c=a,t.f=!i,rg(t)}function Pa(t){if(t.a){if(!t.v)throw new Oa(t);t.v=!1}}function fI(t,i){Ic(t,null,i,void 0)}function Ic(t,i,a,c){t.g.push([i,a,c]),t.a&&rg(t)}Br.prototype.then=function(t,i,a){var c,d,g=new me(function(m,b){c=m,d=b});return Ic(this,c,function(m){m instanceof $o?g.cancel():d(m)}),g.then(t,i,a)},Br.prototype.$goog_Thenable=!0;function ng(t){return fe(t.g,function(i){return R(i[1])})}function rg(t){if(t.h&&t.a&&ng(t)){var i=t.h,a=xa[i];a&&(f.clearTimeout(a.a),delete xa[i]),t.h=0}t.b&&(t.b.l--,delete t.b),i=t.c;for(var c=a=!1;t.g.length&&!t.i;){var d=t.g.shift(),g=d[0],m=d[1];if(d=d[2],g=t.f?m:g)try{var b=g.call(d||t.s,i);b!==void 0&&(t.f=t.f&&(b==i||b instanceof Error),t.c=i=b),(Ne(i)||typeof f.Promise=="function"&&i instanceof f.Promise)&&(c=!0,t.i=!0)}catch(N){i=N,t.f=!0,ng(t)||(a=!0)}}t.c=i,c&&(b=G(t.m,t,!0),c=G(t.m,t,!1),i instanceof Br?(Ic(i,b,c),i.C=!0):i.then(b,c)),a&&(i=new ig(i),xa[i.a]=i,t.h=i.a)}function Oa(){he.call(this)}q(Oa,he),Oa.prototype.message="Deferred has already fired",Oa.prototype.name="AlreadyCalledError";function $o(){he.call(this)}q($o,he),$o.prototype.message="Deferred was canceled",$o.prototype.name="CanceledError";function ig(t){this.a=f.setTimeout(G(this.c,this),0),this.b=t}ig.prototype.c=function(){throw delete xa[this.a],this.b};var xa={};function Tc(t){var i=document,a=sp(t).toString(),c=ia(document,"SCRIPT"),d={Xb:c,Ma:void 0},g=new Br(d),m=null,b=5e3;return m=window.setTimeout(function(){Da(c,!0);var N=new Cc(vI,"Timeout reached for loading script "+a);Pa(g),zo(g,!1,N)},b),d.Ma=m,c.onload=c.onreadystatechange=function(){c.readyState&&c.readyState!="loaded"&&c.readyState!="complete"||(Da(c,!1,m),Pa(g),zo(g,!0,null))},c.onerror=function(){Da(c,!0,m);var N=new Cc(pI,"Error while loading script "+a);Pa(g),zo(g,!1,N)},d={},We(d,{type:"text/javascript",charset:"UTF-8"}),wp(c,d),HE(c,t),hI(i).appendChild(c),g}function hI(t){var i;return(i=(t||document).getElementsByTagName("HEAD"))&&i.length!=0?i[0]:t.documentElement}function dI(){if(this&&this.Xb){var t=this.Xb;t&&t.tagName=="SCRIPT"&&Da(t,!0,this.Ma)}}function Da(t,i,a){a!=null&&f.clearTimeout(a),t.onload=_,t.onerror=_,t.onreadystatechange=_,i&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var pI=0,vI=1;function Cc(t,i){var a="Jsloader error (code #"+t+")";i&&(a+=": "+i),he.call(this,a),this.code=t}q(Cc,he);function La(t){this.f=t}q(La,Bo),La.prototype.a=function(){return new this.f},La.prototype.b=function(){return{}};function cn(t,i,a){if(this.c=t,t=i||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||gI,this.g=sn(t.secureTokenHeaders||mI),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||yI,this.a=sn(t.firebaseHeaders||_I),a&&(this.a["X-Client-Version"]=a,this.g["X-Client-Version"]=a),a=En()=="Node",a=f.XMLHttpRequest||a&&ue.INTERNAL.node&&ue.INTERNAL.node.XMLHttpRequest,!a&&!un())throw new T("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,un()?this.f=new Aa(self):ov()?this.f=new La(a):this.f=new Ca,this.b=null}var Sc,fn="idToken",gI=new tr(3e4,6e4),mI={"Content-Type":"application/x-www-form-urlencoded"},yI=new tr(3e4,6e4),_I={"Content-Type":"application/json"};function og(t,i){i?t.a["X-Firebase-Locale"]=i:delete t.a["X-Firebase-Locale"]}function Ma(t,i){i&&(t.l=Ac("https://securetoken.googleapis.com/v1/token",i),t.h=Ac("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",i),t.i=Ac("https://identitytoolkit.googleapis.com/v2/",i))}function Ac(t,i){return t=kt(t),i=kt(i.url),t.f=t.a+t.f,Ao(t,i.c),t.a=i.a,No(t,i.g),t.toString()}function sg(t,i){i?(t.a["X-Client-Version"]=i,t.g["X-Client-Version"]=i):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}cn.prototype.T=function(){return this.b};function ag(t,i,a,c,d,g,m){I0()||un()?t=G(t.u,t):(Sc||(Sc=new me(function(b,N){bI(b,N)})),t=G(t.s,t)),t(i,a,c,d,g,m)}cn.prototype.u=function(t,i,a,c,d,g){if(un()&&(typeof f.fetch=="undefined"||typeof f.Headers=="undefined"||typeof f.Request=="undefined"))throw new T("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var m=new Ko(this.f);if(g){m.g=Math.max(0,g);var b=setTimeout(function(){m.dispatchEvent("timeout")},g)}Gp(m,"complete",function(){b&&clearTimeout(b);var N=null;try{N=JSON.parse(cI(this))||null}catch{N=null}i&&i(N)}),Dl(m,"ready",function(){b&&clearTimeout(b),Fp(this)}),Dl(m,"timeout",function(){b&&clearTimeout(b),Fp(this),i&&i(null)}),aI(m,t,a,c,d)};var wI=new wn(ea,"https://apis.google.com/js/client.js?onload=%{onload}"),ug="__fcb"+Math.floor(1e6*Math.random()).toString();function bI(t,i){if(((window.gapi||{}).client||{}).request)t();else{f[ug]=function(){((window.gapi||{}).client||{}).request?t():i(Error("CORS_UNSUPPORTED"))};var a=gl(wI,{onload:ug});fI(Tc(a),function(){i(Error("CORS_UNSUPPORTED"))})}}cn.prototype.s=function(t,i,a,c,d){var g=this;Sc.then(function(){window.gapi.client.setApiKey(g.c);var m=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:a,body:c,headers:d,authType:"none",callback:function(b){window.gapi.auth.setToken(m),i&&i(b)}})}).o(function(m){i&&i({error:{message:m&&m.message||"CORS_UNSUPPORTED"}})})};function EI(t,i){return new me(function(a,c){i.grant_type=="refresh_token"&&i.refresh_token||i.grant_type=="authorization_code"&&i.code?ag(t,t.l+"?key="+encodeURIComponent(t.c),function(d){d?d.error?c(Lc(d)):d.access_token&&d.refresh_token?a(d):c(new T("internal-error")):c(new T("network-request-failed"))},"POST",Yp(i).toString(),t.g,t.m.get()):c(new T("internal-error"))})}function lg(t,i,a,c,d,g,m){var b=kt(i+a);Ze(b,"key",t.c),m&&Ze(b,"cb",Date.now().toString());var N=c=="GET";if(N)for(var D in d)d.hasOwnProperty(D)&&Ze(b,D,d[D]);return new me(function(oe,ke){ag(t,b.toString(),function(be){be?be.error?ke(Lc(be,g||{})):oe(be):ke(new T("network-request-failed"))},c,N?void 0:Jp(uv(d)),t.a,t.v.get())})}function Wr(t){if(t=t.email,typeof t!="string"||!S0.test(t))throw new T("invalid-email")}function cg(t){"email"in t&&Wr(t)}function II(t,i){return ye(t,xI,{identifier:i,continueUri:pa()?Po():"http://localhost"}).then(function(a){return a.signinMethods||[]})}function TI(t){return ye(t,KI,{}).then(function(i){return i.authorizedDomains||[]})}function Pt(t){if(!t[fn])throw t.mfaPendingCredential?new T("multi-factor-auth-required",null,sn(t)):new T("internal-error")}function Nc(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new T("internal-error")}else{if(!t.sessionInfo)throw new T("missing-verification-id");if(!t.code)throw new T("missing-verification-code")}}cn.prototype.Ab=function(){return ye(this,YI,{})},cn.prototype.Cb=function(t,i){return ye(this,dg,{idToken:t,email:i})},cn.prototype.Db=function(t,i){return ye(this,pg,{idToken:t,password:i})};var CI={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=cn.prototype,e.Eb=function(t,i){var a={idToken:t},c=[];return bo(CI,function(d,g){var m=i[g];m===null?c.push(d):g in i&&(a[g]=m)}),c.length&&(a.deleteAttribute=c),ye(this,dg,a)},e.wb=function(t,i){return t={requestType:"PASSWORD_RESET",email:t},We(t,i),ye(this,GI,t)},e.xb=function(t,i){return t={requestType:"EMAIL_SIGNIN",email:t},We(t,i),ye(this,BI,t)},e.vb=function(t,i){return t={requestType:"VERIFY_EMAIL",idToken:t},We(t,i),ye(this,WI,t)},e.Fb=function(t,i,a){return t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:i},We(t,a),ye(this,HI,t)};function SI(t,i){return ye(t,$I,i)}e.gb=function(t){return ye(this,nT,t)};function AI(t,i){return ye(t,QI,i).then(function(a){return a.phoneSessionInfo.sessionInfo})}function fg(t){if(!t.phoneVerificationInfo)throw new T("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new T("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new T("missing-verification-code")}function NI(t,i){return ye(t,XI,i).then(function(a){return a.phoneResponseInfo.sessionInfo})}function RI(t,i,a){return ye(t,LI,{idToken:i,deleteProvider:a})}function Rc(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new T("internal-error")}function kc(t,i){return i.oauthIdToken&&i.providerId&&i.providerId.indexOf("oidc.")==0&&!i.pendingToken&&(t.sessionId?i.nonce=t.sessionId:t.postBody&&(t=new Or(t.postBody),jl(t,"nonce")&&(i.nonce=t.get("nonce")))),i}function hg(t){var i=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",i=Ia(t)):t.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(t.code="credential-already-in-use",i=Ia(t)):t.errorMessage=="EMAIL_EXISTS"?(t.code="email-already-in-use",i=Ia(t)):t.errorMessage&&(i=gg(t.errorMessage)),i)throw i;Pt(t)}function Pc(t,i){return i.returnIdpCredential=!0,ye(t,JI,i)}function Oc(t,i){return i.returnIdpCredential=!0,ye(t,eT,i)}function xc(t,i){return i.returnIdpCredential=!0,i.autoCreate=!1,ye(t,ZI,i)}function Dc(t){if(!t.oobCode)throw new T("invalid-action-code")}e.ob=function(t,i){return ye(this,zI,{oobCode:t,newPassword:i})},e.Sa=function(t){return ye(this,PI,{oobCode:t})},e.kb=function(t){return ye(this,kI,{oobCode:t})};var kI={endpoint:"setAccountInfo",A:Dc,Z:"email",B:!0},PI={endpoint:"resetPassword",A:Dc,G:function(t){var i=t.requestType;if(!i||!t.email&&i!="EMAIL_SIGNIN"&&i!="VERIFY_AND_CHANGE_EMAIL")throw new T("internal-error")},B:!0},OI={endpoint:"signupNewUser",A:function(t){if(Wr(t),!t.password)throw new T("weak-password")},G:Pt,V:!0,B:!0},xI={endpoint:"createAuthUri",B:!0},DI={endpoint:"deleteAccount",O:["idToken"]},LI={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new T("internal-error")}},MI={endpoint:"emailLinkSignin",O:["email","oobCode"],A:Wr,G:Pt,V:!0,B:!0},FI={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:Wr,G:Pt,V:!0},jI={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:fg,G:Pt,B:!0,Na:!0},UI={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:fg,G:Pt,B:!0,Na:!0},VI={endpoint:"getAccountInfo"},BI={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if(t.requestType!="EMAIL_SIGNIN")throw new T("internal-error");Wr(t)},Z:"email",B:!0},WI={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(t){if(t.requestType!="VERIFY_EMAIL")throw new T("internal-error")},Z:"email",B:!0},HI={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(t){if(t.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new T("internal-error")},Z:"email",B:!0},GI={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if(t.requestType!="PASSWORD_RESET")throw new T("internal-error");Wr(t)},Z:"email",B:!0},KI={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},qI={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new T("internal-error")}},zI={endpoint:"resetPassword",A:Dc,Z:"email",B:!0},$I={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},dg={endpoint:"setAccountInfo",O:["idToken"],A:cg,V:!0},pg={endpoint:"setAccountInfo",O:["idToken"],A:function(t){if(cg(t),!t.password)throw new T("weak-password")},G:Pt,V:!0},YI={endpoint:"signupNewUser",G:Pt,V:!0,B:!0},QI={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new T("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new T("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},XI={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},JI={endpoint:"verifyAssertion",A:Rc,Za:kc,G:hg,V:!0,B:!0},ZI={endpoint:"verifyAssertion",A:Rc,Za:kc,G:function(t){if(t.errorMessage&&t.errorMessage=="USER_NOT_FOUND")throw new T("user-not-found");if(t.errorMessage)throw gg(t.errorMessage);Pt(t)},V:!0,B:!0},eT={endpoint:"verifyAssertion",A:function(t){if(Rc(t),!t.idToken)throw new T("internal-error")},Za:kc,G:hg,V:!0},tT={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new T("invalid-custom-token")},G:Pt,V:!0,B:!0},vg={endpoint:"verifyPassword",A:function(t){if(Wr(t),!t.password)throw new T("wrong-password")},G:Pt,V:!0,B:!0},nT={endpoint:"verifyPhoneNumber",A:Nc,G:Pt,B:!0},rT={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new T("internal-error");Nc(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Ia(t);Pt(t)}},iT={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Nc,G:Pt,B:!0},oT={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[fn]^!!t.refreshToken)throw new T("internal-error")},B:!0,Na:!0};function ye(t,i,a){if(!x0(a,i.O))return Ge(new T("internal-error"));var c=!!i.Na,d=i.Vb||"POST",g;return te(a).then(i.A).then(function(){return i.V&&(a.returnSecureToken=!0),i.B&&t.b&&typeof a.tenantId=="undefined"&&(a.tenantId=t.b),c?lg(t,t.i,i.endpoint,d,a,i.Ib,i.mb||!1):lg(t,t.h,i.endpoint,d,a,i.Ib,i.mb||!1)}).then(function(m){return g=m,i.Za?i.Za(a,g):g}).then(i.G).then(function(){if(!i.Z)return g;if(!(i.Z in g))throw new T("internal-error");return g[i.Z]})}function gg(t){return Lc({error:{errors:[{message:t}],code:400,message:t}})}function Lc(t,i){var a=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",c={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(a=c[a]?new T(c[a]):null)return a;a=t.error&&t.error.message||"",c={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},We(c,i||{}),i=(i=a.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<i.length?i[1]:void 0;for(var d in c)if(a.indexOf(d)===0)return new T(c[d],i);return!i&&t&&(i=xo(t)),new T("internal-error",i)}function sT(t){this.b=t,this.a=null,this.sb=aT(this)}function aT(t){return dT().then(function(){return new me(function(i,a){Ke("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Ke("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(c){function d(){clearTimeout(g),i()}t.a=c,t.a.restyle({setHideOnLeave:!1});var g=setTimeout(function(){a(Error("Network Error"))},hT.get());c.ping(d).then(d,function(){a(Error("Network Error"))})})})})}function uT(t,i){return t.sb.then(function(){return new me(function(a){t.a.send(i.type,i,a,Ke("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function lT(t,i){t.sb.then(function(){t.a.register("authEvent",i,Ke("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var cT=new wn(ea,"https://apis.google.com/js/api.js?onload=%{onload}"),fT=new tr(3e4,6e4),hT=new tr(5e3,15e3),Fa=null;function dT(){return Fa||(Fa=new me(function(t,i){function a(){cv(),Ke("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){cv(),i(Error("Network Error"))},timeout:fT.get()})}if(Ke("gapi.iframes.Iframe"))t();else if(Ke("gapi.load"))a();else{var c="__iframefcb"+Math.floor(1e6*Math.random()).toString();f[c]=function(){Ke("gapi.load")?a():i(Error("Network Error"))},c=gl(cT,{onload:c}),te(Tc(c)).o(function(){i(Error("Network Error"))})}}).o(function(t){throw Fa=null,t}))}function mg(t,i,a,c){this.l=t,this.h=i,this.i=a,this.g=c,this.f=null,this.g?(t=kt(this.g.url),t=ha(t.c,t.a,t.g,"/emulator/auth/iframe")):t=ha("https",this.l,null,"/__/auth/iframe"),this.a=t,Ze(this.a,"apiKey",this.h),Ze(this.a,"appName",this.i),this.b=null,this.c=[]}mg.prototype.toString=function(){return this.f?Ze(this.a,"v",this.f):bn(this.a.b,"v"),this.b?Ze(this.a,"eid",this.b):bn(this.a.b,"eid"),this.c.length?Ze(this.a,"fw",this.c.join(",")):bn(this.a.b,"fw"),this.a.toString()};function Mc(t,i,a,c,d,g){this.u=t,this.s=i,this.c=a,this.m=c,this.v=g,this.i=this.g=this.l=null,this.a=d,this.h=this.f=null}Mc.prototype.zb=function(t){return this.h=t,this},Mc.prototype.toString=function(){if(this.v){var t=kt(this.v.url);t=ha(t.c,t.a,t.g,"/emulator/auth/handler")}else t=ha("https",this.u,null,"/__/auth/handler");if(Ze(t,"apiKey",this.s),Ze(t,"appName",this.c),Ze(t,"authType",this.m),this.a.isOAuthProvider){var i=this.a;try{var a=ue.app(this.c).auth().la()}catch{a=null}i.pb=a,Ze(t,"providerId",this.a.providerId),a=this.a,i=uv(a.Jb);for(var c in i)i[c]=i[c].toString();c=a.Qc,i=sn(i);for(var d=0;d<c.length;d++){var g=c[d];g in i&&delete i[g]}a.qb&&a.pb&&!i[a.qb]&&(i[a.qb]=a.pb),jt(i)||Ze(t,"customParameters",xo(i))}if(typeof this.a.Rb=="function"&&(a=this.a.Rb(),a.length&&Ze(t,"scopes",a.join(","))),this.l?Ze(t,"redirectUrl",this.l):bn(t.b,"redirectUrl"),this.g?Ze(t,"eventId",this.g):bn(t.b,"eventId"),this.i?Ze(t,"v",this.i):bn(t.b,"v"),this.b)for(var m in this.b)this.b.hasOwnProperty(m)&&!Yt(t,m)&&Ze(t,m,this.b[m]);return this.h?Ze(t,"tid",this.h):bn(t.b,"tid"),this.f?Ze(t,"eid",this.f):bn(t.b,"eid"),m=Fc(this.c),m.length&&Ze(t,"fw",m.join(",")),t.toString()};function Fc(t){try{return ue.app(t).auth().Ga()}catch{return[]}}function yg(t,i,a,c,d,g){this.s=t,this.g=i,this.b=a,this.f=g,this.c=c||null,this.i=d||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function _g(t){var i=Po();return TI(t).then(function(a){e:{var c=kt(i),d=c.c;c=c.a;for(var g=0;g<a.length;g++){var m=a[g],b=c,N=d;if(m.indexOf("chrome-extension://")==0?b=kt(m).a==b&&N=="chrome-extension":N!="http"&&N!="https"?b=!1:C0.test(m)?b=b==m:(m=m.split(".").join("\\."),b=new RegExp("^(.+\\."+m+"|"+m+")$","i").test(b)),b){a=!0;break e}}a=!1}if(!a)throw new pc(Po())})}function wg(t){return t.m||(t.m=da().then(function(){if(!t.u){var i=t.c,a=t.i,c=Fc(t.b),d=new mg(t.s,t.g,t.b,t.f);d.f=i,d.b=a,d.c=M(c||[]),t.u=d.toString()}t.v=new sT(t.u),pT(t)})),t.m}e=yg.prototype,e.Pb=function(t,i,a){var c=new T("popup-closed-by-user"),d=new T("web-storage-unsupported"),g=this,m=!1;return this.ma().then(function(){vT(g).then(function(b){b||(t&&xr(t),i(d),m=!0)})}).o(function(){}).then(function(){if(!m)return T0(t)}).then(function(){if(!m)return Ii(a).then(function(){i(c)})})},e.Yb=function(){var t=dt();return!Oo(t)&&!lv(t)},e.Ub=function(){return!1},e.Nb=function(t,i,a,c,d,g,m,b){if(!t)return Ge(new T("popup-blocked"));if(m&&!Oo())return this.ma().o(function(D){xr(t),d(D)}),c(),te();this.a||(this.a=_g(bg(this)));var N=this;return this.a.then(function(){var D=N.ma().o(function(oe){throw xr(t),d(oe),oe});return c(),D}).then(function(){if(hc(a),!m){var D=Yo(N.s,N.g,N.b,i,a,null,g,N.c,void 0,N.i,b,N.f);tv(D,t)}}).o(function(D){throw D.code=="auth/network-request-failed"&&(N.a=null),D})};function bg(t){return t.l||(t.C=t.c?Ai(t.c,Fc(t.b)):null,t.l=new cn(t.g,_t(t.i),t.C),t.f&&Ma(t.l,t.f)),t.l}e.Ob=function(t,i,a,c){this.a||(this.a=_g(bg(this)));var d=this;return this.a.then(function(){hc(i);var g=Yo(d.s,d.g,d.b,t,i,Po(),a,d.c,void 0,d.i,c,d.f);tv(g)}).o(function(g){throw g.code=="auth/network-request-failed"&&(d.a=null),g})},e.ma=function(){var t=this;return wg(this).then(function(){return t.v.sb}).o(function(){throw t.a=null,new T("network-request-failed")})},e.ac=function(){return!0};function Yo(t,i,a,c,d,g,m,b,N,D,oe,ke){return t=new Mc(t,i,a,c,d,ke),t.l=g,t.g=m,t.i=b,t.b=sn(N||null),t.f=D,t.zb(oe).toString()}function pT(t){if(!t.v)throw Error("IfcHandler must be initialized!");lT(t.v,function(i){var a={};if(i&&i.authEvent){var c=!1;for(i=Gv(i.authEvent),a=0;a<t.h.length;a++)c=t.h[a](i)||c;return a={},a.status=c?"ACK":"ERROR",te(a)}return a.status="ERROR",te(a)})}function vT(t){var i={type:"webStorageSupport"};return wg(t).then(function(){return uT(t.v,i)}).then(function(a){if(a&&a.length&&typeof a[0].webStorageSupport!="undefined")return a[0].webStorageSupport;throw Error()})}e.Ea=function(t){this.h.push(t)},e.Ta=function(t){P(this.h,function(i){return i==t})};function Eg(t){if(this.a=t||ue.INTERNAL.reactNative&&ue.INTERNAL.reactNative.AsyncStorage,!this.a)throw new T("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=Eg.prototype,e.get=function(t){return te(this.a.getItem(t)).then(function(i){return i&&Ri(i)})},e.set=function(t,i){return te(this.a.setItem(t,xo(i)))},e.U=function(t){return te(this.a.removeItem(t))},e.ca=function(){},e.ia=function(){};function Ig(t){this.b=t,this.a={},this.f=G(this.c,this)}var Tg=[];function gT(){var t=un()?self:null;if(W(Tg,function(a){a.b==t&&(i=a)}),!i){var i=new Ig(t);Tg.push(i)}return i}Ig.prototype.c=function(t){var i=t.data.eventType,a=t.data.eventId,c=this.a[i];if(c&&0<c.length){t.ports[0].postMessage({status:"ack",eventId:a,eventType:i,response:null});var d=[];W(c,function(g){d.push(te().then(function(){return g(t.origin,t.data.data)}))}),Np(d).then(function(g){var m=[];W(g,function(b){m.push({fulfilled:b.Qb,value:b.value,reason:b.reason?b.reason.message:void 0})}),W(m,function(b){for(var N in b)typeof b[N]=="undefined"&&delete b[N]}),t.ports[0].postMessage({status:"done",eventId:a,eventType:i,response:m})})}};function Cg(t,i,a){jt(t.a)&&t.b.addEventListener("message",t.f),typeof t.a[i]=="undefined"&&(t.a[i]=[]),t.a[i].push(a)}function Sg(t){this.a=t}Sg.prototype.postMessage=function(t,i){this.a.postMessage(t,i)};function Ag(t){this.c=t,this.b=!1,this.a=[]}function Ng(t,i,a,c){var d,g=a||{},m,b,N,D=null;if(t.b)return Ge(Error("connection_unavailable"));var oe=c?800:50,ke=typeof MessageChannel!="undefined"?new MessageChannel:null;return new me(function(be,ut){ke?(d=Math.floor(Math.random()*Math.pow(10,20)).toString(),ke.port1.start(),b=setTimeout(function(){ut(Error("unsupported_event"))},oe),m=function(Hn){Hn.data.eventId===d&&(Hn.data.status==="ack"?(clearTimeout(b),N=setTimeout(function(){ut(Error("timeout"))},3e3)):Hn.data.status==="done"?(clearTimeout(N),typeof Hn.data.response!="undefined"?be(Hn.data.response):ut(Error("unknown_error"))):(clearTimeout(b),clearTimeout(N),ut(Error("invalid_response"))))},D={messageChannel:ke,onMessage:m},t.a.push(D),ke.port1.addEventListener("message",m),t.c.postMessage({eventType:i,eventId:d,data:g},[ke.port2])):ut(Error("connection_unavailable"))}).then(function(be){return jc(t,D),be}).o(function(be){throw jc(t,D),be})}function jc(t,i){if(i){var a=i.messageChannel,c=i.onMessage;a&&(a.port1.removeEventListener("message",c),a.port1.close()),P(t.a,function(d){return d==i})}}Ag.prototype.close=function(){for(;0<this.a.length;)jc(this,this.a[0]);this.b=!0};function Rg(){if(!Bc())throw new T("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=f.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;un()&&self?(this.v=gT(),Cg(this.v,"keyChanged",function(i,a){return Og(t).then(function(c){return 0<c.length&&W(t.a,function(d){d(c)}),{keyProcessed:I(c,a.key)}})}),Cg(this.v,"ping",function(){return te(["keyChanged"])})):P0().then(function(i){(t.h=i)&&(t.g=new Ag(new Sg(i)),Ng(t.g,"ping",null,!0).then(function(a){a[0].fulfilled&&I(a[0].value,"keyChanged")&&(t.s=!0)}).o(function(){}))})}var Uc;function mT(t){return new me(function(i,a){var c=t.m.deleteDatabase("firebaseLocalStorageDb");c.onsuccess=function(){i()},c.onerror=function(d){a(Error(d.target.error))}})}function kg(t){return new me(function(i,a){var c=t.m.open("firebaseLocalStorageDb",1);c.onerror=function(d){try{d.preventDefault()}catch{}a(Error(d.target.error))},c.onupgradeneeded=function(d){d=d.target.result;try{d.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(g){a(g)}},c.onsuccess=function(d){d=d.target.result,d.objectStoreNames.contains("firebaseLocalStorage")?i(d):mT(t).then(function(){return kg(t)}).then(function(g){i(g)}).o(function(g){a(g)})}})}function Vc(t){return t.i||(t.i=kg(t)),t.i}function ja(t,i){function a(d,g){Vc(t).then(i).then(d).o(function(m){if(3<++c)g(m);else return Vc(t).then(function(b){return b.close(),t.i=void 0,a(d,g)}).o(function(b){g(b)})})}var c=0;return new me(a)}function Bc(){try{return!!f.indexedDB}catch{return!1}}function Qo(t){return t.objectStore("firebaseLocalStorage")}function Xo(t,i){return t.transaction(["firebaseLocalStorage"],i?"readwrite":"readonly")}function xi(t){return new me(function(i,a){t.onsuccess=function(c){c&&c.target?i(c.target.result):i()},t.onerror=function(c){a(c.target.error)}})}e=Rg.prototype,e.set=function(t,i){var a=this,c=!1;return ja(this,function(d){return d=Qo(Xo(d,!0)),xi(d.get(t))}).then(function(d){return ja(a,function(g){if(g=Qo(Xo(g,!0)),d)return d.value=i,xi(g.put(d));a.b++,c=!0;var m={};return m.fbase_key=t,m.value=i,xi(g.add(m))})}).then(function(){return a.c[t]=i,Pg(a,t)}).oa(function(){c&&a.b--})};function Pg(t,i){return t.g&&t.h&&k0()===t.h?Ng(t.g,"keyChanged",{key:i},t.s).then(function(){}).o(function(){}):te()}e.get=function(t){return ja(this,function(i){return xi(Qo(Xo(i,!1)).get(t))}).then(function(i){return i&&i.value})},e.U=function(t){var i=this,a=!1;return ja(this,function(c){return a=!0,i.b++,xi(Qo(Xo(c,!0)).delete(t))}).then(function(){return delete i.c[t],Pg(i,t)}).oa(function(){a&&i.b--})};function Og(t){return Vc(t).then(function(i){var a=Qo(Xo(i,!1));return a.getAll?xi(a.getAll()):new me(function(c,d){var g=[],m=a.openCursor();m.onsuccess=function(b){(b=b.target.result)?(g.push(b.value),b.continue()):c(g)},m.onerror=function(b){d(b.target.error)}})}).then(function(i){var a={},c=[];if(t.b==0){for(c=0;c<i.length;c++)a[i[c].fbase_key]=i[c].value;c=nv(t.c,a),t.c=a}return c})}e.ca=function(t){this.a.length==0&&yT(this),this.a.push(t)},e.ia=function(t){P(this.a,function(i){return i==t}),this.a.length==0&&xg(this)};function yT(t){function i(){t.f=setTimeout(function(){t.l=Og(t).then(function(a){0<a.length&&W(t.a,function(c){c(a)})}).then(function(){i()}).o(function(a){a.message!="STOP_EVENT"&&i()})},800)}xg(t),i()}function xg(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Dg(t){var i=this,a=null;this.a=[],this.type="indexedDB",this.c=t,this.b=te().then(function(){if(Bc()){var c=Lr(),d="__sak"+c;return Uc||(Uc=new Rg),a=Uc,a.set(d,c).then(function(){return a.get(d)}).then(function(g){if(g!==c)throw Error("indexedDB not supported!");return a.U(d)}).then(function(){return a}).o(function(){return i.c})}return i.c}).then(function(c){return i.type=c.type,c.ca(function(d){W(i.a,function(g){g(d)})}),c})}e=Dg.prototype,e.get=function(t){return this.b.then(function(i){return i.get(t)})},e.set=function(t,i){return this.b.then(function(a){return a.set(t,i)})},e.U=function(t){return this.b.then(function(i){return i.U(t)})},e.ca=function(t){this.a.push(t)},e.ia=function(t){P(this.a,function(i){return i==t})};function Jo(){this.a={},this.type="inMemory"}e=Jo.prototype,e.get=function(t){return te(this.a[t])},e.set=function(t,i){return this.a[t]=i,te()},e.U=function(t){return delete this.a[t],te()},e.ca=function(){},e.ia=function(){};function Ua(){if(!_T())throw En()=="Node"?new T("internal-error","The LocalStorage compatibility library was not found."):new T("web-storage-unsupported");this.a=Lg()||ue.INTERNAL.node.localStorage,this.type="localStorage"}function Lg(){try{var t=f.localStorage,i=Lr();return t&&(t.setItem(i,"1"),t.removeItem(i)),t}catch{return null}}function _T(){var t=En()=="Node";if(t=Lg()||t&&ue.INTERNAL.node&&ue.INTERNAL.node.localStorage,!t)return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch{return!1}}e=Ua.prototype,e.get=function(t){var i=this;return te().then(function(){var a=i.a.getItem(t);return Ri(a)})},e.set=function(t,i){var a=this;return te().then(function(){var c=xo(i);c===null?a.U(t):a.a.setItem(t,c)})},e.U=function(t){var i=this;return te().then(function(){i.a.removeItem(t)})},e.ca=function(t){f.window&&$t(f.window,"storage",t)},e.ia=function(t){f.window&&Ut(f.window,"storage",t)};function Wc(){this.type="nullStorage"}e=Wc.prototype,e.get=function(){return te(null)},e.set=function(){return te()},e.U=function(){return te()},e.ca=function(){},e.ia=function(){};function Hc(){if(!wT())throw En()=="Node"?new T("internal-error","The SessionStorage compatibility library was not found."):new T("web-storage-unsupported");this.a=Mg()||ue.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Mg(){try{var t=f.sessionStorage,i=Lr();return t&&(t.setItem(i,"1"),t.removeItem(i)),t}catch{return null}}function wT(){var t=En()=="Node";if(t=Mg()||t&&ue.INTERNAL.node&&ue.INTERNAL.node.sessionStorage,!t)return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch{return!1}}e=Hc.prototype,e.get=function(t){var i=this;return te().then(function(){var a=i.a.getItem(t);return Ri(a)})},e.set=function(t,i){var a=this;return te().then(function(){var c=xo(i);c===null?a.U(t):a.a.setItem(t,c)})},e.U=function(t){var i=this;return te().then(function(){i.a.removeItem(t)})},e.ca=function(){},e.ia=function(){};function bT(){var t={};t.Browser=ET,t.Node=IT,t.ReactNative=TT,t.Worker=CT,this.a=t[En()]}var Gc,ET={F:Ua,cb:Hc},IT={F:Ua,cb:Hc},TT={F:Eg,cb:Wc},CT={F:Ua,cb:Wc},Di={rd:"local",NONE:"none",td:"session"};function ST(t){var i=new T("invalid-persistence-type"),a=new T("unsupported-persistence-type");e:{for(c in Di)if(Di[c]==t){var c=!0;break e}c=!1}if(!c||typeof t!="string")throw i;switch(En()){case"ReactNative":if(t==="session")throw a;break;case"Node":if(t!=="none")throw a;break;case"Worker":if(t==="session"||!Bc()&&t!=="none")throw a;break;default:if(!Gl()&&t!=="none")throw a}}function Fg(){var t=!!(!lv(dt())&&Wl()),i=Oo(),a=Gl();this.m=t,this.h=i,this.l=a,this.a={},Gc||(Gc=new bT),t=Gc;try{this.g=!Vl()&&fv()||!f.indexedDB?new t.a.F:new Dg(un()?new Jo:new t.a.F)}catch{this.g=new Jo,this.h=!0}try{this.i=new t.a.cb}catch{this.i=new Jo}this.v=new Jo,this.f=G(this.Zb,this),this.b={}}var Kc;function Zo(){return Kc||(Kc=new Fg),Kc}function Hr(t,i){switch(i){case"session":return t.i;case"none":return t.v;default:return t.g}}function Li(t,i){return"firebase:"+t.name+(i?":"+i:"")}function AT(t,i,a){var c=Li(i,a),d=Hr(t,i.F);return t.get(i,a).then(function(g){var m=null;try{m=Ri(f.localStorage.getItem(c))}catch{}if(m&&!g)return f.localStorage.removeItem(c),t.set(i,m,a);m&&g&&d.type!="localStorage"&&f.localStorage.removeItem(c)})}e=Fg.prototype,e.get=function(t,i){return Hr(this,t.F).get(Li(t,i))};function Mi(t,i,a){return a=Li(i,a),i.F=="local"&&(t.b[a]=null),Hr(t,i.F).U(a)}e.set=function(t,i,a){var c=Li(t,a),d=this,g=Hr(this,t.F);return g.set(c,i).then(function(){return g.get(c)}).then(function(m){t.F=="local"&&(d.b[c]=m)})},e.addListener=function(t,i,a){t=Li(t,i),this.l&&(this.b[t]=f.localStorage.getItem(t)),jt(this.a)&&(Hr(this,"local").ca(this.f),this.h||(Vl()||!fv())&&f.indexedDB||!this.l||NT(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(a)},e.removeListener=function(t,i,a){t=Li(t,i),this.a[t]&&(P(this.a[t],function(c){return c==a}),this.a[t].length==0&&delete this.a[t]),jt(this.a)&&(Hr(this,"local").ia(this.f),qc(this))};function NT(t){qc(t),t.c=setInterval(function(){for(var i in t.a){var a=f.localStorage.getItem(i),c=t.b[i];a!=c&&(t.b[i]=a,a=new kr({type:"storage",key:i,target:window,oldValue:c,newValue:a,a:!0}),t.Zb(a))}},1e3)}function qc(t){t.c&&(clearInterval(t.c),t.c=null)}e.Zb=function(t){if(t&&t.g){var i=t.a.key;if(i==null)for(var a in this.a){var c=this.b[a];typeof c=="undefined"&&(c=null);var d=f.localStorage.getItem(a);d!==c&&(this.b[a]=d,this.nb(a))}else if(i.indexOf("firebase:")==0&&this.a[i]){if(typeof t.a.a!="undefined"?Hr(this,"local").ia(this.f):qc(this),this.m){if(a=f.localStorage.getItem(i),c=t.a.newValue,c!==a)c!==null?f.localStorage.setItem(i,c):f.localStorage.removeItem(i);else if(this.b[i]===c&&typeof t.a.a=="undefined")return}var g=this;a=function(){(typeof t.a.a!="undefined"||g.b[i]!==f.localStorage.getItem(i))&&(g.b[i]=f.localStorage.getItem(i),g.nb(i))},an&&Jn&&Jn==10&&f.localStorage.getItem(i)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(a,10):a()}}else W(t,G(this.nb,this))},e.nb=function(t){this.a[t]&&W(this.a[t],function(i){i()})};function RT(t){this.a=t,this.b=Zo()}var zc={name:"authEvent",F:"local"};function kT(t){return t.b.get(zc,t.a).then(function(i){return Gv(i)})}function PT(){this.a=Zo()}function OT(){this.b=-1}function Va(t,i){this.b=jg,this.f=f.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=i,this.l=f.Int32Array?new Int32Array(64):Array(64),Ba===void 0&&(f.Int32Array?Ba=new Int32Array(Bg):Ba=Bg),this.reset()}var Ba;q(Va,OT);for(var jg=64,xT=jg-1,Ug=[],$c=0;$c<xT;$c++)Ug[$c]=0;var Vg=x(128,Ug);Va.prototype.reset=function(){this.g=this.c=0,this.a=f.Int32Array?new Int32Array(this.h):M(this.h)};function Yc(t){for(var i=t.f,a=t.l,c=0,d=0;d<i.length;)a[c++]=i[d]<<24|i[d+1]<<16|i[d+2]<<8|i[d+3],d=4*c;for(i=16;64>i;i++){d=a[i-15]|0,c=a[i-2]|0;var g=(a[i-16]|0)+((d>>>7|d<<25)^(d>>>18|d<<14)^d>>>3)|0,m=(a[i-7]|0)+((c>>>17|c<<15)^(c>>>19|c<<13)^c>>>10)|0;a[i]=g+m|0}c=t.a[0]|0,d=t.a[1]|0;var b=t.a[2]|0,N=t.a[3]|0,D=t.a[4]|0,oe=t.a[5]|0,ke=t.a[6]|0;for(g=t.a[7]|0,i=0;64>i;i++){var be=((c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10))+(c&d^c&b^d&b)|0;m=D&oe^~D&ke,g=g+((D>>>6|D<<26)^(D>>>11|D<<21)^(D>>>25|D<<7))|0,m=m+(Ba[i]|0)|0,m=g+(m+(a[i]|0)|0)|0,g=ke,ke=oe,oe=D,D=N+m|0,N=b,b=d,d=c,c=m+be|0}t.a[0]=t.a[0]+c|0,t.a[1]=t.a[1]+d|0,t.a[2]=t.a[2]+b|0,t.a[3]=t.a[3]+N|0,t.a[4]=t.a[4]+D|0,t.a[5]=t.a[5]+oe|0,t.a[6]=t.a[6]+ke|0,t.a[7]=t.a[7]+g|0}function Qc(t,i,a){a===void 0&&(a=i.length);var c=0,d=t.c;if(typeof i=="string")for(;c<a;)t.f[d++]=i.charCodeAt(c++),d==t.b&&(Yc(t),d=0);else if(C(i))for(;c<a;){var g=i[c++];if(!(typeof g=="number"&&0<=g&&255>=g&&g==(g|0)))throw Error("message must be a byte array");t.f[d++]=g,d==t.b&&(Yc(t),d=0)}else throw Error("message must be string or array");t.c=d,t.g+=a}var Bg=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Wg(){Va.call(this,8,DT)}q(Wg,Va);var DT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Hg(t,i,a,c,d,g){this.v=t,this.i=i,this.l=a,this.m=c||null,this.u=d||null,this.s=g,this.h=i+":"+a,this.C=new PT,this.g=new RT(this.h),this.f=null,this.b=[],this.a=this.c=null}function Wa(t){return new T("invalid-cordova-configuration",t)}e=Hg.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=A0().then(function(){if(typeof Ke("universalLinks.subscribe",f)!="function")throw Wa("cordova-universal-links-plugin-fix is not installed");if(typeof Ke("BuildInfo.packageName",f)=="undefined")throw Wa("cordova-plugin-buildinfo is not installed");if(typeof Ke("cordova.plugins.browsertab.openUrl",f)!="function")throw Wa("cordova-plugin-browsertab is not installed");if(typeof Ke("cordova.InAppBrowser.open",f)!="function")throw Wa("cordova-plugin-inappbrowser is not installed")},function(){throw new T("cordova-not-ready")})};function LT(){for(var t=20,i=[];0<t;)i.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return i.join("")}function MT(t){var i=new Wg;Qc(i,t),t=[];var a=8*i.g;56>i.c?Qc(i,Vg,56-i.c):Qc(i,Vg,i.b-(i.c-56));for(var c=63;56<=c;c--)i.f[c]=a&255,a/=256;for(Yc(i),c=a=0;c<i.i;c++)for(var d=24;0<=d;d-=8)t[a++]=i.a[c]>>d&255;return z0(t)}e.Pb=function(t,i){return i(new T("operation-not-supported-in-this-environment")),te()},e.Nb=function(){return Ge(new T("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(t,i,a,c){if(this.c)return Ge(new T("redirect-operation-pending"));var d=this,g=f.document,m=null,b=null,N=null,D=null;return this.c=te().then(function(){return hc(i),Kg(d)}).then(function(){return FT(d,t,i,a,c)}).then(function(){return new me(function(oe,ke){b=function(){var be=Ke("cordova.plugins.browsertab.close",f);return oe(),typeof be=="function"&&be(),d.a&&typeof d.a.close=="function"&&(d.a.close(),d.a=null),!1},d.Ea(b),N=function(){m||(m=Ii(2e3).then(function(){ke(new T("redirect-cancelled-by-user"))}))},D=function(){Kl()&&N()},g.addEventListener("resume",N,!1),dt().toLowerCase().match(/android/)||g.addEventListener("visibilitychange",D,!1)}).o(function(oe){return Xc(d).then(function(){throw oe})})}).oa(function(){N&&g.removeEventListener("resume",N,!1),D&&g.removeEventListener("visibilitychange",D,!1),m&&m.cancel(),b&&d.Ta(b),d.c=null})};function FT(t,i,a,c,d){var g=LT(),m=new ln(i,c,null,g,new T("no-auth-event"),null,d),b=Ke("BuildInfo.packageName",f);if(typeof b!="string")throw new T("invalid-cordova-configuration");var N=Ke("BuildInfo.displayName",f),D={};if(dt().toLowerCase().match(/iphone|ipad|ipod/))D.ibi=b;else if(dt().toLowerCase().match(/android/))D.apn=b;else return Ge(new T("operation-not-supported-in-this-environment"));N&&(D.appDisplayName=N),g=MT(g),D.sessionId=g;var oe=Yo(t.v,t.i,t.l,i,a,null,c,t.m,D,t.u,d,t.s);return t.ma().then(function(){var ke=t.h;return t.C.a.set(zc,m.w(),ke)}).then(function(){var ke=Ke("cordova.plugins.browsertab.isAvailable",f);if(typeof ke!="function")throw new T("invalid-cordova-configuration");var be=null;ke(function(ut){if(ut){if(be=Ke("cordova.plugins.browsertab.openUrl",f),typeof be!="function")throw new T("invalid-cordova-configuration");be(oe)}else{if(be=Ke("cordova.InAppBrowser.open",f),typeof be!="function")throw new T("invalid-cordova-configuration");ut=dt(),t.a=be(oe,ut.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||ut.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function Gg(t,i){for(var a=0;a<t.b.length;a++)try{t.b[a](i)}catch{}}function Kg(t){return t.f||(t.f=t.ma().then(function(){return new me(function(i){function a(c){return i(c),t.Ta(a),!1}t.Ea(a),jT(t)})})),t.f}function Xc(t){var i=null;return kT(t.g).then(function(a){return i=a,a=t.g,Mi(a.b,zc,a.a)}).then(function(){return i})}function jT(t){function i(m){c=!0,d&&d.cancel(),Xc(t).then(function(b){var N=a;if(b&&m&&m.url){var D=null;N=Mv(m.url),N.indexOf("/__/auth/callback")!=-1&&(D=kt(N),D=Ri(Yt(D,"firebaseError")||null),D=(D=typeof D=="object"?Qe(D):null)?new ln(b.c,b.b,null,null,D,null,b.T()):new ln(b.c,b.b,N,b.f,null,null,b.T())),N=D||a}Gg(t,N)})}var a=new ln("unknown",null,null,null,new T("no-auth-event")),c=!1,d=Ii(500).then(function(){return Xc(t).then(function(){c||Gg(t,a)})}),g=f.handleOpenURL;f.handleOpenURL=function(m){if(m.toLowerCase().indexOf(Ke("BuildInfo.packageName",f).toLowerCase()+"://")==0&&i({url:m}),typeof g=="function")try{g(m)}catch(b){console.error(b)}},dc||(dc=new tI),nI(i)}e.Ea=function(t){this.b.push(t),Kg(this).o(function(i){i.code==="auth/invalid-cordova-configuration"&&(i=new ln("unknown",null,null,null,new T("no-auth-event")),t(i))})},e.Ta=function(t){P(this.b,function(i){return i==t})};function UT(t){this.a=t,this.b=Zo()}var Jc={name:"pendingRedirect",F:"session"};function VT(t){return t.b.set(Jc,"pending",t.a)}function Zc(t){return Mi(t.b,Jc,t.a)}function BT(t){return t.b.get(Jc,t.a).then(function(i){return i=="pending"})}function Ha(t,i,a,c){this.i={},this.u=0,this.D=t,this.v=i,this.m=a,this.J=c,this.h=[],this.f=!1,this.l=G(this.s,this),this.b=new Ka,this.C=new tm,this.g=new UT(Jg(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=qg(this.D,this.v,this.m,Pe,this.J)}function qg(t,i,a,c,d){var g=ue.SDK_VERSION||null;return Bl()?new Hg(t,i,a,g,c,d):new yg(t,i,a,g,c,d)}Ha.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=qg(this.D,this.v,this.m,null,this.J),this.i={}};function zg(t){t.f||(t.f=!0,t.a.Ea(t.l));var i=t.a;return t.a.ma().o(function(a){throw t.a==i&&t.reset(),a})}function $g(t){t.a.Yb()&&zg(t).o(function(i){var a=new ln("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));tf(i)&&t.s(a)}),t.a.Ub()||Zg(t.b)}function Ga(t,i){I(t.h,i)||t.h.push(i),t.f||BT(t.g).then(function(a){a?Zc(t.g).then(function(){zg(t).o(function(c){var d=new ln("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));tf(c)&&t.s(d)})}):$g(t)}).o(function(){$g(t)})}function ef(t,i){P(t.h,function(a){return a==i})}Ha.prototype.s=function(t){if(!t)throw new T("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var i=!1,a=0;a<this.h.length;a++){var c=this.h[a];if(c.Gb(t.c,t.b)){(i=this.c[t.c])&&(i.h(t,c),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),i=!0;break}}return Zg(this.b),i};var WT=new tr(2e3,1e4),HT=new tr(3e4,6e4);Ha.prototype.ra=function(){return this.b.ra()};function Yg(t,i,a,c,d,g,m){return t.a.Nb(i,a,c,function(){t.f||(t.f=!0,t.a.Ea(t.l))},function(){t.reset()},d,g,m)}function tf(t){return!!(t&&t.code=="auth/cordova-not-ready")}function Qg(t,i,a,c,d){var g;return VT(t.g).then(function(){return t.a.Ob(i,a,c,d).o(function(m){if(tf(m))throw new T("operation-not-supported-in-this-environment");return g=m,Zc(t.g).then(function(){throw g})}).then(function(){return t.a.ac()?new me(function(){}):Zc(t.g).then(function(){return t.ra()}).then(function(){}).o(function(){})})})}function Xg(t,i,a,c,d){return t.a.Pb(c,function(g){i.na(a,null,g,d)},WT.get())}var nf={};function Jg(t,i,a){return t=t+":"+i,a&&(t=t+":"+a.url),t}function rf(t,i,a,c){var d=Jg(i,a,c);return nf[d]||(nf[d]=new Ha(t,i,a,c)),nf[d]}function Ka(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}Ka.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Ka.prototype.h=function(t,i){if(t){this.reset(),this.g=!0;var a=t.c,c=t.b,d=t.a&&t.a.code=="auth/web-storage-unsupported",g=t.a&&t.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!d&&!g),a!="unknown"||d||g?t.a?(Gr(this,!0,null,t.a),te()):i.Fa(a,c)?GT(this,t,i):Ge(new T("invalid-auth-event")):(Gr(this,!1,null,null),te())}else Ge(new T("invalid-auth-event"))};function Zg(t){t.g||(t.g=!0,Gr(t,!1,null,null))}function qa(t){t.g&&!t.i&&Gr(t,!1,null,null)}function GT(t,i,a){a=a.Fa(i.c,i.b);var c=i.g,d=i.f,g=i.i,m=i.T(),b=!!i.c.match(/Redirect$/);a(c,d,m,g).then(function(N){Gr(t,b,N,null)}).o(function(N){Gr(t,b,null,N)})}function KT(t,i){if(t.b=function(){return Ge(i)},t.c.length)for(var a=0;a<t.c.length;a++)t.c[a](i)}function em(t,i){if(t.b=function(){return te(i)},t.f.length)for(var a=0;a<t.f.length;a++)t.f[a](i)}function Gr(t,i,a,c){i?c?KT(t,c):em(t,a):em(t,{user:null}),t.f=[],t.c=[]}Ka.prototype.ra=function(){var t=this;return new me(function(i,a){t.b?t.b().then(i,a):(t.f.push(i),t.c.push(a),qT(t))})};function qT(t){var i=new T("timeout");t.a&&t.a.cancel(),t.a=Ii(HT.get()).then(function(){t.b||(t.g=!0,Gr(t,!0,null,i))})}function tm(){}tm.prototype.h=function(t,i){if(t){var a=t.c,c=t.b;t.a?(i.na(t.c,null,t.a,t.b),te()):i.Fa(a,c)?zT(t,i):Ge(new T("invalid-auth-event"))}else Ge(new T("invalid-auth-event"))};function zT(t,i){var a=t.b,c=t.c;i.Fa(c,a)(t.g,t.f,t.T(),t.i).then(function(d){i.na(c,d,null,a)}).o(function(d){i.na(c,null,d,a)})}function nm(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(t){this.jb=t},enumerable:!1})}function of(t,i){this.a=i,$(this,"verificationId",t)}of.prototype.confirm=function(t){return t=Hv(this.verificationId,t),this.a(t)};function sf(t,i,a,c){return new Bn(t).gb(i,a).then(function(d){return new of(d,c)})}function $T(t){var i=Nv(t);if(!(i&&i.exp&&i.auth_time&&i.iat))throw new T("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Et(this,{token:t,expirationTime:Do(1e3*i.exp),authTime:Do(1e3*i.auth_time),issuedAtTime:Do(1e3*i.iat),signInProvider:i.firebase&&i.firebase.sign_in_provider?i.firebase.sign_in_provider:null,signInSecondFactor:i.firebase&&i.firebase.sign_in_second_factor?i.firebase.sign_in_second_factor:null,claims:i})}function af(t,i,a){var c=i&&i[im];if(!c)throw new T("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=sn(i),this.g=a,this.c=new ba(null,c),this.b=[];var d=this;W(i[rm]||[],function(g){(g=Xl(g))&&d.b.push(g)}),$(this,"auth",this.a),$(this,"session",this.c),$(this,"hints",this.b)}var rm="mfaInfo",im="mfaPendingCredential";af.prototype.Rc=function(t){var i=this;return t.tb(this.a.a,this.c).then(function(a){var c=sn(i.f);return delete c[rm],delete c[im],We(c,a),i.g(c)})};function uf(t,i,a,c){T.call(this,"multi-factor-auth-required",c,i),this.b=new af(t,i,a),$(this,"resolver",this.b)}q(uf,T);function om(t,i,a){if(t&&S(t.serverResponse)&&t.code==="auth/multi-factor-auth-required")try{return new uf(i,t.serverResponse,a,t.message)}catch{}return null}function sm(){}sm.prototype.tb=function(t,i,a){return i.type==jo?YT(this,t,i,a):QT(this,t,i)};function YT(t,i,a,c){return a.Ha().then(function(d){return d={idToken:d},typeof c!="undefined"&&(d.displayName=c),We(d,{phoneVerificationInfo:Uo(t.a)}),ye(i,jI,d)})}function QT(t,i,a){return a.Ha().then(function(c){return c={mfaPendingCredential:c},We(c,{phoneVerificationInfo:Uo(t.a)}),ye(i,UI,c)})}function lf(t){$(this,"factorId",t.fa),this.a=t}q(lf,sm);function am(t){if(lf.call(this,t),this.a.fa!=Bn.PROVIDER_ID)throw new T("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}q(am,lf);function Fi(t,i){Rt.call(this,t);for(var a in i)this[a]=i[a]}q(Fi,Rt);function cf(t,i){this.a=t,this.b=[],this.c=G(this.yc,this),$t(this.a,"userReloaded",this.c);var a=[];i&&i.multiFactor&&i.multiFactor.enrolledFactors&&W(i.multiFactor.enrolledFactors,function(c){var d=null,g={};if(c){c.uid&&(g[Zl]=c.uid),c.displayName&&(g[dv]=c.displayName),c.enrollmentTime&&(g[Jl]=new Date(c.enrollmentTime).toISOString()),c.phoneNumber&&(g[ec]=c.phoneNumber);try{d=new Lo(g)}catch{}c=d}else c=null;c&&a.push(c)}),za(this,a)}function XT(t){var i=[];return W(t.mfaInfo||[],function(a){(a=Xl(a))&&i.push(a)}),i}e=cf.prototype,e.yc=function(t){za(this,XT(t.hd))};function za(t,i){t.b=i,$(t,"enrolledFactors",i)}e.Sb=function(){return this.a.I().then(function(t){return new ba(t,null)})},e.fc=function(t,i){var a=this,c=this.a.a;return this.Sb().then(function(d){return t.tb(c,d,i)}).then(function(d){return Cn(a.a,d),a.a.reload()})},e.bd=function(t){var i=this,a=typeof t=="string"?t:t.uid,c=this.a.a;return this.a.I().then(function(d){return ye(c,oT,{idToken:d,mfaEnrollmentId:a})}).then(function(d){var g=Oe(i.b,function(m){return m.uid!=a});return za(i,g),Cn(i.a,d),i.a.reload().o(function(m){if(m.code!="auth/user-token-expired")throw m})})},e.w=function(){return{multiFactor:{enrolledFactors:ce(this.b,function(t){return t.w()})}}};function ff(t,i,a){if(this.h=t,this.i=i,this.g=a,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}ff.prototype.start=function(){this.a=this.c,hf(this,!0)};function JT(t,i){return i?(t.a=t.c,t.g()):(i=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),i)}function hf(t,i){t.stop(),t.b=Ii(JT(t,i)).then(function(){return R0()}).then(function(){return t.h()}).then(function(){hf(t,!0)}).o(function(a){t.i(a)&&hf(t,!1)})}ff.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function df(t){this.f=t,this.b=this.a=null,this.c=Date.now()}df.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function um(t,i){typeof i=="undefined"&&(t.b?(i=t.b,i=i.a-i.g):i=0),t.c=Date.now()+1e3*i}function lm(t,i){t.b=_a(i[fn]||""),t.a=i.refreshToken,i=i.expiresIn,um(t,typeof i!="undefined"?Number(i):void 0)}function ZT(t,i){t.b=i.b,t.a=i.a,t.c=i.c}function eC(t,i){return EI(t.f,i).then(function(a){return t.b=_a(a.access_token),t.a=a.refresh_token,um(t,a.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}}).o(function(a){throw a.code=="auth/user-token-expired"&&(t.a=null),a})}df.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ge(new T("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?eC(this,{grant_type:"refresh_token",refresh_token:this.a}):te(null):te({accessToken:this.b.toString(),refreshToken:this.a})};function $a(t,i){this.a=t||null,this.b=i||null,Et(this,{lastSignInTime:Do(i||null),creationTime:Do(t||null)})}function tC(t){return new $a(t.a,t.b)}$a.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function nC(t,i,a,c,d,g){Et(this,{uid:t,displayName:c||null,photoURL:d||null,email:a||null,phoneNumber:g||null,providerId:i})}function Bt(t,i,a){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var c=ue.SDK_VERSION?Ai(ue.SDK_VERSION):null;this.a=new cn(this.l,_t(Pe),c),(this.u=t.emulatorConfig||null)&&Ma(this.a,this.u),this.h=new df(this.a),wf(this,i[fn]),lm(this.h,i),$(this,"refreshToken",this.h.a),fm(this,a||{}),bt.call(this),this.P=!1,this.s&&Dr()&&(this.b=rf(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=rC(this),this.ba=G(this.ib,this);var d=this;this.za=null,this.Pa=function(g){d.xa(g.h)},this.qa=null,this.Ba=function(g){pf(d,g.c)},this.$=null,this.aa=[],this.Oa=function(g){es(d,g.f)},this.ja=null,this.S=new cf(this,a),$(this,"multiFactor",this.S)}q(Bt,bt),Bt.prototype.xa=function(t){this.za=t,og(this.a,t)};function pf(t,i){t.u=i,Ma(t.a,i),t.b&&(i=t.b,t.b=rf(t.s,t.l,t.m,t.u),t.P&&(ef(i,t),Ga(t.b,t)))}Bt.prototype.la=function(){return this.za};function vf(t,i){t.qa&&Ut(t.qa,"languageCodeChanged",t.Pa),(t.qa=i)&&$t(i,"languageCodeChanged",t.Pa)}function gf(t,i){t.$&&Ut(t.$,"emulatorConfigChanged",t.Ba),(t.$=i)&&$t(i,"emulatorConfigChanged",t.Ba)}function es(t,i){t.aa=i,sg(t.a,ue.SDK_VERSION?Ai(ue.SDK_VERSION,t.aa):null)}Bt.prototype.Ga=function(){return M(this.aa)};function mf(t,i){t.ja&&Ut(t.ja,"frameworkChanged",t.Oa),(t.ja=i)&&$t(i,"frameworkChanged",t.Oa)}Bt.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function yf(t){try{return ue.app(t.m).auth()}catch{throw new T("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function rC(t){return new ff(function(){return t.I(!0)},function(i){return!!(i&&i.code=="auth/network-request-failed")},function(){var i=t.h.c-Date.now()-3e5;return 0<i?i:0})}function cm(t){t.J||t.D.b||(t.D.start(),Ut(t,"tokenChanged",t.ba),$t(t,"tokenChanged",t.ba))}function _f(t){Ut(t,"tokenChanged",t.ba),t.D.stop()}function wf(t,i){t.Aa=i,$(t,"_lat",i)}function iC(t,i){P(t.W,function(a){return a==i})}function Kr(t){for(var i=[],a=0;a<t.W.length;a++)i.push(t.W[a](t));return Np(i).then(function(){return t})}function ts(t){t.b&&!t.P&&(t.P=!0,Ga(t.b,t))}function fm(t,i){Et(t,{uid:i.uid,displayName:i.displayName||null,photoURL:i.photoURL||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,isAnonymous:i.isAnonymous||!1,tenantId:i.tenantId||null,metadata:new $a(i.createdAt,i.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}$(Bt.prototype,"providerId","firebase");function hm(){}function bf(t){return te().then(function(){if(t.J)throw new T("app-deleted")})}function Ef(t){return ce(t.providerData,function(i){return i.providerId})}function If(t,i){i&&(dm(t,i.providerId),t.providerData.push(i))}function dm(t,i){P(t.providerData,function(a){return a.providerId==i})}function ir(t,i,a){(i!="uid"||a)&&t.hasOwnProperty(i)&&$(t,i,a)}function Ya(t,i){t!=i&&(Et(t,{uid:i.uid,displayName:i.displayName,photoURL:i.photoURL,email:i.email,emailVerified:i.emailVerified,phoneNumber:i.phoneNumber,isAnonymous:i.isAnonymous,tenantId:i.tenantId,providerData:[]}),i.metadata?$(t,"metadata",tC(i.metadata)):$(t,"metadata",new $a),W(i.providerData,function(a){If(t,a)}),ZT(t.h,i.h),$(t,"refreshToken",t.h.a),za(t.S,i.S.b))}e=Bt.prototype,e.reload=function(){var t=this;return rt(this,bf(this).then(function(){return Tf(t).then(function(){return Kr(t)}).then(hm)}))};function Tf(t){return t.I().then(function(i){var a=t.isAnonymous;return oC(t,i).then(function(){return a||ir(t,"isAnonymous",!1),i})})}e.oc=function(t){return this.I(t).then(function(i){return new $T(i)})},e.I=function(t){var i=this;return rt(this,bf(this).then(function(){return i.h.getToken(t)}).then(function(a){if(!a)throw new T("internal-error");return a.accessToken!=i.Aa&&(wf(i,a.accessToken),i.dispatchEvent(new Fi("tokenChanged"))),ir(i,"refreshToken",a.refreshToken),a.accessToken}))};function Cn(t,i){i[fn]&&t.Aa!=i[fn]&&(lm(t.h,i),t.dispatchEvent(new Fi("tokenChanged")),wf(t,i[fn]),ir(t,"refreshToken",t.h.a))}function oC(t,i){return ye(t.a,VI,{idToken:i}).then(G(t.Kc,t))}e.Kc=function(t){if(t=t.users,!t||!t.length)throw new T("internal-error");t=t[0],fm(this,{uid:t.localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var i=sC(t),a=0;a<i.length;a++)If(this,i[a]);ir(this,"isAnonymous",!(this.email&&t.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new Fi("userReloaded",{hd:t}))};function sC(t){return(t=t.providerUserInfo)&&t.length?ce(t,function(i){return new nC(i.rawId,i.providerId,i.email,i.displayName,i.photoUrl,i.phoneNumber)}):[]}e.Lc=function(t){return ql("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(t)},e.ub=function(t){var i=this,a=null;return rt(this,t.c(this.a,this.uid).then(function(c){return Cn(i,c),a=ns(i,c,"reauthenticate"),i.i=null,i.reload()}).then(function(){return a}),!0)};function Qa(t,i){return Tf(t).then(function(){if(I(Ef(t),i))return Kr(t).then(function(){throw new T("provider-already-linked")})})}e.Cc=function(t){return ql("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(t)},e.rb=function(t){var i=this,a=null;return rt(this,Qa(this,t.providerId).then(function(){return i.I()}).then(function(c){return t.b(i.a,c)}).then(function(c){return a=ns(i,c,"link"),pm(i,c)}).then(function(){return a}))},e.Dc=function(t,i){var a=this;return rt(this,Qa(this,"phone").then(function(){return sf(yf(a),t,i,G(a.rb,a))}))},e.Mc=function(t,i){var a=this;return rt(this,te().then(function(){return sf(yf(a),t,i,G(a.ub,a))}),!0)};function ns(t,i,a){var c=fc(i);return i=kv(i),In({user:t,credential:c,additionalUserInfo:i,operationType:a})}function pm(t,i){return Cn(t,i),t.reload().then(function(){return t})}e.Cb=function(t){var i=this;return rt(this,this.I().then(function(a){return i.a.Cb(a,t)}).then(function(a){return Cn(i,a),i.reload()}))},e.ed=function(t){var i=this;return rt(this,this.I().then(function(a){return t.b(i.a,a)}).then(function(a){return Cn(i,a),i.reload()}))},e.Db=function(t){var i=this;return rt(this,this.I().then(function(a){return i.a.Db(a,t)}).then(function(a){return Cn(i,a),i.reload()}))},e.Eb=function(t){if(t.displayName===void 0&&t.photoURL===void 0)return bf(this);var i=this;return rt(this,this.I().then(function(a){return i.a.Eb(a,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(a){return Cn(i,a),ir(i,"displayName",a.displayName||null),ir(i,"photoURL",a.photoUrl||null),W(i.providerData,function(c){c.providerId==="password"&&($(c,"displayName",i.displayName),$(c,"photoURL",i.photoURL))}),Kr(i)}).then(hm))},e.cd=function(t){var i=this;return rt(this,Tf(this).then(function(a){return I(Ef(i),t)?RI(i.a,a,[t]).then(function(c){var d={};return W(c.providerUserInfo||[],function(g){d[g.providerId]=!0}),W(Ef(i),function(g){d[g]||dm(i,g)}),d[Bn.PROVIDER_ID]||$(i,"phoneNumber",null),Kr(i)}):Kr(i).then(function(){throw new T("no-such-provider")})}))},e.delete=function(){var t=this;return rt(this,this.I().then(function(i){return ye(t.a,DI,{idToken:i})}).then(function(){t.dispatchEvent(new Fi("userDeleted"))})).then(function(){for(var i=0;i<t.N.length;i++)t.N[i].cancel("app-deleted");vf(t,null),gf(t,null),mf(t,null),t.N=[],t.J=!0,_f(t),$(t,"refreshToken",null),t.b&&ef(t.b,t)})},e.Gb=function(t,i){return!!(t=="linkViaPopup"&&(this.g||null)==i&&this.f||t=="reauthViaPopup"&&(this.g||null)==i&&this.f||t=="linkViaRedirect"&&(this.ga||null)==i||t=="reauthViaRedirect"&&(this.ga||null)==i)},e.na=function(t,i,a,c){t!="linkViaPopup"&&t!="reauthViaPopup"||c!=(this.g||null)||(a&&this.C?this.C(a):i&&!a&&this.f&&this.f(i),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(t,i){return t=="linkViaPopup"&&i==(this.g||null)?G(this.Lb,this):t=="reauthViaPopup"&&i==(this.g||null)?G(this.Mb,this):t=="linkViaRedirect"&&(this.ga||null)==i?G(this.Lb,this):t=="reauthViaRedirect"&&(this.ga||null)==i?G(this.Mb,this):null},e.Ec=function(t){var i=this;return vm(this,"linkViaPopup",t,function(){return Qa(i,t.providerId).then(function(){return Kr(i)})},!1)},e.Nc=function(t){return vm(this,"reauthViaPopup",t,function(){return te()},!0)};function vm(t,i,a,c,d){if(!Dr())return Ge(new T("operation-not-supported-in-this-environment"));if(t.i&&!d)return Ge(t.i);var g=oc(a.providerId),m=Lr(t.uid+":::"),b=null;(!Oo()||Wl())&&t.s&&a.isOAuthProvider&&(b=Yo(t.s,t.l,t.m,i,a,null,m,ue.SDK_VERSION||null,null,null,t.tenantId,t.u));var N=iv(b,g&&g.va,g&&g.ua);return c=c().then(function(){if(mm(t),!d)return t.I().then(function(){})}).then(function(){return Yg(t.b,N,i,a,m,!!b,t.tenantId)}).then(function(){return new me(function(D,oe){t.na(i,null,new T("cancelled-popup-request"),t.g||null),t.f=D,t.C=oe,t.g=m,t.c=Xg(t.b,t,i,N,m)})}).then(function(D){return N&&xr(N),D?In(D):null}).o(function(D){throw N&&xr(N),D}),rt(t,c,d)}e.Fc=function(t){var i=this;return gm(this,"linkViaRedirect",t,function(){return Qa(i,t.providerId)},!1)},e.Oc=function(t){return gm(this,"reauthViaRedirect",t,function(){return te()},!0)};function gm(t,i,a,c,d){if(!Dr())return Ge(new T("operation-not-supported-in-this-environment"));if(t.i&&!d)return Ge(t.i);var g=null,m=Lr(t.uid+":::");return c=c().then(function(){if(mm(t),!d)return t.I().then(function(){})}).then(function(){return t.ga=m,Kr(t)}).then(function(b){return t.ha&&(b=t.ha,b=b.b.set(Cf,t.w(),b.a)),b}).then(function(){return Qg(t.b,i,a,m,t.tenantId)}).o(function(b){if(g=b,t.ha)return _m(t.ha);throw g}).then(function(){if(g)throw g}),rt(t,c,d)}function mm(t){if(!t.b||!t.P)throw t.b&&!t.P?new T("internal-error"):new T("auth-domain-config-required")}e.Lb=function(t,i,a,c){var d=this;this.c&&(this.c.cancel(),this.c=null);var g=null;return a=this.I().then(function(m){return Oc(d.a,{requestUri:t,postBody:c,sessionId:i,idToken:m})}).then(function(m){return g=ns(d,m,"link"),pm(d,m)}).then(function(){return g}),rt(this,a)},e.Mb=function(t,i,a,c){var d=this;this.c&&(this.c.cancel(),this.c=null);var g=null,m=te().then(function(){return Pi(xc(d.a,{requestUri:t,sessionId:i,postBody:c,tenantId:a}),d.uid)}).then(function(b){return g=ns(d,b,"reauthenticate"),Cn(d,b),d.i=null,d.reload()}).then(function(){return g});return rt(this,m,!0)},e.vb=function(t){var i=this,a=null;return rt(this,this.I().then(function(c){return a=c,typeof t=="undefined"||jt(t)?{}:ma(new ga(t))}).then(function(c){return i.a.vb(a,c)}).then(function(c){if(i.email!=c)return i.reload()}).then(function(){}))},e.Fb=function(t,i){var a=this,c=null;return rt(this,this.I().then(function(d){return c=d,typeof i=="undefined"||jt(i)?{}:ma(new ga(i))}).then(function(d){return a.a.Fb(c,t,d)}).then(function(d){if(a.email!=d)return a.reload()}).then(function(){}))};function rt(t,i,a){var c=aC(t,i,a);return t.N.push(c),c.oa(function(){A(t.N,c)}),c.o(function(d){var g=null;throw d&&d.code==="auth/multi-factor-auth-required"&&(g=om(d.w(),yf(t),G(t.jc,t))),g||d})}e.jc=function(t){var i=null,a=this;return t=Pi(te(t),a.uid).then(function(c){return i=ns(a,c,"reauthenticate"),Cn(a,c),a.i=null,a.reload()}).then(function(){return i}),rt(this,t,!0)};function aC(t,i,a){return t.i&&!a?(i.cancel(),Ge(t.i)):i.o(function(c){throw!c||c.code!="auth/user-disabled"&&c.code!="auth/user-token-expired"||(t.i||t.dispatchEvent(new Fi("userInvalidated")),t.i=c),c})}e.toJSON=function(){return this.w()},e.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&We(t,this.metadata.w()),W(this.providerData,function(i){t.providerData.push(O0(i))}),We(t,this.S.w()),t};function ym(t){if(!t.apiKey)return null;var i={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},a={};if(t.stsTokenManager&&t.stsTokenManager.accessToken){a[fn]=t.stsTokenManager.accessToken,a.refreshToken=t.stsTokenManager.refreshToken||null;var c=t.stsTokenManager.expirationTime;c&&(a.expiresIn=(c-Date.now())/1e3)}else return null;var d=new Bt(i,a,t);return t.providerData&&W(t.providerData,function(g){g&&If(d,In(g))}),t.redirectEventId&&(d.ga=t.redirectEventId),d}function uC(t,i,a,c){var d=new Bt(t,i);return a&&(d.ha=a),c&&es(d,c),d.reload().then(function(){return d})}function lC(t,i,a,c){var d=t.h,g={};return g[fn]=d.b&&d.b.toString(),g.refreshToken=d.a,i=new Bt(i||{apiKey:t.l,authDomain:t.s,appName:t.m},g),a&&(i.ha=a),c&&es(i,c),Ya(i,t),i}function cC(t){this.a=t,this.b=Zo()}var Cf={name:"redirectUser",F:"session"};function _m(t){return Mi(t.b,Cf,t.a)}function fC(t,i){return t.b.get(Cf,t.a).then(function(a){return a&&i&&(a.authDomain=i),ym(a||{})})}function Sf(t){this.a=t,this.b=Zo(),this.c=null,this.f=hC(this),this.b.addListener(Sn("local"),this.a,G(this.g,this))}Sf.prototype.g=function(){var t=this,i=Sn("local");ji(this,function(){return te().then(function(){return t.c&&t.c.F!="local"?t.b.get(i,t.a):null}).then(function(a){if(a)return Af(t,"local").then(function(){t.c=i})})})};function Af(t,i){var a=[],c;for(c in Di)Di[c]!==i&&a.push(Mi(t.b,Sn(Di[c]),t.a));return a.push(Mi(t.b,Nf,t.a)),e0(a)}function hC(t){var i=Sn("local"),a=Sn("session"),c=Sn("none");return AT(t.b,i,t.a).then(function(){return t.b.get(a,t.a)}).then(function(d){return d?a:t.b.get(c,t.a).then(function(g){return g?c:t.b.get(i,t.a).then(function(m){return m?i:t.b.get(Nf,t.a).then(function(b){return b?Sn(b):i})})})}).then(function(d){return t.c=d,Af(t,d.F)}).o(function(){t.c||(t.c=i)})}var Nf={name:"persistence",F:"session"};function Sn(t){return{name:"authUser",F:t}}Sf.prototype.yb=function(t){var i=null,a=this;return ST(t),ji(this,function(){return t!=a.c.F?a.b.get(a.c,a.a).then(function(c){return i=c,Af(a,t)}).then(function(){if(a.c=Sn(t),i)return a.b.set(a.c,i,a.a)}):te()})};function dC(t){return ji(t,function(){return t.b.set(Nf,t.c.F,t.a)})}function wm(t,i){return ji(t,function(){return t.b.set(t.c,i.w(),t.a)})}function bm(t){return ji(t,function(){return Mi(t.b,t.c,t.a)})}function Em(t,i,a){return ji(t,function(){return t.b.get(t.c,t.a).then(function(c){return c&&i&&(c.authDomain=i),c&&a&&(c.emulatorConfig=a),ym(c||{})})})}function ji(t,i){return t.f=t.f.then(i,i),t.f}function hn(t){if(this.l=!1,$(this,"settings",new nm),$(this,"app",t),Le(this).options&&Le(this).options.apiKey)t=ue.SDK_VERSION?Ai(ue.SDK_VERSION):null,this.a=new cn(Le(this).options&&Le(this).options.apiKey,_t(Pe),t);else throw new T("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=ue.INTERNAL.createSubscribe(G(this.zc,this)),this.W=void 0,this.ib=ue.INTERNAL.createSubscribe(G(this.Ac,this)),Ui(this,null),this.i=new Sf(Le(this).options.apiKey+":"+Le(this).name),this.D=new cC(Le(this).options.apiKey+":"+Le(this).name),this.$=Xe(this,_C(this)),this.h=Xe(this,wC(this)),this.ba=!1,this.ja=G(this.Zc,this),this.Ba=G(this.da,this),this.qa=G(this.mc,this),this.za=G(this.wc,this),this.Aa=G(this.xc,this),this.b=null,gC(this),this.INTERNAL={},this.INTERNAL.delete=G(this.delete,this),this.INTERNAL.logFramework=G(this.Gc,this),this.u=0,bt.call(this),vC(this),this.J=[],this.R=null}q(hn,bt);function Im(t){Rt.call(this,"languageCodeChanged"),this.h=t}q(Im,Rt);function Tm(t){Rt.call(this,"emulatorConfigChanged"),this.c=t}q(Tm,Rt);function Cm(t){Rt.call(this,"frameworkChanged"),this.f=t}q(Cm,Rt),e=hn.prototype,e.yb=function(t){return t=this.i.yb(t),Xe(this,t)},e.xa=function(t){this.aa===t||this.l||(this.aa=t,og(this.a,this.aa),this.dispatchEvent(new Im(this.la())))},e.la=function(){return this.aa},e.fd=function(){var t=f.navigator;this.xa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},e.gd=function(t,i){if(!this.R){if(!/^https?:\/\//.test(t))throw new T("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");i=i?!!i.disableWarnings:!1,pC(i),this.R={url:t,ec:i},this.settings.jb=!0,Ma(this.a,this.R),this.dispatchEvent(new Tm(this.R))}};function pC(t){typeof console!="undefined"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),f.document&&!t&&da().then(function(){var i=f.document.createElement("div");i.innerText="Running in emulator mode. Do not use with production credentials.",i.style.position="fixed",i.style.width="100%",i.style.backgroundColor="#ffffff",i.style.border=".1em solid #000000",i.style.color="#b50000",i.style.bottom="0px",i.style.left="0px",i.style.margin="0px",i.style.zIndex=1e4,i.style.textAlign="center",i.classList.add("firebase-emulator-warning"),f.document.body.appendChild(i)})}e.Gc=function(t){this.J.push(t),sg(this.a,ue.SDK_VERSION?Ai(ue.SDK_VERSION,this.J):null),this.dispatchEvent(new Cm(this.J))},e.Ga=function(){return M(this.J)},e.zb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},e.T=function(){return this.S};function vC(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(i){this.xa(i)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(i){this.zb(i)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.R){var i=kt(this.R.url);i=In({protocol:i.c,host:i.a,port:i.g,options:In({disableWarnings:this.R.ec})})}else i=null;return i},enumerable:!1})}e.toJSON=function(){return{apiKey:Le(this).options.apiKey,authDomain:Le(this).options.authDomain,appName:Le(this).name,currentUser:de(this)&&de(this).w()}};function Rf(t){return t.Oa||Ge(new T("auth-domain-config-required"))}function gC(t){var i=Le(t).options.authDomain,a=Le(t).options.apiKey;i&&Dr()&&(t.Oa=t.$.then(function(){if(!t.l){if(t.b=rf(i,a,Le(t).name,t.R),Ga(t.b,t),de(t)&&ts(de(t)),t.m){ts(t.m);var c=t.m;c.xa(t.la()),vf(c,t),c=t.m,es(c,t.J),mf(c,t),c=t.m,pf(c,t.R),gf(c,t),t.m=null}return t.b}}))}e.Gb=function(t,i){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==i&&!!this.f;default:return!1}},e.na=function(t,i,a,c){t=="signInViaPopup"&&this.g==c&&(a&&this.C?this.C(a):i&&!a&&this.f&&this.f(i),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(t,i){return t=="signInViaRedirect"||t=="signInViaPopup"&&this.g==i&&this.f?G(this.ic,this):null},e.ic=function(t,i,a,c){var d=this,g={requestUri:t,postBody:c,sessionId:i,tenantId:a};return this.c&&(this.c.cancel(),this.c=null),d.$.then(function(){return qr(d,Pc(d.a,g))})},e.Xc=function(t){if(!Dr())return Ge(new T("operation-not-supported-in-this-environment"));var i=this,a=oc(t.providerId),c=Lr(),d=null;(!Oo()||Wl())&&Le(this).options.authDomain&&t.isOAuthProvider&&(d=Yo(Le(this).options.authDomain,Le(this).options.apiKey,Le(this).name,"signInViaPopup",t,null,c,ue.SDK_VERSION||null,null,null,this.T(),this.R));var g=iv(d,a&&a.va,a&&a.ua);return a=Rf(this).then(function(m){return Yg(m,g,"signInViaPopup",t,c,!!d,i.T())}).then(function(){return new me(function(m,b){i.na("signInViaPopup",null,new T("cancelled-popup-request"),i.g),i.f=m,i.C=b,i.g=c,i.c=Xg(i.b,i,"signInViaPopup",g,c)})}).then(function(m){return g&&xr(g),m?In(m):null}).o(function(m){throw g&&xr(g),m}),Xe(this,a)},e.Yc=function(t){if(!Dr())return Ge(new T("operation-not-supported-in-this-environment"));var i=this,a=Rf(this).then(function(){return dC(i.i)}).then(function(){return Qg(i.b,"signInViaRedirect",t,void 0,i.T())});return Xe(this,a)};function Sm(t){if(!Dr())return Ge(new T("operation-not-supported-in-this-environment"));var i=Rf(t).then(function(){return t.b.ra()}).then(function(a){return a?In(a):null});return Xe(t,i)}e.ra=function(){var t=this;return Sm(this).then(function(i){return t.b&&qa(t.b.b),i}).o(function(i){throw t.b&&qa(t.b.b),i})},e.dd=function(t){if(!t)return Ge(new T("null-user"));if(this.S!=t.tenantId)return Ge(new T("tenant-id-mismatch"));var i=this,a={};a.apiKey=Le(this).options.apiKey,a.authDomain=Le(this).options.authDomain,a.appName=Le(this).name;var c=lC(t,a,i.D,i.Ga());return Xe(this,this.h.then(function(){if(Le(i).options.apiKey!=t.l)return c.reload()}).then(function(){return de(i)&&t.uid==de(i).uid?(Ya(de(i),t),i.da(t)):(Ui(i,c),ts(c),i.da(c))}).then(function(){rs(i)}))};function mC(t,i){var a={};return a.apiKey=Le(t).options.apiKey,a.authDomain=Le(t).options.authDomain,a.appName=Le(t).name,t.R&&(a.emulatorConfig=t.R),t.$.then(function(){return uC(a,i,t.D,t.Ga())}).then(function(c){return de(t)&&c.uid==de(t).uid?(Ya(de(t),c),t.da(c)):(Ui(t,c),ts(c),t.da(c))}).then(function(){rs(t)})}function Ui(t,i){de(t)&&(iC(de(t),t.Ba),Ut(de(t),"tokenChanged",t.qa),Ut(de(t),"userDeleted",t.za),Ut(de(t),"userInvalidated",t.Aa),_f(de(t))),i&&(i.W.push(t.Ba),$t(i,"tokenChanged",t.qa),$t(i,"userDeleted",t.za),$t(i,"userInvalidated",t.Aa),0<t.u&&cm(i)),$(t,"currentUser",i),i&&(i.xa(t.la()),vf(i,t),es(i,t.J),mf(i,t),pf(i,t.R),gf(i,t))}e.Bb=function(){var t=this,i=this.h.then(function(){return t.b&&qa(t.b.b),de(t)?(Ui(t,null),bm(t.i).then(function(){rs(t)})):te()});return Xe(this,i)};function yC(t){var i=fC(t.D,Le(t).options.authDomain).then(function(a){return(t.m=a)&&(a.ha=t.D),_m(t.D)});return Xe(t,i)}function _C(t){var i=Le(t).options.authDomain,a=yC(t).then(function(){return Em(t.i,i,t.R)}).then(function(c){return c?(c.ha=t.D,t.m&&(t.m.ga||null)==(c.ga||null)?c:c.reload().then(function(){return wm(t.i,c).then(function(){return c})}).o(function(d){return d.code=="auth/network-request-failed"?c:bm(t.i)})):null}).then(function(c){Ui(t,c||null)});return Xe(t,a)}function wC(t){return t.$.then(function(){return Sm(t)}).o(function(){}).then(function(){if(!t.l)return t.ja()}).o(function(){}).then(function(){if(!t.l){t.ba=!0;var i=t.i;i.b.addListener(Sn("local"),i.a,t.ja)}})}e.Zc=function(){var t=this;return Em(this.i,Le(this).options.authDomain).then(function(i){if(!t.l){var a;if(a=de(t)&&i){a=de(t).uid;var c=i.uid;a=a==null||a===""||c===void 0||c===null||c===""?!1:a==c}if(a)return Ya(de(t),i),de(t).I();(de(t)||i)&&(Ui(t,i),i&&(ts(i),i.ha=t.D),t.b&&Ga(t.b,t),rs(t))}})},e.da=function(t){return wm(this.i,t)},e.mc=function(){rs(this),this.da(de(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()};function qr(t,i){var a=null,c=null;return Xe(t,i.then(function(d){return a=fc(d),c=kv(d),mC(t,d)},function(d){var g=null;throw d&&d.code==="auth/multi-factor-auth-required"&&(g=om(d.w(),t,G(t.kc,t))),g||d}).then(function(){return In({user:de(t),credential:a,additionalUserInfo:c,operationType:"signIn"})}))}e.kc=function(t){var i=this;return this.h.then(function(){return qr(i,te(t))})},e.zc=function(t){var i=this;this.addAuthTokenListener(function(){t.next(de(i))})},e.Ac=function(t){var i=this;bC(this,function(){t.next(de(i))})},e.Ic=function(t,i,a){var c=this;return this.ba&&Promise.resolve().then(function(){typeof t=="function"?t(de(c)):typeof t.next=="function"&&t.next(de(c))}),this.Pa(t,i,a)},e.Hc=function(t,i,a){var c=this;return this.ba&&Promise.resolve().then(function(){c.W=c.getUid(),typeof t=="function"?t(de(c)):typeof t.next=="function"&&t.next(de(c))}),this.ib(t,i,a)},e.nc=function(t){var i=this,a=this.h.then(function(){return de(i)?de(i).I(t).then(function(c){return{accessToken:c}}):null});return Xe(this,a)},e.Tc=function(t){var i=this;return this.h.then(function(){return qr(i,ye(i.a,tT,{token:t}))}).then(function(a){var c=a.user;return ir(c,"isAnonymous",!1),i.da(c),a})},e.Uc=function(t,i){var a=this;return this.h.then(function(){return qr(a,ye(a.a,vg,{email:t,password:i}))})},e.dc=function(t,i){var a=this;return this.h.then(function(){return qr(a,ye(a.a,OI,{email:t,password:i}))})},e.ab=function(t){var i=this;return this.h.then(function(){return qr(i,t.ka(i.a))})},e.Sc=function(t){return ql("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(t)},e.Ab=function(){var t=this;return this.h.then(function(){var i=de(t);if(i&&i.isAnonymous){var a=In({providerId:null,isNewUser:!1});return In({user:i,credential:null,additionalUserInfo:a,operationType:"signIn"})}return qr(t,t.a.Ab()).then(function(c){var d=c.user;return ir(d,"isAnonymous",!0),t.da(d),c})})};function Le(t){return t.app}function de(t){return t.currentUser}e.getUid=function(){return de(this)&&de(this).uid||null};function Xa(t){return de(t)&&de(t)._lat||null}function rs(t){if(t.ba){for(var i=0;i<t.s.length;i++)t.s[i]&&t.s[i](Xa(t));if(t.W!==t.getUid()&&t.N.length)for(t.W=t.getUid(),i=0;i<t.N.length;i++)t.N[i]&&t.N[i](Xa(t))}}e.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&de(this)&&cm(de(this))},e.Pc=function(t){var i=this;W(this.s,function(a){a==t&&i.u--}),0>this.u&&(this.u=0),this.u==0&&de(this)&&_f(de(this)),this.removeAuthTokenListener(t)},e.addAuthTokenListener=function(t){var i=this;this.s.push(t),Xe(this,this.h.then(function(){i.l||I(i.s,t)&&t(Xa(i))}))},e.removeAuthTokenListener=function(t){P(this.s,function(i){return i==t})};function bC(t,i){t.N.push(i),Xe(t,t.h.then(function(){!t.l&&I(t.N,i)&&t.W!==t.getUid()&&(t.W=t.getUid(),i(Xa(t)))}))}e.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i,t.b.removeListener(Sn("local"),t.a,this.ja)),this.b&&(ef(this.b,this),qa(this.b.b)),Promise.resolve()};function Xe(t,i){return t.P.push(i),i.oa(function(){A(t.P,i)}),i}e.hc=function(t){return Xe(this,II(this.a,t))},e.Bc=function(t){return!!cc(t)},e.xb=function(t,i){var a=this;return Xe(this,te().then(function(){var c=new ga(i);if(!c.c)throw new T("argument-error",rc+" must be true when sending sign in link to email");return ma(c)}).then(function(c){return a.a.xb(t,c)}).then(function(){}))},e.jd=function(t){return this.Sa(t).then(function(i){return i.data.email})},e.ob=function(t,i){return Xe(this,this.a.ob(t,i).then(function(){}))},e.Sa=function(t){return Xe(this,this.a.Sa(t).then(function(i){return new D0(i)}))},e.kb=function(t){return Xe(this,this.a.kb(t).then(function(){}))},e.wb=function(t,i){var a=this;return Xe(this,te().then(function(){return typeof i=="undefined"||jt(i)?{}:ma(new ga(i))}).then(function(c){return a.a.wb(t,c)}).then(function(){}))},e.Wc=function(t,i){return Xe(this,sf(this,t,i,G(this.ab,this)))},e.Vc=function(t,i){var a=this;return Xe(this,te().then(function(){var c=i||Po(),d=Wv(t,c);if(c=cc(c),!c)throw new T("argument-error","Invalid email link!");if(c.tenantId!==a.T())throw new T("tenant-id-mismatch");return a.ab(d)}))};function is(){}is.prototype.render=function(){},is.prototype.reset=function(){},is.prototype.getResponse=function(){},is.prototype.execute=function(){};function Vi(){this.a={},this.b=1e12}var kf=null;Vi.prototype.render=function(t,i){return this.a[this.b.toString()]=new Ja(t,i),this.b++},Vi.prototype.reset=function(t){var i=Pf(this,t);t=Am(t),i&&t&&(i.delete(),delete this.a[t])},Vi.prototype.getResponse=function(t){return(t=Pf(this,t))?t.getResponse():null},Vi.prototype.execute=function(t){(t=Pf(this,t))&&t.execute()};function Pf(t,i){return(i=Am(i))&&t.a[i]||null}function Am(t){return(t=typeof t=="undefined"?1e12:t)?t.toString():null}function Ja(t,i){this.g=!1,this.c=i,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=To(t);var a=this;this.i=function(){a.execute()},this.h?this.execute():$t(this.f,"click",this.i)}Ja.prototype.getResponse=function(){return Of(this),this.b},Ja.prototype.execute=function(){Of(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=N0();var i=t.c.callback,a=t.c["expired-callback"];if(i)try{i(t.b)}catch{}t.a=setTimeout(function(){if(t.a=null,t.b=null,a)try{a()}catch{}t.h&&t.execute()},6e4)},500))},Ja.prototype.delete=function(){Of(this),this.g=!0,clearTimeout(this.a),this.a=null,Ut(this.f,"click",this.i)};function Of(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function xf(){}$(xf,"FACTOR_ID","phone");function Df(){}Df.prototype.g=function(){return kf||(kf=new Vi),te(kf)},Df.prototype.c=function(){};var Lf=null;function Mf(){this.b=f.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var EC=new wn(ea,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),IC=new tr(3e4,6e4);Mf.prototype.g=function(t){var i=this;return new me(function(a,c){var d=setTimeout(function(){c(new T("network-request-failed"))},IC.get());if(!f.grecaptcha||t!==i.f&&!i.b){f[i.a]=function(){if(f.grecaptcha){i.f=t;var m=f.grecaptcha.render;f.grecaptcha.render=function(b,N){return b=m(b,N),i.b++,b},clearTimeout(d),a(f.grecaptcha)}else clearTimeout(d),c(new T("internal-error"));delete f[i.a]};var g=gl(EC,{onload:i.a,hl:t||""});te(Tc(g)).o(function(){clearTimeout(d),c(new T("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(d),a(f.grecaptcha)})},Mf.prototype.c=function(){this.b--};var Ff=null;function jf(t,i,a,c,d,g,m){if($(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=i,this.g=null,m?(Lf||(Lf=new Df),m=Lf):(Ff||(Ff=new Mf),m=Ff),this.m=m,this.a=a||{theme:"light",type:"image"},this.h=[],this.a[km])throw new T("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[TC]==="invisible",!f.document)throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!To(i)||!this.i&&To(i).hasChildNodes())throw new T("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new cn(t,g||null,d||null),this.u=c||function(){return null};var b=this;this.l=[];var N=this.a[Nm];this.a[Nm]=function(oe){if(Pm(b,oe),typeof N=="function")N(oe);else if(typeof N=="string"){var ke=Ke(N,f);typeof ke=="function"&&ke(oe)}};var D=this.a[Rm];this.a[Rm]=function(){if(Pm(b,null),typeof D=="function")D();else if(typeof D=="string"){var oe=Ke(D,f);typeof oe=="function"&&oe()}}}var Nm="callback",Rm="expired-callback",km="sitekey",TC="size";function Pm(t,i){for(var a=0;a<t.l.length;a++)try{t.l[a](i)}catch{}}function CC(t,i){P(t.l,function(a){return a==i})}function Uf(t,i){return t.h.push(i),i.oa(function(){A(t.h,i)}),i}e=jf.prototype,e.Ia=function(){var t=this;return this.f?this.f:this.f=Uf(this,te().then(function(){if(pa()&&!un())return da();throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.m.g(t.u())}).then(function(i){return t.g=i,ye(t.s,qI,{})}).then(function(i){t.a[km]=i.recaptchaSiteKey}).o(function(i){throw t.f=null,i}))},e.render=function(){Za(this);var t=this;return Uf(this,this.Ia().then(function(){if(t.c===null){var i=t.v;if(!t.i){var a=To(i);i=QE("DIV"),a.appendChild(i)}t.c=t.g.render(i,t.a)}return t.c}))},e.verify=function(){Za(this);var t=this;return Uf(this,this.render().then(function(i){return new me(function(a){var c=t.g.getResponse(i);if(c)a(c);else{var d=function(g){g&&(CC(t,d),a(g))};t.l.push(d),t.i&&t.g.execute(t.c)}})}))},e.reset=function(){Za(this),this.c!==null&&this.g.reset(this.c)};function Za(t){if(t.J)throw new T("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){Za(this),this.J=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=To(this.v);for(var i;i=t.firstChild;)t.removeChild(i)}};function Vf(t,i,a){var c=!1;try{this.b=a||ue.app()}catch{throw new T("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)a=this.b.options.apiKey;else throw new T("invalid-api-key");var d=this,g=null;try{g=this.b.auth().Ga()}catch{}try{c=this.b.auth().settings.appVerificationDisabledForTesting}catch{}g=ue.SDK_VERSION?Ai(ue.SDK_VERSION,g):null,jf.call(this,a,t,i,function(){try{var m=d.b.auth().la()}catch{m=null}return m},g,_t(Pe),c)}q(Vf,jf);function Om(t,i,a,c){e:{a=Array.prototype.slice.call(a);for(var d=0,g=!1,m=0;m<i.length;m++)if(i[m].optional)g=!0;else{if(g)throw new T("internal-error","Argument validator encountered a required argument after an optional argument.");d++}if(g=i.length,a.length<d||g<a.length)c="Expected "+(d==g?d==1?"1 argument":d+" arguments":d+"-"+g+" arguments")+" but got "+a.length+".";else{for(d=0;d<a.length;d++)if(g=i[d].optional&&a[d]===void 0,!i[d].M(a[d])&&!g){if(i=i[d],0>d||d>=xm.length)throw new T("internal-error","Argument validator received an unsupported number of arguments.");a=xm[d],c=(c?"":a+" argument ")+(i.name?'"'+i.name+'" ':"")+"must be "+i.K+".";break e}c=null}}if(c)throw new T("argument-error",t+" failed: "+c)}var xm="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function K(t,i){return{name:t||"",K:"a valid string",optional:!!i,M:function(a){return typeof a=="string"}}}function Bf(t,i){return{name:t||"",K:"a boolean",optional:!!i,M:function(a){return typeof a=="boolean"}}}function nt(t,i){return{name:t||"",K:"a valid object",optional:!!i,M:S}}function Bi(t,i){return{name:t||"",K:"a function",optional:!!i,M:function(a){return typeof a=="function"}}}function An(t,i){return{name:t||"",K:"null",optional:!!i,M:function(a){return a===null}}}function SC(){return{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}}}function AC(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof hn)}}}function NC(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof ue.app.App)}}}function or(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(i){if(!i)return!1;var a=!t||i.providerId===t;return!(!i.ka||!a)}}}function Dm(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return t?!!t.tb:!1}}}function Wi(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}}function Wf(t,i){return S(t)&&typeof t.type=="string"&&t.type===i&&typeof t.Ha=="function"}function Lm(t){return S(t)&&typeof t.uid=="string"}function eu(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||typeof t.type!="string"||typeof t.verify!="function")}}}function et(t,i,a,c){return{name:a||"",K:t.K+" or "+i.K,optional:!!c,M:function(d){return t.M(d)||i.M(d)}}}function ze(t,i){for(var a in i){var c=i[a].name;t[c]=Fm(c,t[a],i[a].j)}}function Mm(t,i){for(var a in i){var c=i[a].name;c!==a&&Object.defineProperty(t,c,{get:ae(function(d){return this[d]},a),set:ae(function(d,g,m,b){Om(d,[m],[b],!0),this[g]=b},c,a,i[a].lb),enumerable:!0})}}function tt(t,i,a,c){t[i]=Fm(i,a,c)}function Fm(t,i,a){function c(){var m=Array.prototype.slice.call(arguments);return Om(d,a,m),i.apply(this,m)}if(!a)return i;var d=RC(t),g;for(g in i)c[g]=i[g];for(g in i.prototype)c.prototype[g]=i.prototype[g];return c}function RC(t){return t=t.split("."),t[t.length-1]}ze(hn.prototype,{kb:{name:"applyActionCode",j:[K("code")]},Sa:{name:"checkActionCode",j:[K("code")]},ob:{name:"confirmPasswordReset",j:[K("code"),K("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[K("email"),K("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[K("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[K("emailLink")]},Hc:{name:"onAuthStateChanged",j:[et(nt(),Bi(),"nextOrObserver"),Bi("opt_error",!0),Bi("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[et(nt(),Bi(),"nextOrObserver"),Bi("opt_error",!0),Bi("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[K("email"),et(nt("opt_actionCodeSettings",!0),An(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[K("email"),nt("actionCodeSettings")]},yb:{name:"setPersistence",j:[K("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[or()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[or()]},Tc:{name:"signInWithCustomToken",j:[K("token")]},Uc:{name:"signInWithEmailAndPassword",j:[K("email"),K("password")]},Vc:{name:"signInWithEmailLink",j:[K("email"),K("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[K("phoneNumber"),eu()]},Xc:{name:"signInWithPopup",j:[Wi()]},Yc:{name:"signInWithRedirect",j:[Wi()]},dd:{name:"updateCurrentUser",j:[et(function(t){return{name:"user",K:"an instance of Firebase User",optional:!!t,M:function(i){return!!(i&&i instanceof Bt)}}}(),An(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[K(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[K("url"),nt("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[K("code")]}}),Mm(hn.prototype,{lc:{name:"languageCode",lb:et(K(),An(),"languageCode")},ti:{name:"tenantId",lb:et(K(),An(),"tenantId")}}),hn.Persistence=Di,hn.Persistence.LOCAL="local",hn.Persistence.SESSION="session",hn.Persistence.NONE="none",ze(Bt.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Bf("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Bf("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[or()]},rb:{name:"linkWithCredential",j:[or()]},Dc:{name:"linkWithPhoneNumber",j:[K("phoneNumber"),eu()]},Ec:{name:"linkWithPopup",j:[Wi()]},Fc:{name:"linkWithRedirect",j:[Wi()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[or()]},ub:{name:"reauthenticateWithCredential",j:[or()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[K("phoneNumber"),eu()]},Nc:{name:"reauthenticateWithPopup",j:[Wi()]},Oc:{name:"reauthenticateWithRedirect",j:[Wi()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[et(nt("opt_actionCodeSettings",!0),An(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[K(null,!0)]},cd:{name:"unlink",j:[K("provider")]},Cb:{name:"updateEmail",j:[K("email")]},Db:{name:"updatePassword",j:[K("password")]},ed:{name:"updatePhoneNumber",j:[or("phone")]},Eb:{name:"updateProfile",j:[nt("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[K("email"),et(nt("opt_actionCodeSettings",!0),An(null,!0),"opt_actionCodeSettings",!0)]}}),ze(Vi.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),ze(is.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),ze(me.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Mm(nm.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Bf("appVerificationDisabledForTesting")}}),ze(of.prototype,{confirm:{name:"confirm",j:[K("verificationCode")]}}),tt(ki,"fromJSON",function(t){t=typeof t=="string"?JSON.parse(t):t;for(var i,a=[J0,Z0,eI,X0],c=0;c<a.length;c++)if(i=a[c](t))return i;return null},[et(K(),nt(),"json")]),tt(Qt,"credential",function(t,i){return new nr(t,i)},[K("email"),K("password")]),ze(nr.prototype,{w:{name:"toJSON",j:[K(null,!0)]}}),ze(jr.prototype,{Ca:{name:"addScope",j:[K("scope")]},Ka:{name:"setCustomParameters",j:[nt("customOAuthParameters")]}}),tt(jr,"credential",jv,[et(K(),nt(),"token")]),tt(Qt,"credentialWithLink",Wv,[K("email"),K("emailLink")]),ze(Ur.prototype,{Ca:{name:"addScope",j:[K("scope")]},Ka:{name:"setCustomParameters",j:[nt("customOAuthParameters")]}}),tt(Ur,"credential",Uv,[et(K(),nt(),"token")]),ze(Vr.prototype,{Ca:{name:"addScope",j:[K("scope")]},Ka:{name:"setCustomParameters",j:[nt("customOAuthParameters")]}}),tt(Vr,"credential",Vv,[et(K(),et(nt(),An()),"idToken"),et(K(),An(),"accessToken",!0)]),ze(Oi.prototype,{Ka:{name:"setCustomParameters",j:[nt("customOAuthParameters")]}}),tt(Oi,"credential",Bv,[et(K(),nt(),"token"),K("secret",!0)]),ze(Vt.prototype,{Ca:{name:"addScope",j:[K("scope")]},credential:{name:"credential",j:[et(K(),et(nt(),An()),"optionsOrIdToken"),et(K(),An(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[nt("customOAuthParameters")]}}),ze(Vn.prototype,{w:{name:"toJSON",j:[K(null,!0)]}}),ze(Mr.prototype,{w:{name:"toJSON",j:[K(null,!0)]}}),tt(Bn,"credential",Hv,[K("verificationId"),K("verificationCode")]),ze(Bn.prototype,{gb:{name:"verifyPhoneNumber",j:[et(K(),function(t,i){return{name:t||"phoneInfoOptions",K:"valid phone info options",optional:!!i,M:function(a){return a?a.session&&a.phoneNumber?Wf(a.session,jo)&&typeof a.phoneNumber=="string":a.session&&a.multiFactorHint?Wf(a.session,Ea)&&Lm(a.multiFactorHint):a.session&&a.multiFactorUid?Wf(a.session,Ea)&&typeof a.multiFactorUid=="string":a.phoneNumber?typeof a.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),eu()]}}),ze(rr.prototype,{w:{name:"toJSON",j:[K(null,!0)]}}),ze(T.prototype,{toJSON:{name:"toJSON",j:[K(null,!0)]}}),ze(Vo.prototype,{toJSON:{name:"toJSON",j:[K(null,!0)]}}),ze(pc.prototype,{toJSON:{name:"toJSON",j:[K(null,!0)]}}),ze(uf.prototype,{toJSON:{name:"toJSON",j:[K(null,!0)]}}),ze(af.prototype,{Rc:{name:"resolveSignIn",j:[Dm()]}}),ze(cf.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[Dm(),K("displayName",!0)]},bd:{name:"unenroll",j:[et({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Lm},K(),"multiFactorInfoIdentifier")]}}),ze(Vf.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),tt(nc,"parseLink",wv,[K("link")]),tt(xf,"assertion",function(t){return new am(t)},[or("phone")]),function(){if(typeof ue!="undefined"&&ue.INTERNAL&&ue.INTERNAL.registerComponent){var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:va,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:tc,VERIFY_AND_CHANGE_EMAIL:Mo,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:hn,AuthCredential:ki,Error:T};tt(t,"EmailAuthProvider",Qt,[]),tt(t,"FacebookAuthProvider",jr,[]),tt(t,"GithubAuthProvider",Ur,[]),tt(t,"GoogleAuthProvider",Vr,[]),tt(t,"TwitterAuthProvider",Oi,[]),tt(t,"OAuthProvider",Vt,[K("providerId")]),tt(t,"SAMLAuthProvider",Fv,[K("providerId")]),tt(t,"PhoneAuthProvider",Bn,[AC()]),tt(t,"RecaptchaVerifier",Vf,[et(K(),SC(),"recaptchaContainer"),nt("recaptchaParameters",!0),NC()]),tt(t,"ActionCodeURL",nc,[]),tt(t,"PhoneMultiFactorGenerator",xf,[]),ue.INTERNAL.registerComponent({name:"auth",instanceFactory:function(i){return i=i.getProvider("app").getImmediate(),new hn(i)},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(i){i.getProvider("auth-internal").initialize()}}),ue.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(i){return i=i.getProvider("auth").getImmediate(),{getUid:G(i.getUid,i),getToken:G(i.nc,i),addAuthTokenListener:G(i.cc,i),removeAuthTokenListener:G(i.Pc,i)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),ue.registerVersion("@firebase/auth","0.16.8"),ue.INTERNAL.extendNamespace({User:Bt})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{});/*!
  * vue-router v4.0.12
  * (c) 2021 Eduardo San Martin Morote
  * @license MIT
  */const Zw=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",go=e=>Zw?Symbol(e):"_vr_"+e,ZN=go("rvlm"),Ty=go("rvd"),bd=go("r"),eb=go("rl"),Ih=go("rvl"),$i=typeof window!="undefined";function eR(e){return e.__esModule||Zw&&e[Symbol.toStringTag]==="Module"}const Me=Object.assign;function Qf(e,n){const r={};for(const o in n){const s=n[o];r[o]=Array.isArray(s)?s.map(e):e(s)}return r}const ms=()=>{},tR=/\/$/,nR=e=>e.replace(tR,"");function Xf(e,n,r="/"){let o,s={},u="",l="";const h=n.indexOf("?"),f=n.indexOf("#",h>-1?h:0);return h>-1&&(o=n.slice(0,h),u=n.slice(h+1,f>-1?f:n.length),s=e(u)),f>-1&&(o=o||n.slice(0,f),l=n.slice(f,n.length)),o=sR(o!=null?o:n,r),{fullPath:o+(u&&"?")+u+l,path:o,query:s,hash:l}}function rR(e,n){const r=n.query?e(n.query):"";return n.path+(r&&"?")+r+(n.hash||"")}function Cy(e,n){return!n||!e.toLowerCase().startsWith(n.toLowerCase())?e:e.slice(n.length)||"/"}function iR(e,n,r){const o=n.matched.length-1,s=r.matched.length-1;return o>-1&&o===s&&ro(n.matched[o],r.matched[s])&&tb(n.params,r.params)&&e(n.query)===e(r.query)&&n.hash===r.hash}function ro(e,n){return(e.aliasOf||e)===(n.aliasOf||n)}function tb(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(!oR(e[r],n[r]))return!1;return!0}function oR(e,n){return Array.isArray(e)?Sy(e,n):Array.isArray(n)?Sy(n,e):e===n}function Sy(e,n){return Array.isArray(n)?e.length===n.length&&e.every((r,o)=>r===n[o]):e.length===1&&e[0]===n}function sR(e,n){if(e.startsWith("/"))return e;if(!e)return n;const r=n.split("/"),o=e.split("/");let s=r.length-1,u,l;for(u=0;u<o.length;u++)if(l=o[u],!(s===1||l==="."))if(l==="..")s--;else break;return r.slice(0,s).join("/")+"/"+o.slice(u-(u===o.length?1:0)).join("/")}var Ms;(function(e){e.pop="pop",e.push="push"})(Ms||(Ms={}));var ys;(function(e){e.back="back",e.forward="forward",e.unknown=""})(ys||(ys={}));function aR(e){if(!e)if($i){const n=document.querySelector("base");e=n&&n.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),nR(e)}const uR=/^[^#]+#/;function lR(e,n){return e.replace(uR,"#")+n}function cR(e,n){const r=document.documentElement.getBoundingClientRect(),o=e.getBoundingClientRect();return{behavior:n.behavior,left:o.left-r.left-(n.left||0),top:o.top-r.top-(n.top||0)}}const Yu=()=>({left:window.pageXOffset,top:window.pageYOffset});function fR(e){let n;if("el"in e){const r=e.el,o=typeof r=="string"&&r.startsWith("#"),s=typeof r=="string"?o?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!s)return;n=cR(s,e)}else n=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(n):window.scrollTo(n.left!=null?n.left:window.pageXOffset,n.top!=null?n.top:window.pageYOffset)}function Ay(e,n){return(history.state?history.state.position-n:-1)+e}const Th=new Map;function hR(e,n){Th.set(e,n)}function dR(e){const n=Th.get(e);return Th.delete(e),n}let pR=()=>location.protocol+"//"+location.host;function nb(e,n){const{pathname:r,search:o,hash:s}=n,u=e.indexOf("#");if(u>-1){let h=s.includes(e.slice(u))?e.slice(u).length:1,f=s.slice(h);return f[0]!=="/"&&(f="/"+f),Cy(f,"")}return Cy(r,e)+o+s}function vR(e,n,r,o){let s=[],u=[],l=null;const h=({state:_})=>{const w=nb(e,location),C=r.value,R=n.value;let S=0;if(_){if(r.value=w,n.value=_,l&&l===C){l=null;return}S=R?_.position-R.position:0}else o(w);s.forEach(k=>{k(r.value,C,{delta:S,type:Ms.pop,direction:S?S>0?ys.forward:ys.back:ys.unknown})})};function f(){l=r.value}function p(_){s.push(_);const w=()=>{const C=s.indexOf(_);C>-1&&s.splice(C,1)};return u.push(w),w}function v(){const{history:_}=window;!_.state||_.replaceState(Me({},_.state,{scroll:Yu()}),"")}function y(){for(const _ of u)_();u=[],window.removeEventListener("popstate",h),window.removeEventListener("beforeunload",v)}return window.addEventListener("popstate",h),window.addEventListener("beforeunload",v),{pauseListeners:f,listen:p,destroy:y}}function Ny(e,n,r,o=!1,s=!1){return{back:e,current:n,forward:r,replaced:o,position:window.history.length,scroll:s?Yu():null}}function gR(e){const{history:n,location:r}=window,o={value:nb(e,r)},s={value:n.state};s.value||u(o.value,{back:null,current:o.value,forward:null,position:n.length-1,replaced:!0,scroll:null},!0);function u(f,p,v){const y=e.indexOf("#"),_=y>-1?(r.host&&document.querySelector("base")?e:e.slice(y))+f:pR()+e+f;try{n[v?"replaceState":"pushState"](p,"",_),s.value=p}catch(w){console.error(w),r[v?"replace":"assign"](_)}}function l(f,p){const v=Me({},n.state,Ny(s.value.back,f,s.value.forward,!0),p,{position:s.value.position});u(f,v,!0),o.value=f}function h(f,p){const v=Me({},s.value,n.state,{forward:f,scroll:Yu()});u(v.current,v,!0);const y=Me({},Ny(o.value,f,null),{position:v.position+1},p);u(f,y,!1),o.value=f}return{location:o,state:s,push:h,replace:l}}function mR(e){e=aR(e);const n=gR(e),r=vR(e,n.state,n.location,n.replace);function o(u,l=!0){l||r.pauseListeners(),history.go(u)}const s=Me({location:"",base:e,go:o,createHref:lR.bind(null,e)},n,r);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>n.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>n.state.value}),s}function L1(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),mR(e)}function yR(e){return typeof e=="string"||e&&typeof e=="object"}function rb(e){return typeof e=="string"||typeof e=="symbol"}const lr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},ib=go("nf");var Ry;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Ry||(Ry={}));function io(e,n){return Me(new Error,{type:e,[ib]:!0},n)}function Xr(e,n){return e instanceof Error&&ib in e&&(n==null||!!(e.type&n))}const ky="[^/]+?",_R={sensitive:!1,strict:!1,start:!0,end:!0},wR=/[.+*?^${}()[\]/\\]/g;function bR(e,n){const r=Me({},_R,n),o=[];let s=r.start?"^":"";const u=[];for(const p of e){const v=p.length?[]:[90];r.strict&&!p.length&&(s+="/");for(let y=0;y<p.length;y++){const _=p[y];let w=40+(r.sensitive?.25:0);if(_.type===0)y||(s+="/"),s+=_.value.replace(wR,"\\$&"),w+=40;else if(_.type===1){const{value:C,repeatable:R,optional:S,regexp:k}=_;u.push({name:C,repeatable:R,optional:S});const U=k||ky;if(U!==ky){w+=10;try{new RegExp(`(${U})`)}catch(se){throw new Error(`Invalid custom RegExp for param "${C}" (${U}): `+se.message)}}let J=R?`((?:${U})(?:/(?:${U}))*)`:`(${U})`;y||(J=S&&p.length<2?`(?:/${J})`:"/"+J),S&&(J+="?"),s+=J,w+=20,S&&(w+=-8),R&&(w+=-20),U===".*"&&(w+=-50)}v.push(w)}o.push(v)}if(r.strict&&r.end){const p=o.length-1;o[p][o[p].length-1]+=.7000000000000001}r.strict||(s+="/?"),r.end?s+="$":r.strict&&(s+="(?:/|$)");const l=new RegExp(s,r.sensitive?"":"i");function h(p){const v=p.match(l),y={};if(!v)return null;for(let _=1;_<v.length;_++){const w=v[_]||"",C=u[_-1];y[C.name]=w&&C.repeatable?w.split("/"):w}return y}function f(p){let v="",y=!1;for(const _ of e){(!y||!v.endsWith("/"))&&(v+="/"),y=!1;for(const w of _)if(w.type===0)v+=w.value;else if(w.type===1){const{value:C,repeatable:R,optional:S}=w,k=C in p?p[C]:"";if(Array.isArray(k)&&!R)throw new Error(`Provided param "${C}" is an array but it is not repeatable (* or + modifiers)`);const U=Array.isArray(k)?k.join("/"):k;if(!U)if(S)_.length<2&&(v.endsWith("/")?v=v.slice(0,-1):y=!0);else throw new Error(`Missing required param "${C}"`);v+=U}}return v}return{re:l,score:o,keys:u,parse:h,stringify:f}}function ER(e,n){let r=0;for(;r<e.length&&r<n.length;){const o=n[r]-e[r];if(o)return o;r++}return e.length<n.length?e.length===1&&e[0]===40+40?-1:1:e.length>n.length?n.length===1&&n[0]===40+40?1:-1:0}function IR(e,n){let r=0;const o=e.score,s=n.score;for(;r<o.length&&r<s.length;){const u=ER(o[r],s[r]);if(u)return u;r++}return s.length-o.length}const TR={type:0,value:""},CR=/[a-zA-Z0-9_]/;function SR(e){if(!e)return[[]];if(e==="/")return[[TR]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function n(w){throw new Error(`ERR (${r})/"${p}": ${w}`)}let r=0,o=r;const s=[];let u;function l(){u&&s.push(u),u=[]}let h=0,f,p="",v="";function y(){!p||(r===0?u.push({type:0,value:p}):r===1||r===2||r===3?(u.length>1&&(f==="*"||f==="+")&&n(`A repeatable param (${p}) must be alone in its segment. eg: '/:ids+.`),u.push({type:1,value:p,regexp:v,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):n("Invalid state to consume buffer"),p="")}function _(){p+=f}for(;h<e.length;){if(f=e[h++],f==="\\"&&r!==2){o=r,r=4;continue}switch(r){case 0:f==="/"?(p&&y(),l()):f===":"?(y(),r=1):_();break;case 4:_(),r=o;break;case 1:f==="("?r=2:CR.test(f)?_():(y(),r=0,f!=="*"&&f!=="?"&&f!=="+"&&h--);break;case 2:f===")"?v[v.length-1]=="\\"?v=v.slice(0,-1)+f:r=3:v+=f;break;case 3:y(),r=0,f!=="*"&&f!=="?"&&f!=="+"&&h--,v="";break;default:n("Unknown state");break}}return r===2&&n(`Unfinished custom RegExp for param "${p}"`),y(),l(),s}function AR(e,n,r){const o=bR(SR(e.path),r),s=Me(o,{record:e,parent:n,children:[],alias:[]});return n&&!s.record.aliasOf==!n.record.aliasOf&&n.children.push(s),s}function NR(e,n){const r=[],o=new Map;n=Oy({strict:!1,end:!0,sensitive:!1},n);function s(v){return o.get(v)}function u(v,y,_){const w=!_,C=kR(v);C.aliasOf=_&&_.record;const R=Oy(n,v),S=[C];if("alias"in v){const J=typeof v.alias=="string"?[v.alias]:v.alias;for(const se of J)S.push(Me({},C,{components:_?_.record.components:C.components,path:se,aliasOf:_?_.record:C}))}let k,U;for(const J of S){const{path:se}=J;if(y&&se[0]!=="/"){const Ae=y.record.path,G=Ae[Ae.length-1]==="/"?"":"/";J.path=y.record.path+(se&&G+se)}if(k=AR(J,y,R),_?_.alias.push(k):(U=U||k,U!==k&&U.alias.push(k),w&&v.name&&!Py(k)&&l(v.name)),"children"in C){const Ae=C.children;for(let G=0;G<Ae.length;G++)u(Ae[G],k,_&&_.children[G])}_=_||k,f(k)}return U?()=>{l(U)}:ms}function l(v){if(rb(v)){const y=o.get(v);y&&(o.delete(v),r.splice(r.indexOf(y),1),y.children.forEach(l),y.alias.forEach(l))}else{const y=r.indexOf(v);y>-1&&(r.splice(y,1),v.record.name&&o.delete(v.record.name),v.children.forEach(l),v.alias.forEach(l))}}function h(){return r}function f(v){let y=0;for(;y<r.length&&IR(v,r[y])>=0;)y++;r.splice(y,0,v),v.record.name&&!Py(v)&&o.set(v.record.name,v)}function p(v,y){let _,w={},C,R;if("name"in v&&v.name){if(_=o.get(v.name),!_)throw io(1,{location:v});R=_.record.name,w=Me(RR(y.params,_.keys.filter(U=>!U.optional).map(U=>U.name)),v.params),C=_.stringify(w)}else if("path"in v)C=v.path,_=r.find(U=>U.re.test(C)),_&&(w=_.parse(C),R=_.record.name);else{if(_=y.name?o.get(y.name):r.find(U=>U.re.test(y.path)),!_)throw io(1,{location:v,currentLocation:y});R=_.record.name,w=Me({},y.params,v.params),C=_.stringify(w)}const S=[];let k=_;for(;k;)S.unshift(k.record),k=k.parent;return{name:R,path:C,params:w,matched:S,meta:OR(S)}}return e.forEach(v=>u(v)),{addRoute:u,resolve:p,removeRoute:l,getRoutes:h,getRecordMatcher:s}}function RR(e,n){const r={};for(const o of n)o in e&&(r[o]=e[o]);return r}function kR(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:PR(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}function PR(e){const n={},r=e.props||!1;if("component"in e)n.default=r;else for(const o in e.components)n[o]=typeof r=="boolean"?r:r[o];return n}function Py(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function OR(e){return e.reduce((n,r)=>Me(n,r.meta),{})}function Oy(e,n){const r={};for(const o in e)r[o]=o in n?n[o]:e[o];return r}const ob=/#/g,xR=/&/g,DR=/\//g,LR=/=/g,MR=/\?/g,sb=/\+/g,FR=/%5B/g,jR=/%5D/g,ab=/%5E/g,UR=/%60/g,ub=/%7B/g,VR=/%7C/g,lb=/%7D/g,BR=/%20/g;function Ed(e){return encodeURI(""+e).replace(VR,"|").replace(FR,"[").replace(jR,"]")}function WR(e){return Ed(e).replace(ub,"{").replace(lb,"}").replace(ab,"^")}function Ch(e){return Ed(e).replace(sb,"%2B").replace(BR,"+").replace(ob,"%23").replace(xR,"%26").replace(UR,"`").replace(ub,"{").replace(lb,"}").replace(ab,"^")}function HR(e){return Ch(e).replace(LR,"%3D")}function GR(e){return Ed(e).replace(ob,"%23").replace(MR,"%3F")}function KR(e){return e==null?"":GR(e).replace(DR,"%2F")}function Tu(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function qR(e){const n={};if(e===""||e==="?")return n;const o=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<o.length;++s){const u=o[s].replace(sb," "),l=u.indexOf("="),h=Tu(l<0?u:u.slice(0,l)),f=l<0?null:Tu(u.slice(l+1));if(h in n){let p=n[h];Array.isArray(p)||(p=n[h]=[p]),p.push(f)}else n[h]=f}return n}function xy(e){let n="";for(let r in e){const o=e[r];if(r=HR(r),o==null){o!==void 0&&(n+=(n.length?"&":"")+r);continue}(Array.isArray(o)?o.map(u=>u&&Ch(u)):[o&&Ch(o)]).forEach(u=>{u!==void 0&&(n+=(n.length?"&":"")+r,u!=null&&(n+="="+u))})}return n}function zR(e){const n={};for(const r in e){const o=e[r];o!==void 0&&(n[r]=Array.isArray(o)?o.map(s=>s==null?null:""+s):o==null?o:""+o)}return n}function ss(){let e=[];function n(o){return e.push(o),()=>{const s=e.indexOf(o);s>-1&&e.splice(s,1)}}function r(){e=[]}return{add:n,list:()=>e,reset:r}}function hr(e,n,r,o,s){const u=o&&(o.enterCallbacks[s]=o.enterCallbacks[s]||[]);return()=>new Promise((l,h)=>{const f=y=>{y===!1?h(io(4,{from:r,to:n})):y instanceof Error?h(y):yR(y)?h(io(2,{from:n,to:y})):(u&&o.enterCallbacks[s]===u&&typeof y=="function"&&u.push(y),l())},p=e.call(o&&o.instances[s],n,r,f);let v=Promise.resolve(p);e.length<3&&(v=v.then(f)),v.catch(y=>h(y))})}function Jf(e,n,r,o){const s=[];for(const u of e)for(const l in u.components){let h=u.components[l];if(!(n!=="beforeRouteEnter"&&!u.instances[l]))if($R(h)){const p=(h.__vccOpts||h)[n];p&&s.push(hr(p,r,o,u,l))}else{let f=h();s.push(()=>f.then(p=>{if(!p)return Promise.reject(new Error(`Couldn't resolve component "${l}" at "${u.path}"`));const v=eR(p)?p.default:p;u.components[l]=v;const _=(v.__vccOpts||v)[n];return _&&hr(_,r,o,u,l)()}))}}return s}function $R(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Dy(e){const n=mr(bd),r=mr(eb),o=kn(()=>n.resolve(ds(e.to))),s=kn(()=>{const{matched:f}=o.value,{length:p}=f,v=f[p-1],y=r.matched;if(!v||!y.length)return-1;const _=y.findIndex(ro.bind(null,v));if(_>-1)return _;const w=Ly(f[p-2]);return p>1&&Ly(v)===w&&y[y.length-1].path!==w?y.findIndex(ro.bind(null,f[p-2])):_}),u=kn(()=>s.value>-1&&JR(r.params,o.value.params)),l=kn(()=>s.value>-1&&s.value===r.matched.length-1&&tb(r.params,o.value.params));function h(f={}){return XR(f)?n[ds(e.replace)?"replace":"push"](ds(e.to)).catch(ms):Promise.resolve()}return{route:o,href:kn(()=>o.value.href),isActive:u,isExactActive:l,navigate:h}}const YR=ow({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Dy,setup(e,{slots:n}){const r=Hs(Dy(e)),{options:o}=mr(bd),s=kn(()=>({[My(e.activeClass,o.linkActiveClass,"router-link-active")]:r.isActive,[My(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const u=n.default&&n.default(r);return e.custom?u:gd("a",{"aria-current":r.isExactActive?e.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:s.value},u)}}}),QR=YR;function XR(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const n=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(n))return}return e.preventDefault&&e.preventDefault(),!0}}function JR(e,n){for(const r in n){const o=n[r],s=e[r];if(typeof o=="string"){if(o!==s)return!1}else if(!Array.isArray(s)||s.length!==o.length||o.some((u,l)=>u!==s[l]))return!1}return!0}function Ly(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const My=(e,n,r)=>e!=null?e:n!=null?n:r,ZR=ow({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(e,{attrs:n,slots:r}){const o=mr(Ih),s=kn(()=>e.route||o.value),u=mr(Ty,0),l=kn(()=>s.value.matched[u]);cu(Ty,u+1),cu(ZN,l),cu(Ih,s);const h=mS();return fu(()=>[h.value,l.value,e.name],([f,p,v],[y,_,w])=>{p&&(p.instances[v]=f,_&&_!==p&&f&&f===y&&(p.leaveGuards.size||(p.leaveGuards=_.leaveGuards),p.updateGuards.size||(p.updateGuards=_.updateGuards))),f&&p&&(!_||!ro(p,_)||!y)&&(p.enterCallbacks[v]||[]).forEach(C=>C(f))},{flush:"post"}),()=>{const f=s.value,p=l.value,v=p&&p.components[e.name],y=e.name;if(!v)return Fy(r.default,{Component:v,route:f});const _=p.props[e.name],w=_?_===!0?f.params:typeof _=="function"?_(f):_:null,R=gd(v,Me({},w,n,{onVnodeUnmounted:S=>{S.component.isUnmounted&&(p.instances[y]=null)},ref:h}));return Fy(r.default,{Component:R,route:f})||R}}});function Fy(e,n){if(!e)return null;const r=e(n);return r.length===1?r[0]:r}const ek=ZR;function M1(e){const n=NR(e.routes,e),r=e.parseQuery||qR,o=e.stringifyQuery||xy,s=e.history,u=ss(),l=ss(),h=ss(),f=yS(lr);let p=lr;$i&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const v=Qf.bind(null,O=>""+O),y=Qf.bind(null,KR),_=Qf.bind(null,Tu);function w(O,z){let B,W;return rb(O)?(B=n.getRecordMatcher(O),W=z):W=O,n.addRoute(W,B)}function C(O){const z=n.getRecordMatcher(O);z&&n.removeRoute(z)}function R(){return n.getRoutes().map(O=>O.record)}function S(O){return!!n.getRecordMatcher(O)}function k(O,z){if(z=Me({},z||f.value),typeof O=="string"){const fe=Xf(r,O,z.path),E=n.resolve({path:fe.path},z),I=s.createHref(fe.fullPath);return Me(fe,E,{params:_(E.params),hash:Tu(fe.hash),redirectedFrom:void 0,href:I})}let B;if("path"in O)B=Me({},O,{path:Xf(r,O.path,z.path).path});else{const fe=Me({},O.params);for(const E in fe)fe[E]==null&&delete fe[E];B=Me({},O,{params:y(O.params)}),z.params=y(z.params)}const W=n.resolve(B,z),Re=O.hash||"";W.params=v(_(W.params));const Oe=rR(o,Me({},O,{hash:WR(Re),path:W.path})),ce=s.createHref(Oe);return Me({fullPath:Oe,hash:Re,query:o===xy?zR(O.query):O.query||{}},W,{redirectedFrom:void 0,href:ce})}function U(O){return typeof O=="string"?Xf(r,O,f.value.path):Me({},O)}function J(O,z){if(p!==O)return io(8,{from:z,to:O})}function se(O){return ae(O)}function Ae(O){return se(Me(U(O),{replace:!0}))}function G(O){const z=O.matched[O.matched.length-1];if(z&&z.redirect){const{redirect:B}=z;let W=typeof B=="function"?B(O):B;return typeof W=="string"&&(W=W.includes("?")||W.includes("#")?W=U(W):{path:W},W.params={}),Me({query:O.query,hash:O.hash,params:O.params},W)}}function ae(O,z){const B=p=k(O),W=f.value,Re=O.state,Oe=O.force,ce=O.replace===!0,fe=G(B);if(fe)return ae(Me(U(fe),{state:Re,force:Oe,replace:ce}),z||B);const E=B;E.redirectedFrom=z;let I;return!Oe&&iR(o,W,B)&&(I=io(16,{to:E,from:W}),Lt(W,W,!0,!1)),(I?Promise.resolve(I):Ce(E,W)).catch(A=>Xr(A)?A:Ne(A,E,W)).then(A=>{if(A){if(Xr(A,2))return ae(Me(U(A.to),{state:Re,force:Oe,replace:ce}),z||E)}else A=Qe(E,W,!0,ce,Re);return T(E,W,A),A})}function q(O,z){const B=J(O,z);return B?Promise.reject(B):Promise.resolve()}function Ce(O,z){let B;const[W,Re,Oe]=tk(O,z);B=Jf(W.reverse(),"beforeRouteLeave",O,z);for(const fe of W)fe.leaveGuards.forEach(E=>{B.push(hr(E,O,z))});const ce=q.bind(null,O,z);return B.push(ce),Hi(B).then(()=>{B=[];for(const fe of u.list())B.push(hr(fe,O,z));return B.push(ce),Hi(B)}).then(()=>{B=Jf(Re,"beforeRouteUpdate",O,z);for(const fe of Re)fe.updateGuards.forEach(E=>{B.push(hr(E,O,z))});return B.push(ce),Hi(B)}).then(()=>{B=[];for(const fe of O.matched)if(fe.beforeEnter&&!z.matched.includes(fe))if(Array.isArray(fe.beforeEnter))for(const E of fe.beforeEnter)B.push(hr(E,O,z));else B.push(hr(fe.beforeEnter,O,z));return B.push(ce),Hi(B)}).then(()=>(O.matched.forEach(fe=>fe.enterCallbacks={}),B=Jf(Oe,"beforeRouteEnter",O,z),B.push(ce),Hi(B))).then(()=>{B=[];for(const fe of l.list())B.push(hr(fe,O,z));return B.push(ce),Hi(B)}).catch(fe=>Xr(fe,8)?fe:Promise.reject(fe))}function T(O,z,B){for(const W of h.list())W(O,z,B)}function Qe(O,z,B,W,Re){const Oe=J(O,z);if(Oe)return Oe;const ce=z===lr,fe=$i?history.state:{};B&&(W||ce?s.replace(O.fullPath,Me({scroll:ce&&fe&&fe.scroll},Re)):s.push(O.fullPath,Re)),f.value=O,Lt(O,z,B,ce),gt()}let Q;function He(){Q=s.listen((O,z,B)=>{const W=k(O),Re=G(W);if(Re){ae(Me(Re,{replace:!0}),W).catch(ms);return}p=W;const Oe=f.value;$i&&hR(Ay(Oe.fullPath,B.delta),Yu()),Ce(W,Oe).catch(ce=>Xr(ce,12)?ce:Xr(ce,2)?(ae(ce.to,W).then(fe=>{Xr(fe,20)&&!B.delta&&B.type===Ms.pop&&s.go(-1,!1)}).catch(ms),Promise.reject()):(B.delta&&s.go(-B.delta,!1),Ne(ce,W,Oe))).then(ce=>{ce=ce||Qe(W,Oe,!1),ce&&(B.delta?s.go(-B.delta,!1):B.type===Ms.pop&&Xr(ce,20)&&s.go(-1,!1)),T(W,Oe,ce)}).catch(ms)})}let at=ss(),_t=ss(),Pe;function Ne(O,z,B){gt(O);const W=_t.list();return W.length?W.forEach(Re=>Re(O,z,B)):console.error(O),Promise.reject(O)}function he(){return Pe&&f.value!==lr?Promise.resolve():new Promise((O,z)=>{at.add([O,z])})}function gt(O){Pe||(Pe=!0,He(),at.list().forEach(([z,B])=>O?B(O):z()),at.reset())}function Lt(O,z,B,W){const{scrollBehavior:Re}=e;if(!$i||!Re)return Promise.resolve();const Oe=!B&&dR(Ay(O.fullPath,0))||(W||!B)&&history.state&&history.state.scroll||null;return z_().then(()=>Re(O,z,Oe)).then(ce=>ce&&fR(ce)).catch(ce=>Ne(ce,O,z))}const Mt=O=>s.go(O);let Ft;const wt=new Set;return{currentRoute:f,addRoute:w,removeRoute:C,hasRoute:S,getRoutes:R,resolve:k,options:e,push:se,replace:Ae,go:Mt,back:()=>Mt(-1),forward:()=>Mt(1),beforeEach:u.add,beforeResolve:l.add,afterEach:h.add,onError:_t.add,isReady:he,install(O){const z=this;O.component("RouterLink",QR),O.component("RouterView",ek),O.config.globalProperties.$router=z,Object.defineProperty(O.config.globalProperties,"$route",{enumerable:!0,get:()=>ds(f)}),$i&&!Ft&&f.value===lr&&(Ft=!0,se(s.location).catch(Re=>{}));const B={};for(const Re in lr)B[Re]=kn(()=>f.value[Re]);O.provide(bd,z),O.provide(eb,Hs(B)),O.provide(Ih,f);const W=O.unmount;wt.add(O),O.unmount=function(){wt.delete(O),wt.size<1&&(p=lr,Q&&Q(),f.value=lr,Ft=!1,Pe=!1),W()}}}}function Hi(e){return e.reduce((n,r)=>n.then(()=>r()),Promise.resolve())}function tk(e,n){const r=[],o=[],s=[],u=Math.max(n.matched.length,e.matched.length);for(let l=0;l<u;l++){const h=n.matched[l];h&&(e.matched.find(p=>ro(p,h))?o.push(h):r.push(h));const f=e.matched[l];f&&(n.matched.find(p=>ro(p,f))||s.push(f))}return[r,o,s]}var nk="@firebase/database",rk="0.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cb="";function fb(e){cb=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ik=function(){function e(n){this.domStorage_=n,this.prefix_="firebase:"}return e.prototype.set=function(n,r){r==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),it(r))},e.prototype.get=function(n){var r=this.domStorage_.getItem(this.prefixedName_(n));return r==null?null:Ls(r)},e.prototype.remove=function(n){this.domStorage_.removeItem(this.prefixedName_(n))},e.prototype.prefixedName_=function(n){return this.prefix_+n},e.prototype.toString=function(){return this.domStorage_.toString()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ok=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(n,r){r==null?delete this.cache_[n]:this.cache_[n]=r},e.prototype.get=function(n){return Kt(this.cache_,n)?this.cache_[n]:null},e.prototype.remove=function(n){delete this.cache_[n]},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hb=function(e){try{if(typeof window!="undefined"&&typeof window[e]!="undefined"){var n=window[e];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new ik(n)}}catch{}return new ok},si=hb("localStorage"),Sh=hb("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ji=new Yw("@firebase/database"),db=function(){var e=1;return function(){return e++}}(),pb=function(e){var n=IN(e),r=new _N;r.update(n);var o=r.digest();return md.encodeByteArray(o)},Ks=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r="",o=0;o<e.length;o++){var s=e[o];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?r+=Ks.apply(null,s):typeof s=="object"?r+=it(s):r+=s,r+=" "}return r},fi=null,jy=!0,vb=function(e,n){F(!n||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(Ji.logLevel=Fe.VERBOSE,fi=Ji.log.bind(Ji),n&&Sh.set("logging_enabled",!0)):typeof e=="function"?fi=e:(fi=null,Sh.remove("logging_enabled"))},ct=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(jy===!0&&(jy=!1,fi===null&&Sh.get("logging_enabled")===!0&&vb(!0)),fi){var r=Ks.apply(null,e);fi(r)}},qs=function(e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];ct.apply(void 0,Er([e],Ct(n)))}},Ah=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r="FIREBASE INTERNAL ERROR: "+Ks.apply(void 0,Er([],Ct(e)));Ji.error(r)},Ln=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r="FIREBASE FATAL ERROR: "+Ks.apply(void 0,Er([],Ct(e)));throw Ji.error(r),new Error(r)},vt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r="FIREBASE WARNING: "+Ks.apply(void 0,Er([],Ct(e)));Ji.warn(r)},sk=function(){typeof window!="undefined"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&vt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Qu=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},ak=function(e){if(document.readyState==="complete")e();else{var n=!1,r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}n||(n=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&r()}),window.attachEvent("onload",r))}},Qn="[MIN_NAME]",Mn="[MAX_NAME]",gi=function(e,n){if(e===n)return 0;if(e===Qn||n===Mn)return-1;if(n===Qn||e===Mn)return 1;var r=Cu(e),o=Cu(n);return r!==null?o!==null?r-o===0?e.length-n.length:r-o:-1:o!==null?1:e<n?-1:1},uk=function(e,n){return e===n?0:e<n?-1:1},as=function(e,n){if(n&&e in n)return n[e];throw new Error("Missing required key ("+e+") in object: "+it(n))},Id=function(e){if(typeof e!="object"||e===null)return it(e);var n=[];for(var r in e)n.push(r);n.sort();for(var o="{",s=0;s<n.length;s++)s!==0&&(o+=","),o+=it(n[s]),o+=":",o+=Id(e[n[s]]);return o+="}",o},gb=function(e,n){var r=e.length;if(r<=n)return[e];for(var o=[],s=0;s<r;s+=n)s+n>r?o.push(e.substring(s,r)):o.push(e.substring(s,s+n));return o};function st(e,n){for(var r in e)e.hasOwnProperty(r)&&n(r,e[r])}var mb=function(e){F(!Qu(e),"Invalid JSON number");var n=11,r=52,o=(1<<n-1)-1,s,u,l,h,f;e===0?(u=0,l=0,s=1/e===-1/0?1:0):(s=e<0,e=Math.abs(e),e>=Math.pow(2,1-o)?(h=Math.min(Math.floor(Math.log(e)/Math.LN2),o),u=h+o,l=Math.round(e*Math.pow(2,r-h)-Math.pow(2,r))):(u=0,l=Math.round(e/Math.pow(2,1-o-r))));var p=[];for(f=r;f;f-=1)p.push(l%2?1:0),l=Math.floor(l/2);for(f=n;f;f-=1)p.push(u%2?1:0),u=Math.floor(u/2);p.push(s?1:0),p.reverse();var v=p.join(""),y="";for(f=0;f<64;f+=8){var _=parseInt(v.substr(f,8),2).toString(16);_.length===1&&(_="0"+_),y=y+_}return y.toLowerCase()},lk=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},ck=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function fk(e,n){var r="Unknown Error";e==="too_big"?r="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?r="Client doesn't have permission to access the desired data.":e==="unavailable"&&(r="The service is unavailable");var o=new Error(e+" at "+n._path.toString()+": "+r);return o.code=e.toUpperCase(),o}var hk=new RegExp("^-?(0*)\\d{1,10}$"),yb=-2147483648,Td=2147483647,Cu=function(e){if(hk.test(e)){var n=Number(e);if(n>=yb&&n<=Td)return n}return null},mo=function(e){try{e()}catch(n){setTimeout(function(){var r=n.stack||"";throw vt("Exception was thrown by user callback.",r),n},Math.floor(0))}},dk=function(){var e=typeof window=="object"&&window.navigator&&window.navigator.userAgent||"";return e.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},_s=function(e,n){var r=setTimeout(e,n);return typeof r=="object"&&r.unref&&r.unref(),r};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pk=function(){function e(n,r){var o=this;this.appName_=n,this.appCheckProvider=r,this.appCheck=r==null?void 0:r.getImmediate({optional:!0}),this.appCheck||r==null||r.get().then(function(s){return o.appCheck=s})}return e.prototype.getToken=function(n){var r=this;return this.appCheck?this.appCheck.getToken(n):new Promise(function(o,s){setTimeout(function(){r.appCheck?r.getToken(n).then(o,s):o(null)},0)})},e.prototype.addTokenChangeListener=function(n){var r;(r=this.appCheckProvider)===null||r===void 0||r.get().then(function(o){return o.addTokenListener(n)})},e.prototype.notifyForInvalidToken=function(){vt('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vk=function(){function e(n,r,o){var s=this;this.appName_=n,this.firebaseOptions_=r,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(function(u){return s.auth_=u})}return e.prototype.getToken=function(n){var r=this;return this.auth_?this.auth_.getToken(n).catch(function(o){return o&&o.code==="auth/token-not-initialized"?(ct("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(o)}):new Promise(function(o,s){setTimeout(function(){r.auth_?r.getToken(n).then(o,s):o(null)},0)})},e.prototype.addTokenChangeListener=function(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(function(r){return r.addAuthTokenListener(n)})},e.prototype.removeTokenChangeListener=function(n){this.authProvider_.get().then(function(r){return r.removeAuthTokenListener(n)})},e.prototype.notifyForInvalidToken=function(){var n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',vt(n)},e}(),ws=function(){function e(n){this.accessToken=n}return e.prototype.getToken=function(n){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(n){n(this.accessToken)},e.prototype.removeTokenChangeListener=function(n){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cd="5",_b="v",wb="s",bb="r",Eb="f",Ib=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Tb="ls",gk="p",Nh="ac",Cb="websocket",Sb="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sd=function(){function e(n,r,o,s,u,l,h){u===void 0&&(u=!1),l===void 0&&(l=""),h===void 0&&(h=!1),this.secure=r,this.namespace=o,this.webSocketOnly=s,this.nodeAdmin=u,this.persistenceKey=l,this.includeNamespaceInQueryParams=h,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=si.get("host:"+n)||this._host}return e.prototype.isCacheableHost=function(){return this.internalHost.substr(0,2)==="s-"},e.prototype.isCustomHost=function(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&si.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n},e.prototype.toURLString=function(){var n=this.secure?"https://":"http://",r=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+n+this.host+"/"+r},e}();function mk(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function Ab(e,n,r){F(typeof n=="string","typeof type must == string"),F(typeof r=="object","typeof params must == object");var o;if(n===Cb)o=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(n===Sb)o=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);mk(e)&&(r.ns=e.namespace);var s=[];return st(r,function(u,l){s.push(u+"="+l)}),o+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yk=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(n,r){r===void 0&&(r=1),Kt(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=r},e.prototype.get=function(){return Ww(this.counters_)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zf={},eh={};function Ad(e){var n=e.toString();return Zf[n]||(Zf[n]=new yk),Zf[n]}function _k(e,n){var r=e.toString();return eh[r]||(eh[r]=n()),eh[r]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wk=function(){function e(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(n,r){this.closeAfterResponse=n,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(n,r){var o=this;this.pendingResponses[n]=r;for(var s=function(){var h=u.pendingResponses[u.currentResponseNum];delete u.pendingResponses[u.currentResponseNum];for(var f=function(v){h[v]&&mo(function(){o.onMessage_(h[v])})},p=0;p<h.length;++p)f(p);if(u.currentResponseNum===u.closeAfterResponse)return u.onClose&&(u.onClose(),u.onClose=null),"break";u.currentResponseNum++},u=this;this.pendingResponses[this.currentResponseNum];){var l=s();if(l==="break")break}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uy="start",bk="close",Ek="pLPCommand",Ik="pRTLPCB",Nb="id",Rb="pw",kb="ser",Tk="cb",Ck="seg",Sk="ts",Ak="d",Nk="dframe",Pb=1870,Ob=30,Rk=Pb-Ob,kk=25e3,Pk=3e4,Nd=function(){function e(n,r,o,s,u,l,h){var f=this;this.connId=n,this.repoInfo=r,this.applicationId=o,this.appCheckToken=s,this.authToken=u,this.transportSessionId=l,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=qs(n),this.stats_=Ad(r),this.urlFn=function(p){return f.appCheckToken&&(p[Nh]=f.appCheckToken),Ab(r,Sb,p)}}return e.prototype.open=function(n,r){var o=this;this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new wk(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){o.log_("Timed out trying to connect."),o.onClosed_(),o.connectTimeoutTimer_=null},Math.floor(Pk)),ak(function(){if(!o.isClosed_){o.scriptTagHolder=new Ok(function(){for(var l=[],h=0;h<arguments.length;h++)l[h]=arguments[h];var f=Ct(l,5),p=f[0],v=f[1],y=f[2];if(f[3],f[4],o.incrementIncomingBytes_(l),!!o.scriptTagHolder)if(o.connectTimeoutTimer_&&(clearTimeout(o.connectTimeoutTimer_),o.connectTimeoutTimer_=null),o.everConnected_=!0,p===Uy)o.id=v,o.password=y;else if(p===bk)v?(o.scriptTagHolder.sendNewPolls=!1,o.myPacketOrderer.closeAfter(v,function(){o.onClosed_()})):o.onClosed_();else throw new Error("Unrecognized command received: "+p)},function(){for(var l=[],h=0;h<arguments.length;h++)l[h]=arguments[h];var f=Ct(l,2),p=f[0],v=f[1];o.incrementIncomingBytes_(l),o.myPacketOrderer.handleResponse(p,v)},function(){o.onClosed_()},o.urlFn);var s={};s[Uy]="t",s[kb]=Math.floor(Math.random()*1e8),o.scriptTagHolder.uniqueCallbackIdentifier&&(s[Tk]=o.scriptTagHolder.uniqueCallbackIdentifier),s[_b]=Cd,o.transportSessionId&&(s[wb]=o.transportSessionId),o.lastSessionId&&(s[Tb]=o.lastSessionId),o.applicationId&&(s[gk]=o.applicationId),o.appCheckToken&&(s[Nh]=o.appCheckToken),typeof location!="undefined"&&location.hostname&&Ib.test(location.hostname)&&(s[bb]=Eb);var u=o.urlFn(s);o.log_("Connecting via long-poll to "+u),o.scriptTagHolder.addTag(u,function(){})}})},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return e.forceAllow_?!0:!e.forceDisallow_&&typeof document!="undefined"&&document.createElement!=null&&!lk()&&!ck()},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(n){var r=it(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);for(var o=Bw(r),s=gb(o,Rk),u=0;u<s.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[u]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(n,r){this.myDisconnFrame=document.createElement("iframe");var o={};o[Nk]="t",o[Nb]=n,o[Rb]=r,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},e.prototype.incrementIncomingBytes_=function(n){var r=it(n).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)},e}(),Ok=function(){function e(n,r,o,s){this.onDisconnect=o,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=db(),window[Ek+this.uniqueCallbackIdentifier]=n,window[Ik+this.uniqueCallbackIdentifier]=r,this.myIFrame=e.createIFrame_();var u="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){var l=document.domain;u='<script>document.domain="'+l+'";<\/script>'}var h="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(f){ct("frame writing exception"),f.stack&&ct(f.stack),ct(f)}}}return e.createIFrame_=function(){var n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{var r=n.contentWindow.document;r||ct("No IE domain setting required")}catch{var o=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n},e.prototype.close=function(){var n=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){n.myIFrame!==null&&(document.body.removeChild(n.myIFrame),n.myIFrame=null)},Math.floor(0)));var r=this.onDisconnect;r&&(this.onDisconnect=null,r())},e.prototype.startLongPoll=function(n,r){for(this.myID=n,this.myPW=r,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var n={};n[Nb]=this.myID,n[Rb]=this.myPW,n[kb]=this.currentSerial;for(var r=this.urlFn(n),o="",s=0;this.pendingSegs.length>0;){var u=this.pendingSegs[0];if(u.d.length+Ob+o.length<=Pb){var l=this.pendingSegs.shift();o=o+"&"+Ck+s+"="+l.seg+"&"+Sk+s+"="+l.ts+"&"+Ak+s+"="+l.d,s++}else break}return r=r+o,this.addLongPollTag_(r,this.currentSerial),!0}else return!1},e.prototype.enqueueSegment=function(n,r,o){this.pendingSegs.push({seg:n,ts:r,d:o}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(n,r){var o=this;this.outstandingRequests.add(r);var s=function(){o.outstandingRequests.delete(r),o.newRequest_()},u=setTimeout(s,Math.floor(kk)),l=function(){clearTimeout(u),s()};this.addTag(n,l)},e.prototype.addTag=function(n,r){var o=this;setTimeout(function(){try{if(!o.sendNewPolls)return;var s=o.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=n,s.onload=s.onreadystatechange=function(){var u=s.readyState;(!u||u==="loaded"||u==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),r())},s.onerror=function(){ct("Long-poll script failed to load: "+n),o.sendNewPolls=!1,o.close()},o.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xk=16384,Dk=45e3,Su=null;typeof MozWebSocket!="undefined"?Su=MozWebSocket:typeof WebSocket!="undefined"&&(Su=WebSocket);var ii=function(){function e(n,r,o,s,u,l,h){this.connId=n,this.applicationId=o,this.appCheckToken=s,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=qs(this.connId),this.stats_=Ad(r),this.connURL=e.connectionURL_(r,l,h,s),this.nodeAdmin=r.nodeAdmin}return e.connectionURL_=function(n,r,o,s){var u={};return u[_b]=Cd,typeof location!="undefined"&&location.hostname&&Ib.test(location.hostname)&&(u[bb]=Eb),r&&(u[wb]=r),o&&(u[Tb]=o),s&&(u[Nh]=s),Ab(n,Cb,u)},e.prototype.open=function(n,r){var o=this;this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,si.set("previous_websocket_failure",!0);try{var s,u,l,h;if(!Gw()){var u={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new Su(this.connURL,[],u)}}catch(p){this.log_("Error instantiating WebSocket.");var f=p.message||p.data;f&&this.log_(f),this.onClosed_();return}this.mySock.onopen=function(){o.log_("Websocket connected."),o.everConnected_=!0},this.mySock.onclose=function(){o.log_("Websocket connection was disconnected."),o.mySock=null,o.onClosed_()},this.mySock.onmessage=function(p){o.handleIncomingFrame(p)},this.mySock.onerror=function(p){o.log_("WebSocket error.  Closing connection.");var v=p.message||p.data;v&&o.log_(v),o.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var n=!1;if(typeof navigator!="undefined"&&navigator.userAgent){var r=/Android ([0-9]{0,}\.[0-9]{0,})/,o=navigator.userAgent.match(r);o&&o.length>1&&parseFloat(o[1])<4.4&&(n=!0)}return!n&&Su!==null&&!e.forceDisallow_},e.previouslyFailed=function(){return si.isInMemoryStorage||si.get("previous_websocket_failure")===!0},e.prototype.markConnectionHealthy=function(){si.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(n){if(this.frames.push(n),this.frames.length===this.totalFrames){var r=this.frames.join("");this.frames=null;var o=Ls(r);this.onMessage(o)}},e.prototype.handleNewFrameCount_=function(n){this.totalFrames=n,this.frames=[]},e.prototype.extractFrameCount_=function(n){if(F(this.frames===null,"We already have a frame buffer"),n.length<=6){var r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n},e.prototype.handleIncomingFrame=function(n){if(this.mySock!==null){var r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{var o=this.extractFrameCount_(r);o!==null&&this.appendFrame_(o)}}},e.prototype.send=function(n){this.resetKeepAlive();var r=it(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);var o=gb(r,xk);o.length>1&&this.sendString_(String(o.length));for(var s=0;s<o.length;s++)this.sendString_(o[s])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var n=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){n.mySock&&n.sendString_("0"),n.resetKeepAlive()},Math.floor(Dk))},e.prototype.sendString_=function(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lk=function(){function e(n){this.initTransports_(n)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[Nd,ii]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(n){var r,o,s=ii&&ii.isAvailable(),u=s&&!ii.previouslyFailed();if(n.webSocketOnly&&(s||vt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),u=!0),u)this.transports_=[ii];else{var l=this.transports_=[];try{for(var h=Ht(e.ALL_TRANSPORTS),f=h.next();!f.done;f=h.next()){var p=f.value;p&&p.isAvailable()&&l.push(p)}}catch(v){r={error:v}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(r)throw r.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mk=6e4,Fk=5e3,jk=10*1024,Uk=100*1024,th="t",Vy="d",Vk="s",By="r",Bk="e",Wy="o",Hy="a",Gy="n",Ky="p",Wk="h",xb=function(){function e(n,r,o,s,u,l,h,f,p,v){this.id=n,this.repoInfo_=r,this.applicationId_=o,this.appCheckToken_=s,this.authToken_=u,this.onMessage_=l,this.onReady_=h,this.onDisconnect_=f,this.onKill_=p,this.lastSessionId=v,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=qs("c:"+this.id+":"),this.transportManager_=new Lk(r),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var n=this,r=this.transportManager_.initialTransport();this.conn_=new r(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=r.responsesRequiredToBeHealthy||0;var o=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){n.conn_&&n.conn_.open(o,s)},Math.floor(0));var u=r.healthyTimeout||0;u>0&&(this.healthyTimeout_=_s(function(){n.healthyTimeout_=null,n.isHealthy_||(n.conn_&&n.conn_.bytesReceived>Uk?(n.log_("Connection exceeded healthy timeout but has received "+n.conn_.bytesReceived+" bytes.  Marking connection healthy."),n.isHealthy_=!0,n.conn_.markConnectionHealthy()):n.conn_&&n.conn_.bytesSent>jk?n.log_("Connection exceeded healthy timeout but has sent "+n.conn_.bytesSent+" bytes.  Leaving connection alive."):(n.log_("Closing unhealthy connection after timeout."),n.close()))},Math.floor(u)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(n){var r=this;return function(o){n===r.conn_?r.onConnectionLost_(o):n===r.secondaryConn_?(r.log_("Secondary connection lost."),r.onSecondaryConnectionLost_()):r.log_("closing an old connection")}},e.prototype.connReceiver_=function(n){var r=this;return function(o){r.state_!==2&&(n===r.rx_?r.onPrimaryMessageReceived_(o):n===r.secondaryConn_?r.onSecondaryMessageReceived_(o):r.log_("message on old connection"))}},e.prototype.sendRequest=function(n){var r={t:"d",d:n};this.sendData_(r)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(n){if(th in n){var r=n[th];r===Hy?this.upgradeIfSecondaryHealthy_():r===By?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):r===Wy&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(n){var r=as("t",n),o=as("d",n);if(r==="c")this.onSecondaryControl_(o);else if(r==="d")this.pendingDataMessages.push(o);else throw new Error("Unknown protocol layer: "+r)},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Ky,d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Hy,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Gy,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(n){var r=as("t",n),o=as("d",n);r==="c"?this.onControl_(o):r==="d"&&this.onDataMessage_(o)},e.prototype.onDataMessage_=function(n){this.onPrimaryResponse_(),this.onMessage_(n)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(n){var r=as(th,n);if(Vy in n){var o=n[Vy];if(r===Wk)this.onHandshake_(o);else if(r===Gy){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else r===Vk?this.onConnectionShutdown_(o):r===By?this.onReset_(o):r===Bk?Ah("Server Error: "+o):r===Wy?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ah("Unknown control packet command: "+r)}},e.prototype.onHandshake_=function(n){var r=n.ts,o=n.v,s=n.h;this.sessionId=n.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),Cd!==o&&vt("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)},e.prototype.startUpgrade_=function(n){var r=this;this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;var o=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(o,s),_s(function(){r.secondaryConn_&&(r.log_("Timed out trying to upgrade."),r.secondaryConn_.close())},Math.floor(Mk))},e.prototype.onReset_=function(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(n,r){var o=this;this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):_s(function(){o.sendPingOnPrimaryIfNecessary_()},Math.floor(Fk))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Ky,d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()},e.prototype.onConnectionLost_=function(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(si.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()},e.prototype.onConnectionShutdown_=function(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)},e.prototype.close=function(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Db=function(){function e(){}return e.prototype.put=function(n,r,o,s){},e.prototype.merge=function(n,r,o,s){},e.prototype.refreshAuthToken=function(n){},e.prototype.refreshAppCheckToken=function(n){},e.prototype.onDisconnectPut=function(n,r,o){},e.prototype.onDisconnectMerge=function(n,r,o){},e.prototype.onDisconnectCancel=function(n,r){},e.prototype.reportStats=function(n){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lb=function(){function e(n){this.allowedEvents_=n,this.listeners_={},F(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(n){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];if(Array.isArray(this.listeners_[n]))for(var s=Er([],Ct(this.listeners_[n])),u=0;u<s.length;u++)s[u].callback.apply(s[u].context,r)},e.prototype.on=function(n,r,o){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:r,context:o});var s=this.getInitialEvent(n);s&&r.apply(o,s)},e.prototype.off=function(n,r,o){this.validateEventType_(n);for(var s=this.listeners_[n]||[],u=0;u<s.length;u++)if(s[u].callback===r&&(!o||o===s[u].context)){s.splice(u,1);return}},e.prototype.validateEventType_=function(n){F(this.allowedEvents_.find(function(r){return r===n}),"Unknown event: "+n)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qy=function(e){Ye(n,e);function n(){var r=e.call(this,["online"])||this;return r.online_=!0,typeof window!="undefined"&&typeof window.addEventListener!="undefined"&&!Hw()&&(window.addEventListener("online",function(){r.online_||(r.online_=!0,r.trigger("online",!0))},!1),window.addEventListener("offline",function(){r.online_&&(r.online_=!1,r.trigger("online",!1))},!1)),r}return n.getInstance=function(){return new n},n.prototype.getInitialEvent=function(r){return F(r==="online","Unknown event type: "+r),[this.online_]},n.prototype.currentlyOnline=function(){return this.online_},n}(Lb);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zy=32,$y=768,Se=function(){function e(n,r){if(r===void 0){this.pieces_=n.split("/");for(var o=0,s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[o]=this.pieces_[s],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=r}return e.prototype.toString=function(){for(var n="",r=this.pieceNum_;r<this.pieces_.length;r++)this.pieces_[r]!==""&&(n+="/"+this.pieces_[r]);return n||"/"},e}();function Ie(){return new Se("")}function ve(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Ir(e){return e.pieces_.length-e.pieceNum_}function Ue(e){var n=e.pieceNum_;return n<e.pieces_.length&&n++,new Se(e.pieces_,n)}function Rd(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Hk(e){for(var n="",r=e.pieceNum_;r<e.pieces_.length;r++)e.pieces_[r]!==""&&(n+="/"+encodeURIComponent(String(e.pieces_[r])));return n||"/"}function Fs(e,n){return n===void 0&&(n=0),e.pieces_.slice(e.pieceNum_+n)}function Mb(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var n=[],r=e.pieceNum_;r<e.pieces_.length-1;r++)n.push(e.pieces_[r]);return new Se(n,0)}function qe(e,n){for(var r=[],o=e.pieceNum_;o<e.pieces_.length;o++)r.push(e.pieces_[o]);if(n instanceof Se)for(var o=n.pieceNum_;o<n.pieces_.length;o++)r.push(n.pieces_[o]);else for(var s=n.split("/"),o=0;o<s.length;o++)s[o].length>0&&r.push(s[o]);return new Se(r,0)}function ge(e){return e.pieceNum_>=e.pieces_.length}function St(e,n){var r=ve(e),o=ve(n);if(r===null)return n;if(r===o)return St(Ue(e),Ue(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")}function Gk(e,n){for(var r=Fs(e,0),o=Fs(n,0),s=0;s<r.length&&s<o.length;s++){var u=gi(r[s],o[s]);if(u!==0)return u}return r.length===o.length?0:r.length<o.length?-1:1}function kd(e,n){if(Ir(e)!==Ir(n))return!1;for(var r=e.pieceNum_,o=n.pieceNum_;r<=e.pieces_.length;r++,o++)if(e.pieces_[r]!==n.pieces_[o])return!1;return!0}function en(e,n){var r=e.pieceNum_,o=n.pieceNum_;if(Ir(e)>Ir(n))return!1;for(;r<e.pieces_.length;){if(e.pieces_[r]!==n.pieces_[o])return!1;++r,++o}return!0}var Kk=function(){function e(n,r){this.errorPrefix_=r,this.parts_=Fs(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(var o=0;o<this.parts_.length;o++)this.byteLength_+=$u(this.parts_[o]);Fb(this)}return e}();function qk(e,n){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(n),e.byteLength_+=$u(n),Fb(e)}function zk(e){var n=e.parts_.pop();e.byteLength_-=$u(n),e.parts_.length>0&&(e.byteLength_-=1)}function Fb(e){if(e.byteLength_>$y)throw new Error(e.errorPrefix_+"has a key path longer than "+$y+" bytes ("+e.byteLength_+").");if(e.parts_.length>zy)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+zy+") or object contains a cycle "+ti(e))}function ti(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $k=function(e){Ye(n,e);function n(){var r=e.call(this,["visible"])||this,o,s;return typeof document!="undefined"&&typeof document.addEventListener!="undefined"&&(typeof document.hidden!="undefined"?(s="visibilitychange",o="hidden"):typeof document.mozHidden!="undefined"?(s="mozvisibilitychange",o="mozHidden"):typeof document.msHidden!="undefined"?(s="msvisibilitychange",o="msHidden"):typeof document.webkitHidden!="undefined"&&(s="webkitvisibilitychange",o="webkitHidden")),r.visible_=!0,s&&document.addEventListener(s,function(){var u=!document[o];u!==r.visible_&&(r.visible_=u,r.trigger("visible",u))},!1),r}return n.getInstance=function(){return new n},n.prototype.getInitialEvent=function(r){return F(r==="visible","Unknown event type: "+r),[this.visible_]},n}(Lb);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var us=1e3,Yk=60*5*1e3,Qk=3*1e3,Yy=30*1e3,Xk=1.3,Jk=3e4,Zk="server_kill",Qy=3,hi=function(e){Ye(n,e);function n(r,o,s,u,l,h,f,p){var v=e.call(this)||this;if(v.repoInfo_=r,v.applicationId_=o,v.onDataUpdate_=s,v.onConnectStatus_=u,v.onServerInfoUpdate_=l,v.authTokenProvider_=h,v.appCheckTokenProvider_=f,v.authOverride_=p,v.id=n.nextPersistentConnectionId_++,v.log_=qs("p:"+v.id+":"),v.interruptReasons_={},v.listens=new Map,v.outstandingPuts_=[],v.outstandingGets_=[],v.outstandingPutCount_=0,v.outstandingGetCount_=0,v.onDisconnectRequestQueue_=[],v.connected_=!1,v.reconnectDelay_=us,v.maxReconnectDelay_=Yk,v.securityDebugCallback_=null,v.lastSessionId=null,v.establishConnectionTimer_=null,v.visible_=!1,v.requestCBHash_={},v.requestNumber_=0,v.realtime_=null,v.authToken_=null,v.appCheckToken_=null,v.forceTokenRefresh_=!1,v.invalidAuthTokenCount_=0,v.invalidAppCheckTokenCount_=0,v.firstConnection_=!0,v.lastConnectionAttemptTime_=null,v.lastConnectionEstablishedTime_=null,p&&!Gw())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return $k.getInstance().on("visible",v.onVisible_,v),r.host.indexOf("fblocal")===-1&&qy.getInstance().on("online",v.onOnline_,v),v}return n.prototype.sendRequest=function(r,o,s){var u=++this.requestNumber_,l={r:u,a:r,b:o};this.log_(it(l)),F(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),s&&(this.requestCBHash_[u]=s)},n.prototype.get=function(r){var o=this;this.initConnection_();var s=new xt,u={p:r._path.toString(),q:r._queryObject},l={action:"g",request:u,onComplete:function(f){var p=f.d;f.s==="ok"?(o.onDataUpdate_(u.p,p,!1,null),s.resolve(p)):s.reject(p)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;var h=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var f=o.outstandingGets_[h];f===void 0||l!==f||(delete o.outstandingGets_[h],o.outstandingGetCount_--,o.outstandingGetCount_===0&&(o.outstandingGets_=[]),o.log_("get "+h+" timed out on connection"),s.reject(new Error("Client is offline.")))},Qk),this.connected_&&this.sendGet_(h),s.promise},n.prototype.listen=function(r,o,s,u){this.initConnection_();var l=r._queryIdentifier,h=r._path.toString();this.log_("Listen called for "+h+" "+l),this.listens.has(h)||this.listens.set(h,new Map),F(r._queryParams.isDefault()||!r._queryParams.loadsAllData(),"listen() called for non-default but complete query"),F(!this.listens.get(h).has(l),"listen() called twice for same path/queryId.");var f={onComplete:u,hashFn:o,query:r,tag:s};this.listens.get(h).set(l,f),this.connected_&&this.sendListen_(f)},n.prototype.sendGet_=function(r){var o=this,s=this.outstandingGets_[r];this.sendRequest("g",s.request,function(u){delete o.outstandingGets_[r],o.outstandingGetCount_--,o.outstandingGetCount_===0&&(o.outstandingGets_=[]),s.onComplete&&s.onComplete(u)})},n.prototype.sendListen_=function(r){var o=this,s=r.query,u=s._path.toString(),l=s._queryIdentifier;this.log_("Listen on "+u+" for "+l);var h={p:u},f="q";r.tag&&(h.q=s._queryObject,h.t=r.tag),h.h=r.hashFn(),this.sendRequest(f,h,function(p){var v=p.d,y=p.s;n.warnOnListenWarnings_(v,s);var _=o.listens.get(u)&&o.listens.get(u).get(l);_===r&&(o.log_("listen response",p),y!=="ok"&&o.removeListen_(u,l),r.onComplete&&r.onComplete(y,v))})},n.warnOnListenWarnings_=function(r,o){if(r&&typeof r=="object"&&Kt(r,"w")){var s=di(r,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){var u='".indexOn": "'+o._queryParams.getIndex().toString()+'"',l=o._path.toString();vt("Using an unspecified index. Your data will be downloaded and "+("filtered on the client. Consider adding "+u+" at ")+(l+" to your security rules for better performance."))}}},n.prototype.refreshAuthToken=function(r){this.authToken_=r,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(r)},n.prototype.reduceReconnectDelayIfAdminCredential_=function(r){var o=r&&r.length===40;(o||mN(r))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Yy)},n.prototype.refreshAppCheckToken=function(r){this.appCheckToken_=r,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},n.prototype.tryAuth=function(){var r=this;if(this.connected_&&this.authToken_){var o=this.authToken_,s=gN(o)?"auth":"gauth",u={cred:o};this.authOverride_===null?u.noauth=!0:typeof this.authOverride_=="object"&&(u.authvar=this.authOverride_),this.sendRequest(s,u,function(l){var h=l.s,f=l.d||"error";r.authToken_===o&&(h==="ok"?r.invalidAuthTokenCount_=0:r.onAuthRevoked_(h,f))})}},n.prototype.tryAppCheck=function(){var r=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(o){var s=o.s,u=o.d||"error";s==="ok"?r.invalidAppCheckTokenCount_=0:r.onAppCheckRevoked_(s,u)})},n.prototype.unlisten=function(r,o){var s=r._path.toString(),u=r._queryIdentifier;this.log_("Unlisten called for "+s+" "+u),F(r._queryParams.isDefault()||!r._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");var l=this.removeListen_(s,u);l&&this.connected_&&this.sendUnlisten_(s,u,r._queryObject,o)},n.prototype.sendUnlisten_=function(r,o,s,u){this.log_("Unlisten on "+r+" for "+o);var l={p:r},h="n";u&&(l.q=s,l.t=u),this.sendRequest(h,l)},n.prototype.onDisconnectPut=function(r,o,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",r,o,s):this.onDisconnectRequestQueue_.push({pathString:r,action:"o",data:o,onComplete:s})},n.prototype.onDisconnectMerge=function(r,o,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",r,o,s):this.onDisconnectRequestQueue_.push({pathString:r,action:"om",data:o,onComplete:s})},n.prototype.onDisconnectCancel=function(r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",r,null,o):this.onDisconnectRequestQueue_.push({pathString:r,action:"oc",data:null,onComplete:o})},n.prototype.sendOnDisconnect_=function(r,o,s,u){var l={p:o,d:s};this.log_("onDisconnect "+r,l),this.sendRequest(r,l,function(h){u&&setTimeout(function(){u(h.s,h.d)},Math.floor(0))})},n.prototype.put=function(r,o,s,u){this.putInternal("p",r,o,s,u)},n.prototype.merge=function(r,o,s,u){this.putInternal("m",r,o,s,u)},n.prototype.putInternal=function(r,o,s,u,l){this.initConnection_();var h={p:o,d:s};l!==void 0&&(h.h=l),this.outstandingPuts_.push({action:r,request:h,onComplete:u}),this.outstandingPutCount_++;var f=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(f):this.log_("Buffering put: "+o)},n.prototype.sendPut_=function(r){var o=this,s=this.outstandingPuts_[r].action,u=this.outstandingPuts_[r].request,l=this.outstandingPuts_[r].onComplete;this.outstandingPuts_[r].queued=this.connected_,this.sendRequest(s,u,function(h){o.log_(s+" response",h),delete o.outstandingPuts_[r],o.outstandingPutCount_--,o.outstandingPutCount_===0&&(o.outstandingPuts_=[]),l&&l(h.s,h.d)})},n.prototype.reportStats=function(r){var o=this;if(this.connected_){var s={c:r};this.log_("reportStats",s),this.sendRequest("s",s,function(u){var l=u.s;if(l!=="ok"){var h=u.d;o.log_("reportStats","Error sending stats: "+h)}})}},n.prototype.onDataMessage_=function(r){if("r"in r){this.log_("from server: "+it(r));var o=r.r,s=this.requestCBHash_[o];s&&(delete this.requestCBHash_[o],s(r.b))}else{if("error"in r)throw"A server-side error has occurred: "+r.error;"a"in r&&this.onDataPush_(r.a,r.b)}},n.prototype.onDataPush_=function(r,o){this.log_("handleServerMessage",r,o),r==="d"?this.onDataUpdate_(o.p,o.d,!1,o.t):r==="m"?this.onDataUpdate_(o.p,o.d,!0,o.t):r==="c"?this.onListenRevoked_(o.p,o.q):r==="ac"?this.onAuthRevoked_(o.s,o.d):r==="apc"?this.onAppCheckRevoked_(o.s,o.d):r==="sd"?this.onSecurityDebugPacket_(o):Ah("Unrecognized action received from server: "+it(r)+`
Are you using the latest client?`)},n.prototype.onReady_=function(r,o){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(r),this.lastSessionId=o,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},n.prototype.scheduleConnect_=function(r){var o=this;F(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){o.establishConnectionTimer_=null,o.establishConnection_()},Math.floor(r))},n.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},n.prototype.onVisible_=function(r){r&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=us,this.realtime_||this.scheduleConnect_(0)),this.visible_=r},n.prototype.onOnline_=function(r){r?(this.log_("Browser went online."),this.reconnectDelay_=us,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},n.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(!this.visible_)this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime();else if(this.lastConnectionEstablishedTime_){var r=new Date().getTime()-this.lastConnectionEstablishedTime_;r>Jk&&(this.reconnectDelay_=us),this.lastConnectionEstablishedTime_=null}var o=new Date().getTime()-this.lastConnectionAttemptTime_,s=Math.max(0,this.reconnectDelay_-o);s=Math.random()*s,this.log_("Trying to reconnect in "+s+"ms"),this.scheduleConnect_(s),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Xk)}this.onConnectStatus_(!1)},n.prototype.establishConnection_=function(){return Fw(this,void 0,void 0,function(){var r,o,s,u,l,h,f,p,v,y,_,w,C,R,S=this;return jw(this,function(k){switch(k.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null,r=this.onDataMessage_.bind(this),o=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),u=this.id+":"+n.nextConnectionId_++,l=this.lastSessionId,h=!1,f=null,p=function(){f?f.close():(h=!0,s())},v=function(U){F(f,"sendRequest call when we're not connected not allowed."),f.sendRequest(U)},this.realtime_={close:p,sendRequest:v},y=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,k.label=1;case 1:return k.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)])];case 2:return _=Ct.apply(void 0,[k.sent(),2]),w=_[0],C=_[1],h?ct("getToken() completed but was canceled"):(ct("getToken() completed. Creating connection."),this.authToken_=w&&w.accessToken,this.appCheckToken_=C&&C.token,f=new xb(u,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,r,o,s,function(U){vt(U+" ("+S.repoInfo_.toString()+")"),S.interrupt(Zk)},l)),[3,4];case 3:return R=k.sent(),this.log_("Failed to get token: "+R),h||(this.repoInfo_.nodeAdmin&&vt(R),p()),[3,4];case 4:return[2]}})})},n.prototype.interrupt=function(r){ct("Interrupting connection for reason: "+r),this.interruptReasons_[r]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},n.prototype.resume=function(r){ct("Resuming connection for reason: "+r),delete this.interruptReasons_[r],Eh(this.interruptReasons_)&&(this.reconnectDelay_=us,this.realtime_||this.scheduleConnect_(0))},n.prototype.handleTimestamp_=function(r){var o=r-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:o})},n.prototype.cancelSentTransactions_=function(){for(var r=0;r<this.outstandingPuts_.length;r++){var o=this.outstandingPuts_[r];o&&"h"in o.request&&o.queued&&(o.onComplete&&o.onComplete("disconnect"),delete this.outstandingPuts_[r],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])},n.prototype.onListenRevoked_=function(r,o){var s;o?s=o.map(function(l){return Id(l)}).join("$"):s="default";var u=this.removeListen_(r,s);u&&u.onComplete&&u.onComplete("permission_denied")},n.prototype.removeListen_=function(r,o){var s=new Se(r).toString(),u;if(this.listens.has(s)){var l=this.listens.get(s);u=l.get(o),l.delete(o),l.size===0&&this.listens.delete(s)}else u=void 0;return u},n.prototype.onAuthRevoked_=function(r,o){ct("Auth token revoked: "+r+"/"+o),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(r==="invalid_token"||r==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Qy&&(this.reconnectDelay_=Yy,this.authTokenProvider_.notifyForInvalidToken()))},n.prototype.onAppCheckRevoked_=function(r,o){ct("App check token revoked: "+r+"/"+o),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(r==="invalid_token"||r==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Qy&&this.appCheckTokenProvider_.notifyForInvalidToken())},n.prototype.onSecurityDebugPacket_=function(r){this.securityDebugCallback_?this.securityDebugCallback_(r):"msg"in r&&console.log("FIREBASE: "+r.msg.replace(`
`,`
FIREBASE: `))},n.prototype.restoreState_=function(){var r,o,s,u;this.tryAuth(),this.tryAppCheck();try{for(var l=Ht(this.listens.values()),h=l.next();!h.done;h=l.next()){var f=h.value;try{for(var p=(s=void 0,Ht(f.values())),v=p.next();!v.done;v=p.next()){var y=v.value;this.sendListen_(y)}}catch(C){s={error:C}}finally{try{v&&!v.done&&(u=p.return)&&u.call(p)}finally{if(s)throw s.error}}}}catch(C){r={error:C}}finally{try{h&&!h.done&&(o=l.return)&&o.call(l)}finally{if(r)throw r.error}}for(var _=0;_<this.outstandingPuts_.length;_++)this.outstandingPuts_[_]&&this.sendPut_(_);for(;this.onDisconnectRequestQueue_.length;){var w=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(w.action,w.pathString,w.data,w.onComplete)}for(var _=0;_<this.outstandingGets_.length;_++)this.outstandingGets_[_]&&this.sendGet_(_)},n.prototype.sendConnectStats_=function(){var r={},o="js";r["sdk."+o+"."+cb.replace(/\./g,"-")]=1,Hw()?r["framework.cordova"]=1:fN()&&(r["framework.reactnative"]=1),this.reportStats(r)},n.prototype.shouldReconnect_=function(){var r=qy.getInstance().currentlyOnline();return Eh(this.interruptReasons_)&&r},n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n}(Db);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e=function(){function e(n,r){this.name=n,this.node=r}return e.Wrap=function(n,r){return new e(n,r)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xu=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(n,r){var o=new _e(Qn,n),s=new _e(Qn,r);return this.compare(o,s)!==0},e.prototype.minPost=function(){return _e.MIN},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var su,jb=function(e){Ye(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(n,"__EMPTY_NODE",{get:function(){return su},set:function(r){su=r},enumerable:!1,configurable:!0}),n.prototype.compare=function(r,o){return gi(r.name,o.name)},n.prototype.isDefinedOn=function(r){throw vo("KeyIndex.isDefinedOn not expected to be called.")},n.prototype.indexedValueChanged=function(r,o){return!1},n.prototype.minPost=function(){return _e.MIN},n.prototype.maxPost=function(){return new _e(Mn,su)},n.prototype.makePost=function(r,o){return F(typeof r=="string","KeyIndex indexValue must always be a string."),new _e(r,su)},n.prototype.toString=function(){return".key"},n}(Xu),On=new jb;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var au=function(){function e(n,r,o,s,u){u===void 0&&(u=null),this.isReverse_=s,this.resultGenerator_=u,this.nodeStack_=[];for(var l=1;!n.isEmpty();)if(n=n,l=r?o(n.key,r):1,s&&(l*=-1),l<0)this.isReverse_?n=n.left:n=n.right;else if(l===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}return e.prototype.getNext=function(){if(this.nodeStack_.length===0)return null;var n=this.nodeStack_.pop(),r;if(this.resultGenerator_?r=this.resultGenerator_(n.key,n.value):r={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return r},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(this.nodeStack_.length===0)return null;var n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}},e}(),vn=function(){function e(n,r,o,s,u){this.key=n,this.value=r,this.color=o!=null?o:e.RED,this.left=s!=null?s:zn.EMPTY_NODE,this.right=u!=null?u:zn.EMPTY_NODE}return e.prototype.copy=function(n,r,o,s,u){return new e(n!=null?n:this.key,r!=null?r:this.value,o!=null?o:this.color,s!=null?s:this.left,u!=null?u:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)},e.prototype.reverseTraversal=function(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(n,r,o){var s=this,u=o(n,s.key);return u<0?s=s.copy(null,null,null,s.left.insert(n,r,o),null):u===0?s=s.copy(null,r,null,null,null):s=s.copy(null,null,null,null,s.right.insert(n,r,o)),s.fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return zn.EMPTY_NODE;var n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()},e.prototype.remove=function(n,r){var o,s;if(o=this,r(n,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(n,r),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),r(n,o.key)===0){if(o.right.isEmpty())return zn.EMPTY_NODE;s=o.right.min_(),o=o.copy(s.key,s.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(n,r))}return o.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n},e.prototype.moveRedLeft_=function(){var n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n},e.prototype.moveRedRight_=function(){var n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n},e.prototype.rotateLeft_=function(){var n=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)},e.prototype.rotateRight_=function(){var n=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)},e.prototype.colorFlip_=function(){var n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)},e.prototype.checkMaxDepth_=function(){var n=this.check_();return Math.pow(2,n)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),eP=function(){function e(){}return e.prototype.copy=function(n,r,o,s,u){return this},e.prototype.insert=function(n,r,o){return new vn(n,r,null)},e.prototype.remove=function(n,r){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(n){return!1},e.prototype.reverseTraversal=function(n){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),zn=function(){function e(n,r){r===void 0&&(r=e.EMPTY_NODE),this.comparator_=n,this.root_=r}return e.prototype.insert=function(n,r){return new e(this.comparator_,this.root_.insert(n,r,this.comparator_).copy(null,null,vn.BLACK,null,null))},e.prototype.remove=function(n){return new e(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,vn.BLACK,null,null))},e.prototype.get=function(n){for(var r,o=this.root_;!o.isEmpty();){if(r=this.comparator_(n,o.key),r===0)return o.value;r<0?o=o.left:r>0&&(o=o.right)}return null},e.prototype.getPredecessorKey=function(n){for(var r,o=this.root_,s=null;!o.isEmpty();)if(r=this.comparator_(n,o.key),r===0){if(o.left.isEmpty())return s?s.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}else r<0?o=o.left:r>0&&(s=o,o=o.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(n){return this.root_.inorderTraversal(n)},e.prototype.reverseTraversal=function(n){return this.root_.reverseTraversal(n)},e.prototype.getIterator=function(n){return new au(this.root_,null,this.comparator_,!1,n)},e.prototype.getIteratorFrom=function(n,r){return new au(this.root_,n,this.comparator_,!1,r)},e.prototype.getReverseIteratorFrom=function(n,r){return new au(this.root_,n,this.comparator_,!0,r)},e.prototype.getReverseIterator=function(n){return new au(this.root_,null,this.comparator_,!0,n)},e.EMPTY_NODE=new eP,e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(e,n){return gi(e.name,n.name)}function Pd(e,n){return gi(e,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rh;function nP(e){Rh=e}var Ub=function(e){return typeof e=="number"?"number:"+mb(e):"string:"+e},Vb=function(e){if(e.isLeafNode()){var n=e.val();F(typeof n=="string"||typeof n=="number"||typeof n=="object"&&Kt(n,".sv"),"Priority must be a string or number.")}else F(e===Rh||e.isEmpty(),"priority of unexpected type.");F(e===Rh||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xy,oo=function(){function e(n,r){r===void 0&&(r=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=n,this.priorityNode_=r,this.lazyHash_=null,F(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Vb(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return Xy},set:function(n){Xy=n},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(n){return new e(this.value_,n)},e.prototype.getImmediateChild=function(n){return n===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(n){return ge(n)?this:ve(n)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(n,r){return null},e.prototype.updateImmediateChild=function(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(n,r){var o=ve(n);return o===null?r:r.isEmpty()&&o!==".priority"?this:(F(o!==".priority"||Ir(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(o,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ue(n),r)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(n,r){return!1},e.prototype.val=function(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(this.lazyHash_===null){var n="";this.priorityNode_.isEmpty()||(n+="priority:"+Ub(this.priorityNode_.val())+":");var r=typeof this.value_;n+=r+":",r==="number"?n+=mb(this.value_):n+=this.value_,this.lazyHash_=pb(n)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(n){return n===e.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof e.__childrenNodeConstructor?-1:(F(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))},e.prototype.compareToLeafNode_=function(n){var r=typeof n.value_,o=typeof this.value_,s=e.VALUE_TYPE_ORDER.indexOf(r),u=e.VALUE_TYPE_ORDER.indexOf(o);return F(s>=0,"Unknown leaf type: "+r),F(u>=0,"Unknown leaf type: "+o),s===u?o==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:u-s},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(n){if(n===this)return!0;if(n.isLeafNode()){var r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bb,Wb;function rP(e){Bb=e}function iP(e){Wb=e}var oP=function(e){Ye(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype.compare=function(r,o){var s=r.node.getPriority(),u=o.node.getPriority(),l=s.compareTo(u);return l===0?gi(r.name,o.name):l},n.prototype.isDefinedOn=function(r){return!r.getPriority().isEmpty()},n.prototype.indexedValueChanged=function(r,o){return!r.getPriority().equals(o.getPriority())},n.prototype.minPost=function(){return _e.MIN},n.prototype.maxPost=function(){return new _e(Mn,new oo("[PRIORITY-POST]",Wb))},n.prototype.makePost=function(r,o){var s=Bb(r);return new _e(o,new oo("[PRIORITY-POST]",s))},n.prototype.toString=function(){return".priority"},n}(Xu),Be=new oP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sP=Math.log(2),aP=function(){function e(n){var r=function(u){return parseInt(Math.log(u)/sP,10)},o=function(u){return parseInt(Array(u+1).join("1"),2)};this.count=r(n+1),this.current_=this.count-1;var s=o(this.count);this.bits_=n+1&s}return e.prototype.nextBitIsOne=function(){var n=!(this.bits_&1<<this.current_);return this.current_--,n},e}(),Au=function(e,n,r,o){e.sort(n);var s=function(f,p){var v=p-f,y,_;if(v===0)return null;if(v===1)return y=e[f],_=r?r(y):y,new vn(_,y.node,vn.BLACK,null,null);var w=parseInt(v/2,10)+f,C=s(f,w),R=s(w+1,p);return y=e[w],_=r?r(y):y,new vn(_,y.node,vn.BLACK,C,R)},u=function(f){for(var p=null,v=null,y=e.length,_=function(k,U){var J=y-k,se=y;y-=k;var Ae=s(J+1,se),G=e[J],ae=r?r(G):G;w(new vn(ae,G.node,U,null,Ae))},w=function(k){p?(p.left=k,p=k):(v=k,p=k)},C=0;C<f.count;++C){var R=f.nextBitIsOne(),S=Math.pow(2,f.count-(C+1));R?_(S,vn.BLACK):(_(S,vn.BLACK),_(S,vn.RED))}return v},l=new aP(e.length),h=u(l);return new zn(o||n,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nh,Gi={},Nu=function(){function e(n,r){this.indexes_=n,this.indexSet_=r}return Object.defineProperty(e,"Default",{get:function(){return F(Gi&&Be,"ChildrenNode.ts has not been loaded"),nh=nh||new e({".priority":Gi},{".priority":Be}),nh},enumerable:!1,configurable:!0}),e.prototype.get=function(n){var r=di(this.indexes_,n);if(!r)throw new Error("No index defined for "+n);return r instanceof zn?r:null},e.prototype.hasIndex=function(n){return Kt(this.indexSet_,n.toString())},e.prototype.addIndex=function(n,r){F(n!==On,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var o=[],s=!1,u=r.getIterator(_e.Wrap),l=u.getNext();l;)s=s||n.isDefinedOn(l.node),o.push(l),l=u.getNext();var h;s?h=Au(o,n.getCompare()):h=Gi;var f=n.toString(),p=br({},this.indexSet_);p[f]=n;var v=br({},this.indexes_);return v[f]=h,new e(v,p)},e.prototype.addToIndexes=function(n,r){var o=this,s=Eu(this.indexes_,function(u,l){var h=di(o.indexSet_,l);if(F(h,"Missing index implementation for "+l),u===Gi)if(h.isDefinedOn(n.node)){for(var f=[],p=r.getIterator(_e.Wrap),v=p.getNext();v;)v.name!==n.name&&f.push(v),v=p.getNext();return f.push(n),Au(f,h.getCompare())}else return Gi;else{var y=r.get(n.name),_=u;return y&&(_=_.remove(new _e(n.name,y))),_.insert(n,n.node)}});return new e(s,this.indexSet_)},e.prototype.removeFromIndexes=function(n,r){var o=Eu(this.indexes_,function(s){if(s===Gi)return s;var u=r.get(n.name);return u?s.remove(new _e(n.name,u)):s});return new e(o,this.indexSet_)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ls,le=function(){function e(n,r,o){this.children_=n,this.priorityNode_=r,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&Vb(this.priorityNode_),this.children_.isEmpty()&&F(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return ls||(ls=new e(new zn(Pd),null,Nu.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||ls},e.prototype.updatePriority=function(n){return this.children_.isEmpty()?this:new e(this.children_,n,this.indexMap_)},e.prototype.getImmediateChild=function(n){if(n===".priority")return this.getPriority();var r=this.children_.get(n);return r===null?ls:r},e.prototype.getChild=function(n){var r=ve(n);return r===null?this:this.getImmediateChild(r).getChild(Ue(n))},e.prototype.hasChild=function(n){return this.children_.get(n)!==null},e.prototype.updateImmediateChild=function(n,r){if(F(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);var o=new _e(n,r),s=void 0,u=void 0;r.isEmpty()?(s=this.children_.remove(n),u=this.indexMap_.removeFromIndexes(o,this.children_)):(s=this.children_.insert(n,r),u=this.indexMap_.addToIndexes(o,this.children_));var l=s.isEmpty()?ls:this.priorityNode_;return new e(s,l,u)},e.prototype.updateChild=function(n,r){var o=ve(n);if(o===null)return r;F(ve(n)!==".priority"||Ir(n)===1,".priority must be the last token in a path");var s=this.getImmediateChild(o).updateChild(Ue(n),r);return this.updateImmediateChild(o,s)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(n){if(this.isEmpty())return null;var r={},o=0,s=0,u=!0;if(this.forEachChild(Be,function(f,p){r[f]=p.val(n),o++,u&&e.INTEGER_REGEXP_.test(f)?s=Math.max(s,Number(f)):u=!1}),!n&&u&&s<2*o){var l=[];for(var h in r)l[h]=r[h];return l}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r},e.prototype.hash=function(){if(this.lazyHash_===null){var n="";this.getPriority().isEmpty()||(n+="priority:"+Ub(this.getPriority().val())+":"),this.forEachChild(Be,function(r,o){var s=o.hash();s!==""&&(n+=":"+r+":"+s)}),this.lazyHash_=n===""?"":pb(n)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(n,r,o){var s=this.resolveIndex_(o);if(s){var u=s.getPredecessorKey(new _e(n,r));return u?u.name:null}else return this.children_.getPredecessorKey(n)},e.prototype.getFirstChildName=function(n){var r=this.resolveIndex_(n);if(r){var o=r.minKey();return o&&o.name}else return this.children_.minKey()},e.prototype.getFirstChild=function(n){var r=this.getFirstChildName(n);return r?new _e(r,this.children_.get(r)):null},e.prototype.getLastChildName=function(n){var r=this.resolveIndex_(n);if(r){var o=r.maxKey();return o&&o.name}else return this.children_.maxKey()},e.prototype.getLastChild=function(n){var r=this.getLastChildName(n);return r?new _e(r,this.children_.get(r)):null},e.prototype.forEachChild=function(n,r){var o=this.resolveIndex_(n);return o?o.inorderTraversal(function(s){return r(s.name,s.node)}):this.children_.inorderTraversal(r)},e.prototype.getIterator=function(n){return this.getIteratorFrom(n.minPost(),n)},e.prototype.getIteratorFrom=function(n,r){var o=this.resolveIndex_(r);if(o)return o.getIteratorFrom(n,function(l){return l});for(var s=this.children_.getIteratorFrom(n.name,_e.Wrap),u=s.peek();u!=null&&r.compare(u,n)<0;)s.getNext(),u=s.peek();return s},e.prototype.getReverseIterator=function(n){return this.getReverseIteratorFrom(n.maxPost(),n)},e.prototype.getReverseIteratorFrom=function(n,r){var o=this.resolveIndex_(r);if(o)return o.getReverseIteratorFrom(n,function(l){return l});for(var s=this.children_.getReverseIteratorFrom(n.name,_e.Wrap),u=s.peek();u!=null&&r.compare(u,n)>0;)s.getNext(),u=s.peek();return s},e.prototype.compareTo=function(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===zs?-1:0},e.prototype.withIndex=function(n){if(n===On||this.indexMap_.hasIndex(n))return this;var r=this.indexMap_.addIndex(n,this.children_);return new e(this.children_,this.priorityNode_,r)},e.prototype.isIndexed=function(n){return n===On||this.indexMap_.hasIndex(n)},e.prototype.equals=function(n){if(n===this)return!0;if(n.isLeafNode())return!1;var r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){for(var o=this.getIterator(Be),s=r.getIterator(Be),u=o.getNext(),l=s.getNext();u&&l;){if(u.name!==l.name||!u.node.equals(l.node))return!1;u=o.getNext(),l=s.getNext()}return u===null&&l===null}else return!1;else return!1},e.prototype.resolveIndex_=function(n){return n===On?null:this.indexMap_.get(n.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),uP=function(e){Ye(n,e);function n(){return e.call(this,new zn(Pd),le.EMPTY_NODE,Nu.Default)||this}return n.prototype.compareTo=function(r){return r===this?0:1},n.prototype.equals=function(r){return r===this},n.prototype.getPriority=function(){return this},n.prototype.getImmediateChild=function(r){return le.EMPTY_NODE},n.prototype.isEmpty=function(){return!1},n}(le),zs=new uP;Object.defineProperties(_e,{MIN:{value:new _e(Qn,le.EMPTY_NODE)},MAX:{value:new _e(Mn,zs)}});jb.__EMPTY_NODE=le.EMPTY_NODE;oo.__childrenNodeConstructor=le;nP(zs);iP(zs);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lP=!0;function $e(e,n){if(n===void 0&&(n=null),e===null)return le.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(n=e[".priority"]),F(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){var r=e;return new oo(r,$e(n))}if(!(e instanceof Array)&&lP){var o=[],s=!1,u=e;if(st(u,function(p,v){if(p.substring(0,1)!=="."){var y=$e(v);y.isEmpty()||(s=s||!y.getPriority().isEmpty(),o.push(new _e(p,y)))}}),o.length===0)return le.EMPTY_NODE;var l=Au(o,tP,function(p){return p.name},Pd);if(s){var h=Au(o,Be.getCompare());return new le(l,$e(n),new Nu({".priority":h},{".priority":Be}))}else return new le(l,$e(n),Nu.Default)}else{var f=le.EMPTY_NODE;return st(e,function(p,v){if(Kt(e,p)&&p.substring(0,1)!=="."){var y=$e(v);(y.isLeafNode()||!y.isEmpty())&&(f=f.updateImmediateChild(p,y))}}),f.updatePriority($e(n))}}rP($e);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Od=function(e){Ye(n,e);function n(r){var o=e.call(this)||this;return o.indexPath_=r,F(!ge(r)&&ve(r)!==".priority","Can't create PathIndex with empty path or .priority key"),o}return n.prototype.extractChild=function(r){return r.getChild(this.indexPath_)},n.prototype.isDefinedOn=function(r){return!r.getChild(this.indexPath_).isEmpty()},n.prototype.compare=function(r,o){var s=this.extractChild(r.node),u=this.extractChild(o.node),l=s.compareTo(u);return l===0?gi(r.name,o.name):l},n.prototype.makePost=function(r,o){var s=$e(r),u=le.EMPTY_NODE.updateChild(this.indexPath_,s);return new _e(o,u)},n.prototype.maxPost=function(){var r=le.EMPTY_NODE.updateChild(this.indexPath_,zs);return new _e(Mn,r)},n.prototype.toString=function(){return Fs(this.indexPath_,0).join("/")},n}(Xu);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cP=function(e){Ye(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype.compare=function(r,o){var s=r.node.compareTo(o.node);return s===0?gi(r.name,o.name):s},n.prototype.isDefinedOn=function(r){return!0},n.prototype.indexedValueChanged=function(r,o){return!r.equals(o)},n.prototype.minPost=function(){return _e.MIN},n.prototype.maxPost=function(){return _e.MAX},n.prototype.makePost=function(r,o){var s=$e(r);return new _e(o,s)},n.prototype.toString=function(){return".value"},n}(Xu),xd=new cP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var so="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",kh="-",Hb="z",Gb=786,fP=function(){var e=0,n=[];return function(r){var o=r===e;e=r;var s,u=new Array(8);for(s=7;s>=0;s--)u[s]=so.charAt(r%64),r=Math.floor(r/64);F(r===0,"Cannot push at time == 0");var l=u.join("");if(o){for(s=11;s>=0&&n[s]===63;s--)n[s]=0;n[s]++}else for(s=0;s<12;s++)n[s]=Math.floor(Math.random()*64);for(s=0;s<12;s++)l+=so.charAt(n[s]);return F(l.length===20,"nextPushId: Length should be 20."),l}}(),Jy=function(e){if(e===""+Td)return kh;var n=Cu(e);if(n!=null)return""+(n+1);for(var r=new Array(e.length),o=0;o<r.length;o++)r[o]=e.charAt(o);if(r.length<Gb)return r.push(kh),r.join("");for(var s=r.length-1;s>=0&&r[s]===Hb;)s--;if(s===-1)return Mn;var u=r[s],l=so.charAt(so.indexOf(u)+1);return r[s]=l,r.slice(0,s+1).join("")},Zy=function(e){if(e===""+yb)return Qn;var n=Cu(e);if(n!=null)return""+(n-1);for(var r=new Array(e.length),o=0;o<r.length;o++)r[o]=e.charAt(o);return r[r.length-1]===kh?r.length===1?""+Td:(delete r[r.length-1],r.join("")):(r[r.length-1]=so.charAt(so.indexOf(r[r.length-1])-1),r.join("")+Hb.repeat(Gb-r.length))};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(e){return{type:"value",snapshotNode:e}}function ao(e,n){return{type:"child_added",snapshotNode:n,childName:e}}function js(e,n){return{type:"child_removed",snapshotNode:n,childName:e}}function Us(e,n,r){return{type:"child_changed",snapshotNode:n,childName:e,oldSnap:r}}function hP(e,n){return{type:"child_moved",snapshotNode:n,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dd=function(){function e(n){this.index_=n}return e.prototype.updateChild=function(n,r,o,s,u,l){F(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");var h=n.getImmediateChild(r);return h.getChild(s).equals(o.getChild(s))&&h.isEmpty()===o.isEmpty()||(l!=null&&(o.isEmpty()?n.hasChild(r)?l.trackChildChange(js(r,h)):F(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?l.trackChildChange(ao(r,o)):l.trackChildChange(Us(r,o,h))),n.isLeafNode()&&o.isEmpty())?n:n.updateImmediateChild(r,o).withIndex(this.index_)},e.prototype.updateFullNode=function(n,r,o){return o!=null&&(n.isLeafNode()||n.forEachChild(Be,function(s,u){r.hasChild(s)||o.trackChildChange(js(s,u))}),r.isLeafNode()||r.forEachChild(Be,function(s,u){if(n.hasChild(s)){var l=n.getImmediateChild(s);l.equals(u)||o.trackChildChange(Us(s,u,l))}else o.trackChildChange(ao(s,u))})),r.withIndex(this.index_)},e.prototype.updatePriority=function(n,r){return n.isEmpty()?le.EMPTY_NODE:n.updatePriority(r)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qb=function(){function e(n){this.indexedFilter_=new Dd(n.getIndex()),this.index_=n.getIndex(),this.startPost_=e.getStartPost_(n),this.endPost_=e.getEndPost_(n)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(n){return this.index_.compare(this.getStartPost(),n)<=0&&this.index_.compare(n,this.getEndPost())<=0},e.prototype.updateChild=function(n,r,o,s,u,l){return this.matches(new _e(r,o))||(o=le.EMPTY_NODE),this.indexedFilter_.updateChild(n,r,o,s,u,l)},e.prototype.updateFullNode=function(n,r,o){r.isLeafNode()&&(r=le.EMPTY_NODE);var s=r.withIndex(this.index_);s=s.updatePriority(le.EMPTY_NODE);var u=this;return r.forEachChild(Be,function(l,h){u.matches(new _e(l,h))||(s=s.updateImmediateChild(l,le.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,s,o)},e.prototype.updatePriority=function(n,r){return n},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(n){if(n.hasStart()){var r=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),r)}else return n.getIndex().minPost()},e.getEndPost_=function(n){if(n.hasEnd()){var r=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),r)}else return n.getIndex().maxPost()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dP=function(){function e(n){this.rangedFilter_=new qb(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft()}return e.prototype.updateChild=function(n,r,o,s,u,l){return this.rangedFilter_.matches(new _e(r,o))||(o=le.EMPTY_NODE),n.getImmediateChild(r).equals(o)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,r,o,s,u,l):this.fullLimitUpdateChild_(n,r,o,u,l)},e.prototype.updateFullNode=function(n,r,o){var s;if(r.isLeafNode()||r.isEmpty())s=le.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<r.numChildren()&&r.isIndexed(this.index_)){s=le.EMPTY_NODE.withIndex(this.index_);var u=void 0;this.reverse_?u=r.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=r.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var l=0;u.hasNext()&&l<this.limit_;){var h=u.getNext(),f=void 0;if(this.reverse_?f=this.index_.compare(this.rangedFilter_.getStartPost(),h)<=0:f=this.index_.compare(h,this.rangedFilter_.getEndPost())<=0,f)s=s.updateImmediateChild(h.name,h.node),l++;else break}}else{s=r.withIndex(this.index_),s=s.updatePriority(le.EMPTY_NODE);var p=void 0,v=void 0,y=void 0,u=void 0;if(this.reverse_){u=s.getReverseIterator(this.index_),p=this.rangedFilter_.getEndPost(),v=this.rangedFilter_.getStartPost();var _=this.index_.getCompare();y=function(S,k){return _(k,S)}}else u=s.getIterator(this.index_),p=this.rangedFilter_.getStartPost(),v=this.rangedFilter_.getEndPost(),y=this.index_.getCompare();for(var l=0,w=!1;u.hasNext();){var h=u.getNext();!w&&y(p,h)<=0&&(w=!0);var f=w&&l<this.limit_&&y(h,v)<=0;f?l++:s=s.updateImmediateChild(h.name,le.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,s,o)},e.prototype.updatePriority=function(n,r){return n},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(n,r,o,s,u){var l;if(this.reverse_){var h=this.index_.getCompare();l=function(U,J){return h(J,U)}}else l=this.index_.getCompare();var f=n;F(f.numChildren()===this.limit_,"");var p=new _e(r,o),v=this.reverse_?f.getFirstChild(this.index_):f.getLastChild(this.index_),y=this.rangedFilter_.matches(p);if(f.hasChild(r)){for(var _=f.getImmediateChild(r),w=s.getChildAfterChild(this.index_,v,this.reverse_);w!=null&&(w.name===r||f.hasChild(w.name));)w=s.getChildAfterChild(this.index_,w,this.reverse_);var C=w==null?1:l(w,p),R=y&&!o.isEmpty()&&C>=0;if(R)return u!=null&&u.trackChildChange(Us(r,o,_)),f.updateImmediateChild(r,o);u!=null&&u.trackChildChange(js(r,_));var S=f.updateImmediateChild(r,le.EMPTY_NODE),k=w!=null&&this.rangedFilter_.matches(w);return k?(u!=null&&u.trackChildChange(ao(w.name,w.node)),S.updateImmediateChild(w.name,w.node)):S}else return o.isEmpty()?n:y&&l(v,p)>=0?(u!=null&&(u.trackChildChange(js(v.name,v.node)),u.trackChildChange(ao(r,o))),f.updateImmediateChild(r,o).updateImmediateChild(v.name,le.EMPTY_NODE)):n},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zb=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Be}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"},e.prototype.getIndexStartValue=function(){return F(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return F(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Qn},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return F(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return F(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Mn},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&this.viewFrom_!==""},e.prototype.getLimit=function(){return F(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Be},e.prototype.copy=function(){var n=new e;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n},e}();function pP(e){return e.loadsAllData()?new Dd(e.getIndex()):e.hasLimit()?new dP(e):new qb(e)}function vP(e,n){var r=e.copy();return r.limitSet_=!0,r.limit_=n,r.viewFrom_="l",r}function gP(e,n){var r=e.copy();return r.limitSet_=!0,r.limit_=n,r.viewFrom_="r",r}function Ph(e,n,r){var o=e.copy();return o.startSet_=!0,n===void 0&&(n=null),o.indexStartValue_=n,r!=null?(o.startNameSet_=!0,o.indexStartName_=r):(o.startNameSet_=!1,o.indexStartName_=""),o}function mP(e,n,r){var o;if(e.index_===On)typeof n=="string"&&(n=Jy(n)),o=Ph(e,n,r);else{var s=void 0;r==null?s=Mn:s=Jy(r),o=Ph(e,n,s)}return o.startAfterSet_=!0,o}function Oh(e,n,r){var o=e.copy();return o.endSet_=!0,n===void 0&&(n=null),o.indexEndValue_=n,r!==void 0?(o.endNameSet_=!0,o.indexEndName_=r):(o.endNameSet_=!1,o.indexEndName_=""),o}function yP(e,n,r){var o,s;return e.index_===On?(typeof n=="string"&&(n=Zy(n)),s=Oh(e,n,r)):(r==null?o=Qn:o=Zy(r),s=Oh(e,n,o)),s.endBeforeSet_=!0,s}function Ju(e,n){var r=e.copy();return r.index_=n,r}function e_(e){var n={};if(e.isDefault())return n;var r;return e.index_===Be?r="$priority":e.index_===xd?r="$value":e.index_===On?r="$key":(F(e.index_ instanceof Od,"Unrecognized index type!"),r=e.index_.toString()),n.orderBy=it(r),e.startSet_&&(n.startAt=it(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+it(e.indexStartName_))),e.endSet_&&(n.endAt=it(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+it(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n}function t_(e){var n={};if(e.startSet_&&(n.sp=e.indexStartValue_,e.startNameSet_&&(n.sn=e.indexStartName_)),e.endSet_&&(n.ep=e.indexEndValue_,e.endNameSet_&&(n.en=e.indexEndName_)),e.limitSet_){n.l=e.limit_;var r=e.viewFrom_;r===""&&(e.isViewFromLeft()?r="l":r="r"),n.vf=r}return e.index_!==Be&&(n.i=e.index_.toString()),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _P=function(e){Ye(n,e);function n(r,o,s,u){var l=e.call(this)||this;return l.repoInfo_=r,l.onDataUpdate_=o,l.authTokenProvider_=s,l.appCheckTokenProvider_=u,l.log_=qs("p:rest:"),l.listens_={},l}return n.prototype.reportStats=function(r){throw new Error("Method not implemented.")},n.getListenId_=function(r,o){return o!==void 0?"tag$"+o:(F(r._queryParams.isDefault(),"should have a tag if it's not a default query."),r._path.toString())},n.prototype.listen=function(r,o,s,u){var l=this,h=r._path.toString();this.log_("Listen called for "+h+" "+r._queryIdentifier);var f=n.getListenId_(r,s),p={};this.listens_[f]=p;var v=e_(r._queryParams);this.restRequest_(h+".json",v,function(y,_){var w=_;if(y===404&&(w=null,y=null),y===null&&l.onDataUpdate_(h,w,!1,s),di(l.listens_,f)===p){var C;y?y===401?C="permission_denied":C="rest_error:"+y:C="ok",u(C,null)}})},n.prototype.unlisten=function(r,o){var s=n.getListenId_(r,o);delete this.listens_[s]},n.prototype.get=function(r){var o=this,s=e_(r._queryParams),u=r._path.toString(),l=new xt;return this.restRequest_(u+".json",s,function(h,f){var p=f;h===404&&(p=null,h=null),h===null?(o.onDataUpdate_(u,p,!1,null),l.resolve(p)):l.reject(new Error(p))}),l.promise},n.prototype.refreshAuthToken=function(r){},n.prototype.restRequest_=function(r,o,s){var u=this;return o===void 0&&(o={}),o.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(l){var h=Ct(l,2),f=h[0],p=h[1];f&&f.accessToken&&(o.auth=f.accessToken),p&&p.token&&(o.ac=p.token);var v=(u.repoInfo_.secure?"https://":"http://")+u.repoInfo_.host+r+"?ns="+u.repoInfo_.namespace+yN(o);u.log_("Sending REST request for "+v);var y=new XMLHttpRequest;y.onreadystatechange=function(){if(s&&y.readyState===4){u.log_("REST Response for "+v+" received. status:",y.status,"response:",y.responseText);var _=null;if(y.status>=200&&y.status<300){try{_=Ls(y.responseText)}catch{vt("Failed to parse JSON response for "+v+": "+y.responseText)}s(null,_)}else y.status!==401&&y.status!==404&&vt("Got unsuccessful REST response for "+v+" Status: "+y.status),s(y.status);s=null}},y.open("GET",v,!0),y.send()})},n}(Db);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wP=function(){function e(){this.rootNode_=le.EMPTY_NODE}return e.prototype.getNode=function(n){return this.rootNode_.getChild(n)},e.prototype.updateSnapshot=function(n,r){this.rootNode_=this.rootNode_.updateChild(n,r)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(){return{value:null,children:new Map}}function yo(e,n,r){if(ge(n))e.value=r,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(n,r);else{var o=ve(n);e.children.has(o)||e.children.set(o,Ru());var s=e.children.get(o);n=Ue(n),yo(s,n,r)}}function xh(e,n){if(ge(n))return e.value=null,e.children.clear(),!0;if(e.value!==null){if(e.value.isLeafNode())return!1;var r=e.value;return e.value=null,r.forEachChild(Be,function(u,l){yo(e,new Se(u),l)}),xh(e,n)}else if(e.children.size>0){var o=ve(n);if(n=Ue(n),e.children.has(o)){var s=xh(e.children.get(o),n);s&&e.children.delete(o)}return e.children.size===0}else return!0}function Dh(e,n,r){e.value!==null?r(n,e.value):bP(e,function(o,s){var u=new Se(n.toString()+"/"+o);Dh(s,u,r)})}function bP(e,n){e.children.forEach(function(r,o){n(o,r)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $b=function(){function e(n){this.collection_=n,this.last_=null}return e.prototype.get=function(){var n=this.collection_.get(),r=br({},n);return this.last_&&st(this.last_,function(o,s){r[o]=r[o]-s}),this.last_=n,r},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var n_=10*1e3,EP=30*1e3,IP=5*60*1e3,TP=function(){function e(n,r){this.server_=r,this.statsToReport_={},this.statsListener_=new $b(n);var o=n_+(EP-n_)*Math.random();_s(this.reportStats_.bind(this),Math.floor(o))}return e.prototype.reportStats_=function(){var n=this,r=this.statsListener_.get(),o={},s=!1;st(r,function(u,l){l>0&&Kt(n.statsToReport_,u)&&(o[u]=l,s=!0)}),s&&this.server_.reportStats(o),_s(this.reportStats_.bind(this),Math.floor(Math.random()*2*IP))},e}();function CP(e,n){e.statsToReport_[n]=!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mn;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(mn||(mn={}));function Ld(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Md(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Fd(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SP=function(){function e(n,r,o){this.path=n,this.affectedTree=r,this.revert=o,this.type=mn.ACK_USER_WRITE,this.source=Ld()}return e.prototype.operationForChild=function(n){if(ge(this.path)){if(this.affectedTree.value!=null)return F(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var r=this.affectedTree.subtree(new Se(n));return new e(Ie(),r,this.revert)}else return F(ve(this.path)===n,"operationForChild called for unrelated child."),new e(Ue(this.path),this.affectedTree,this.revert)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yb=function(){function e(n,r){this.source=n,this.path=r,this.type=mn.LISTEN_COMPLETE}return e.prototype.operationForChild=function(n){return ge(this.path)?new e(this.source,Ie()):new e(this.source,Ue(this.path))},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zu=function(){function e(n,r,o){this.source=n,this.path=r,this.snap=o,this.type=mn.OVERWRITE}return e.prototype.operationForChild=function(n){return ge(this.path)?new e(this.source,Ie(),this.snap.getImmediateChild(n)):new e(this.source,Ue(this.path),this.snap)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jd=function(){function e(n,r,o){this.source=n,this.path=r,this.children=o,this.type=mn.MERGE}return e.prototype.operationForChild=function(n){if(ge(this.path)){var r=this.children.subtree(new Se(n));return r.isEmpty()?null:r.value?new Zu(this.source,Ie(),r.value):new e(this.source,Ie(),r)}else return F(ve(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new e(this.source,Ue(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tr=function(){function e(n,r,o){this.node_=n,this.fullyInitialized_=r,this.filtered_=o}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(n){if(ge(n))return this.isFullyInitialized()&&!this.filtered_;var r=ve(n);return this.isCompleteForChild(r)},e.prototype.isCompleteForChild=function(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)},e.prototype.getNode=function(){return this.node_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AP=function(){function e(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}return e}();function NP(e,n,r,o){var s=[],u=[];return n.forEach(function(l){l.type==="child_changed"&&e.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&u.push(hP(l.childName,l.snapshotNode))}),cs(e,s,"child_removed",n,o,r),cs(e,s,"child_added",n,o,r),cs(e,s,"child_moved",u,o,r),cs(e,s,"child_changed",n,o,r),cs(e,s,"value",n,o,r),s}function cs(e,n,r,o,s,u){var l=o.filter(function(h){return h.type===r});l.sort(function(h,f){return kP(e,h,f)}),l.forEach(function(h){var f=RP(e,h,u);s.forEach(function(p){p.respondsTo(h.type)&&n.push(p.createEvent(f,e.query_))})})}function RP(e,n,r){return n.type==="value"||n.type==="child_removed"||(n.prevName=r.getPredecessorChildName(n.childName,n.snapshotNode,e.index_)),n}function kP(e,n,r){if(n.childName==null||r.childName==null)throw vo("Should only compare child_ events.");var o=new _e(n.childName,n.snapshotNode),s=new _e(r.childName,r.snapshotNode);return e.index_.compare(o,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(e,n){return{eventCache:e,serverCache:n}}function bs(e,n,r,o){return el(new Tr(n,r,o),e.serverCache)}function Qb(e,n,r,o){return el(e.eventCache,new Tr(n,r,o))}function ku(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function pi(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rh,PP=function(){return rh||(rh=new zn(uk)),rh},qt=function(){function e(n,r){r===void 0&&(r=PP()),this.value=n,this.children=r}return e.fromObject=function(n){var r=new e(null);return st(n,function(o,s){r=r.set(new Se(o),s)}),r},e.prototype.isEmpty=function(){return this.value===null&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(n,r){if(this.value!=null&&r(this.value))return{path:Ie(),value:this.value};if(ge(n))return null;var o=ve(n),s=this.children.get(o);if(s!==null){var u=s.findRootMostMatchingPathAndValue(Ue(n),r);if(u!=null){var l=qe(new Se(o),u.path);return{path:l,value:u.value}}else return null}else return null},e.prototype.findRootMostValueAndPath=function(n){return this.findRootMostMatchingPathAndValue(n,function(){return!0})},e.prototype.subtree=function(n){if(ge(n))return this;var r=ve(n),o=this.children.get(r);return o!==null?o.subtree(Ue(n)):new e(null)},e.prototype.set=function(n,r){if(ge(n))return new e(r,this.children);var o=ve(n),s=this.children.get(o)||new e(null),u=s.set(Ue(n),r),l=this.children.insert(o,u);return new e(this.value,l)},e.prototype.remove=function(n){if(ge(n))return this.children.isEmpty()?new e(null):new e(null,this.children);var r=ve(n),o=this.children.get(r);if(o){var s=o.remove(Ue(n)),u=void 0;return s.isEmpty()?u=this.children.remove(r):u=this.children.insert(r,s),this.value===null&&u.isEmpty()?new e(null):new e(this.value,u)}else return this},e.prototype.get=function(n){if(ge(n))return this.value;var r=ve(n),o=this.children.get(r);return o?o.get(Ue(n)):null},e.prototype.setTree=function(n,r){if(ge(n))return r;var o=ve(n),s=this.children.get(o)||new e(null),u=s.setTree(Ue(n),r),l=void 0;return u.isEmpty()?l=this.children.remove(o):l=this.children.insert(o,u),new e(this.value,l)},e.prototype.fold=function(n){return this.fold_(Ie(),n)},e.prototype.fold_=function(n,r){var o={};return this.children.inorderTraversal(function(s,u){o[s]=u.fold_(qe(n,s),r)}),r(n,this.value,o)},e.prototype.findOnPath=function(n,r){return this.findOnPath_(n,Ie(),r)},e.prototype.findOnPath_=function(n,r,o){var s=this.value?o(r,this.value):!1;if(s)return s;if(ge(n))return null;var u=ve(n),l=this.children.get(u);return l?l.findOnPath_(Ue(n),qe(r,u),o):null},e.prototype.foreachOnPath=function(n,r){return this.foreachOnPath_(n,Ie(),r)},e.prototype.foreachOnPath_=function(n,r,o){if(ge(n))return this;this.value&&o(r,this.value);var s=ve(n),u=this.children.get(s);return u?u.foreachOnPath_(Ue(n),qe(r,s),o):new e(null)},e.prototype.foreach=function(n){this.foreach_(Ie(),n)},e.prototype.foreach_=function(n,r){this.children.inorderTraversal(function(o,s){s.foreach_(qe(n,o),r)}),this.value&&r(n,this.value)},e.prototype.foreachChild=function(n){this.children.inorderTraversal(function(r,o){o.value&&n(r,o.value)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $n=function(){function e(n){this.writeTree_=n}return e.empty=function(){return new e(new qt(null))},e}();function Es(e,n,r){if(ge(n))return new $n(new qt(r));var o=e.writeTree_.findRootMostValueAndPath(n);if(o!=null){var s=o.path,u=o.value,l=St(s,n);return u=u.updateChild(l,r),new $n(e.writeTree_.set(s,u))}else{var h=new qt(r),f=e.writeTree_.setTree(n,h);return new $n(f)}}function Lh(e,n,r){var o=e;return st(r,function(s,u){o=Es(o,qe(n,s),u)}),o}function r_(e,n){if(ge(n))return $n.empty();var r=e.writeTree_.setTree(n,new qt(null));return new $n(r)}function Mh(e,n){return mi(e,n)!=null}function mi(e,n){var r=e.writeTree_.findRootMostValueAndPath(n);return r!=null?e.writeTree_.get(r.path).getChild(St(r.path,n)):null}function i_(e){var n=[],r=e.writeTree_.value;return r!=null?r.isLeafNode()||r.forEachChild(Be,function(o,s){n.push(new _e(o,s))}):e.writeTree_.children.inorderTraversal(function(o,s){s.value!=null&&n.push(new _e(o,s.value))}),n}function yr(e,n){if(ge(n))return e;var r=mi(e,n);return r!=null?new $n(new qt(r)):new $n(e.writeTree_.subtree(n))}function Fh(e){return e.writeTree_.isEmpty()}function uo(e,n){return Xb(Ie(),e.writeTree_,n)}function Xb(e,n,r){if(n.value!=null)return r.updateChild(e,n.value);var o=null;return n.children.inorderTraversal(function(s,u){s===".priority"?(F(u.value!==null,"Priority writes must always be leaf nodes"),o=u.value):r=Xb(qe(e,s),u,r)}),!r.getChild(e).isEmpty()&&o!==null&&(r=r.updateChild(qe(e,".priority"),o)),r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tl(e,n){return tE(n,e)}function OP(e,n,r,o,s){F(o>e.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),e.allWrites.push({path:n,snap:r,writeId:o,visible:s}),s&&(e.visibleWrites=Es(e.visibleWrites,n,r)),e.lastWriteId=o}function xP(e,n,r,o){F(o>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:n,children:r,writeId:o,visible:!0}),e.visibleWrites=Lh(e.visibleWrites,n,r),e.lastWriteId=o}function DP(e,n){for(var r=0;r<e.allWrites.length;r++){var o=e.allWrites[r];if(o.writeId===n)return o}return null}function LP(e,n){var r=e.allWrites.findIndex(function(p){return p.writeId===n});F(r>=0,"removeWrite called with nonexistent writeId.");var o=e.allWrites[r];e.allWrites.splice(r,1);for(var s=o.visible,u=!1,l=e.allWrites.length-1;s&&l>=0;){var h=e.allWrites[l];h.visible&&(l>=r&&MP(h,o.path)?s=!1:en(o.path,h.path)&&(u=!0)),l--}if(s){if(u)return FP(e),!0;if(o.snap)e.visibleWrites=r_(e.visibleWrites,o.path);else{var f=o.children;st(f,function(p){e.visibleWrites=r_(e.visibleWrites,qe(o.path,p))})}return!0}else return!1}function MP(e,n){if(e.snap)return en(e.path,n);for(var r in e.children)if(e.children.hasOwnProperty(r)&&en(qe(e.path,r),n))return!0;return!1}function FP(e){e.visibleWrites=Jb(e.allWrites,jP,Ie()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function jP(e){return e.visible}function Jb(e,n,r){for(var o=$n.empty(),s=0;s<e.length;++s){var u=e[s];if(n(u)){var l=u.path,h=void 0;if(u.snap)en(r,l)?(h=St(r,l),o=Es(o,h,u.snap)):en(l,r)&&(h=St(l,r),o=Es(o,Ie(),u.snap.getChild(h)));else if(u.children){if(en(r,l))h=St(r,l),o=Lh(o,h,u.children);else if(en(l,r))if(h=St(l,r),ge(h))o=Lh(o,Ie(),u.children);else{var f=di(u.children,ve(h));if(f){var p=f.getChild(Ue(h));o=Es(o,Ie(),p)}}}else throw vo("WriteRecord should have .snap or .children")}}return o}function Zb(e,n,r,o,s){if(!o&&!s){var u=mi(e.visibleWrites,n);if(u!=null)return u;var l=yr(e.visibleWrites,n);if(Fh(l))return r;if(r==null&&!Mh(l,Ie()))return null;var h=r||le.EMPTY_NODE;return uo(l,h)}else{var f=yr(e.visibleWrites,n);if(!s&&Fh(f))return r;if(!s&&r==null&&!Mh(f,Ie()))return null;var p=function(_){return(_.visible||s)&&(!o||!~o.indexOf(_.writeId))&&(en(_.path,n)||en(n,_.path))},v=Jb(e.allWrites,p,n),h=r||le.EMPTY_NODE;return uo(v,h)}}function UP(e,n,r){var o=le.EMPTY_NODE,s=mi(e.visibleWrites,n);if(s)return s.isLeafNode()||s.forEachChild(Be,function(h,f){o=o.updateImmediateChild(h,f)}),o;if(r){var u=yr(e.visibleWrites,n);return r.forEachChild(Be,function(h,f){var p=uo(yr(u,new Se(h)),f);o=o.updateImmediateChild(h,p)}),i_(u).forEach(function(h){o=o.updateImmediateChild(h.name,h.node)}),o}else{var l=yr(e.visibleWrites,n);return i_(l).forEach(function(h){o=o.updateImmediateChild(h.name,h.node)}),o}}function VP(e,n,r,o,s){F(o||s,"Either existingEventSnap or existingServerSnap must exist");var u=qe(n,r);if(Mh(e.visibleWrites,u))return null;var l=yr(e.visibleWrites,u);return Fh(l)?s.getChild(r):uo(l,s.getChild(r))}function BP(e,n,r,o){var s=qe(n,r),u=mi(e.visibleWrites,s);if(u!=null)return u;if(o.isCompleteForChild(r)){var l=yr(e.visibleWrites,s);return uo(l,o.getNode().getImmediateChild(r))}else return null}function WP(e,n){return mi(e.visibleWrites,n)}function HP(e,n,r,o,s,u,l){var h,f=yr(e.visibleWrites,n),p=mi(f,Ie());if(p!=null)h=p;else if(r!=null)h=uo(f,r);else return[];if(h=h.withIndex(l),!h.isEmpty()&&!h.isLeafNode()){for(var v=[],y=l.getCompare(),_=u?h.getReverseIteratorFrom(o,l):h.getIteratorFrom(o,l),w=_.getNext();w&&v.length<s;)y(w,o)!==0&&v.push(w),w=_.getNext();return v}else return[]}function GP(){return{visibleWrites:$n.empty(),allWrites:[],lastWriteId:-1}}function Pu(e,n,r,o){return Zb(e.writeTree,e.treePath,n,r,o)}function Ud(e,n){return UP(e.writeTree,e.treePath,n)}function o_(e,n,r,o){return VP(e.writeTree,e.treePath,n,r,o)}function Ou(e,n){return WP(e.writeTree,qe(e.treePath,n))}function KP(e,n,r,o,s,u){return HP(e.writeTree,e.treePath,n,r,o,s,u)}function Vd(e,n,r){return BP(e.writeTree,e.treePath,n,r)}function eE(e,n){return tE(qe(e.treePath,n),e.writeTree)}function tE(e,n){return{treePath:e,writeTree:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qP=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(n){var r=n.type,o=n.childName;F(r==="child_added"||r==="child_changed"||r==="child_removed","Only child changes supported for tracking"),F(o!==".priority","Only non-priority child changes can be tracked.");var s=this.changeMap.get(o);if(s){var u=s.type;if(r==="child_added"&&u==="child_removed")this.changeMap.set(o,Us(o,n.snapshotNode,s.snapshotNode));else if(r==="child_removed"&&u==="child_added")this.changeMap.delete(o);else if(r==="child_removed"&&u==="child_changed")this.changeMap.set(o,js(o,s.oldSnap));else if(r==="child_changed"&&u==="child_added")this.changeMap.set(o,ao(o,n.snapshotNode));else if(r==="child_changed"&&u==="child_changed")this.changeMap.set(o,Us(o,n.snapshotNode,s.oldSnap));else throw vo("Illegal combination of changes: "+n+" occurred after "+s)}else this.changeMap.set(o,n)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zP=function(){function e(){}return e.prototype.getCompleteChild=function(n){return null},e.prototype.getChildAfterChild=function(n,r,o){return null},e}(),nE=new zP,Bd=function(){function e(n,r,o){o===void 0&&(o=null),this.writes_=n,this.viewCache_=r,this.optCompleteServerCache_=o}return e.prototype.getCompleteChild=function(n){var r=this.viewCache_.eventCache;if(r.isCompleteForChild(n))return r.getNode().getImmediateChild(n);var o=this.optCompleteServerCache_!=null?new Tr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Vd(this.writes_,n,o)},e.prototype.getChildAfterChild=function(n,r,o){var s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:pi(this.viewCache_),u=KP(this.writes_,s,r,1,o,n);return u.length===0?null:u[0]},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(e){return{filter:e}}function YP(e,n){F(n.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),F(n.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function QP(e,n,r,o,s){var u=new qP,l,h;if(r.type===mn.OVERWRITE){var f=r;f.source.fromUser?l=jh(e,n,f.path,f.snap,o,s,u):(F(f.source.fromServer,"Unknown source."),h=f.source.tagged||n.serverCache.isFiltered()&&!ge(f.path),l=xu(e,n,f.path,f.snap,o,s,h,u))}else if(r.type===mn.MERGE){var p=r;p.source.fromUser?l=JP(e,n,p.path,p.children,o,s,u):(F(p.source.fromServer,"Unknown source."),h=p.source.tagged||n.serverCache.isFiltered(),l=Uh(e,n,p.path,p.children,o,s,h,u))}else if(r.type===mn.ACK_USER_WRITE){var v=r;v.revert?l=tO(e,n,v.path,o,s,u):l=ZP(e,n,v.path,v.affectedTree,o,s,u)}else if(r.type===mn.LISTEN_COMPLETE)l=eO(e,n,r.path,o,u);else throw vo("Unknown operation type: "+r.type);var y=u.getChanges();return XP(n,l,y),{viewCache:l,changes:y}}function XP(e,n,r){var o=n.eventCache;if(o.isFullyInitialized()){var s=o.getNode().isLeafNode()||o.getNode().isEmpty(),u=ku(e);(r.length>0||!e.eventCache.isFullyInitialized()||s&&!o.getNode().equals(u)||!o.getNode().getPriority().equals(u.getPriority()))&&r.push(Kb(ku(n)))}}function rE(e,n,r,o,s,u){var l=n.eventCache;if(Ou(o,r)!=null)return n;var h=void 0,f=void 0;if(ge(r))if(F(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){var p=pi(n),v=p instanceof le?p:le.EMPTY_NODE,y=Ud(o,v);h=e.filter.updateFullNode(n.eventCache.getNode(),y,u)}else{var _=Pu(o,pi(n));h=e.filter.updateFullNode(n.eventCache.getNode(),_,u)}else{var w=ve(r);if(w===".priority"){F(Ir(r)===1,"Can't have a priority with additional path components");var C=l.getNode();f=n.serverCache.getNode();var R=o_(o,r,C,f);R!=null?h=e.filter.updatePriority(C,R):h=l.getNode()}else{var S=Ue(r),k=void 0;if(l.isCompleteForChild(w)){f=n.serverCache.getNode();var U=o_(o,r,l.getNode(),f);U!=null?k=l.getNode().getImmediateChild(w).updateChild(S,U):k=l.getNode().getImmediateChild(w)}else k=Vd(o,w,n.serverCache);k!=null?h=e.filter.updateChild(l.getNode(),w,k,S,s,u):h=l.getNode()}}return bs(n,h,l.isFullyInitialized()||ge(r),e.filter.filtersNodes())}function xu(e,n,r,o,s,u,l,h){var f=n.serverCache,p,v=l?e.filter:e.filter.getIndexedFilter();if(ge(r))p=v.updateFullNode(f.getNode(),o,null);else if(v.filtersNodes()&&!f.isFiltered()){var y=f.getNode().updateChild(r,o);p=v.updateFullNode(f.getNode(),y,null)}else{var _=ve(r);if(!f.isCompleteForPath(r)&&Ir(r)>1)return n;var w=Ue(r),C=f.getNode().getImmediateChild(_),R=C.updateChild(w,o);_===".priority"?p=v.updatePriority(f.getNode(),R):p=v.updateChild(f.getNode(),_,R,w,nE,null)}var S=Qb(n,p,f.isFullyInitialized()||ge(r),v.filtersNodes()),k=new Bd(s,S,u);return rE(e,S,r,s,k,h)}function jh(e,n,r,o,s,u,l){var h=n.eventCache,f,p,v=new Bd(s,n,u);if(ge(r))p=e.filter.updateFullNode(n.eventCache.getNode(),o,l),f=bs(n,p,!0,e.filter.filtersNodes());else{var y=ve(r);if(y===".priority")p=e.filter.updatePriority(n.eventCache.getNode(),o),f=bs(n,p,h.isFullyInitialized(),h.isFiltered());else{var _=Ue(r),w=h.getNode().getImmediateChild(y),C=void 0;if(ge(_))C=o;else{var R=v.getCompleteChild(y);R!=null?Rd(_)===".priority"&&R.getChild(Mb(_)).isEmpty()?C=R:C=R.updateChild(_,o):C=le.EMPTY_NODE}if(w.equals(C))f=n;else{var S=e.filter.updateChild(h.getNode(),y,C,_,v,l);f=bs(n,S,h.isFullyInitialized(),e.filter.filtersNodes())}}}return f}function s_(e,n){return e.eventCache.isCompleteForChild(n)}function JP(e,n,r,o,s,u,l){var h=n;return o.foreach(function(f,p){var v=qe(r,f);s_(n,ve(v))&&(h=jh(e,h,v,p,s,u,l))}),o.foreach(function(f,p){var v=qe(r,f);s_(n,ve(v))||(h=jh(e,h,v,p,s,u,l))}),h}function a_(e,n,r){return r.foreach(function(o,s){n=n.updateChild(o,s)}),n}function Uh(e,n,r,o,s,u,l,h){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;var f=n,p;ge(r)?p=o:p=new qt(null).setTree(r,o);var v=n.serverCache.getNode();return p.children.inorderTraversal(function(y,_){if(v.hasChild(y)){var w=n.serverCache.getNode().getImmediateChild(y),C=a_(e,w,_);f=xu(e,f,new Se(y),C,s,u,l,h)}}),p.children.inorderTraversal(function(y,_){var w=!n.serverCache.isCompleteForChild(y)&&_.value===void 0;if(!v.hasChild(y)&&!w){var C=n.serverCache.getNode().getImmediateChild(y),R=a_(e,C,_);f=xu(e,f,new Se(y),R,s,u,l,h)}}),f}function ZP(e,n,r,o,s,u,l){if(Ou(s,r)!=null)return n;var h=n.serverCache.isFiltered(),f=n.serverCache;if(o.value!=null){if(ge(r)&&f.isFullyInitialized()||f.isCompleteForPath(r))return xu(e,n,r,f.getNode().getChild(r),s,u,h,l);if(ge(r)){var p=new qt(null);return f.getNode().forEachChild(On,function(y,_){p=p.set(new Se(y),_)}),Uh(e,n,r,p,s,u,h,l)}else return n}else{var v=new qt(null);return o.foreach(function(y,_){var w=qe(r,y);f.isCompleteForPath(w)&&(v=v.set(y,f.getNode().getChild(w)))}),Uh(e,n,r,v,s,u,h,l)}}function eO(e,n,r,o,s){var u=n.serverCache,l=Qb(n,u.getNode(),u.isFullyInitialized()||ge(r),u.isFiltered());return rE(e,l,r,o,nE,s)}function tO(e,n,r,o,s,u){var l;if(Ou(o,r)!=null)return n;var h=new Bd(o,n,s),f=n.eventCache.getNode(),p=void 0;if(ge(r)||ve(r)===".priority"){var v=void 0;if(n.serverCache.isFullyInitialized())v=Pu(o,pi(n));else{var y=n.serverCache.getNode();F(y instanceof le,"serverChildren would be complete if leaf node"),v=Ud(o,y)}v=v,p=e.filter.updateFullNode(f,v,u)}else{var _=ve(r),w=Vd(o,_,n.serverCache);w==null&&n.serverCache.isCompleteForChild(_)&&(w=f.getImmediateChild(_)),w!=null?p=e.filter.updateChild(f,_,w,Ue(r),h,u):n.eventCache.getNode().hasChild(_)?p=e.filter.updateChild(f,_,le.EMPTY_NODE,Ue(r),h,u):p=f,p.isEmpty()&&n.serverCache.isFullyInitialized()&&(l=Pu(o,pi(n)),l.isLeafNode()&&(p=e.filter.updateFullNode(p,l,u)))}return l=n.serverCache.isFullyInitialized()||Ou(o,Ie())!=null,bs(n,p,l,e.filter.filtersNodes())}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nO=function(){function e(n,r){this.query_=n,this.eventRegistrations_=[];var o=this.query_._queryParams,s=new Dd(o.getIndex()),u=pP(o);this.processor_=$P(u);var l=r.serverCache,h=r.eventCache,f=s.updateFullNode(le.EMPTY_NODE,l.getNode(),null),p=u.updateFullNode(le.EMPTY_NODE,h.getNode(),null),v=new Tr(f,l.isFullyInitialized(),s.filtersNodes()),y=new Tr(p,h.isFullyInitialized(),u.filtersNodes());this.viewCache_=el(y,v),this.eventGenerator_=new AP(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function rO(e){return e.viewCache_.serverCache.getNode()}function iO(e){return ku(e.viewCache_)}function oO(e,n){var r=pi(e.viewCache_);return r&&(e.query._queryParams.loadsAllData()||!ge(n)&&!r.getImmediateChild(ve(n)).isEmpty())?r.getChild(n):null}function u_(e){return e.eventRegistrations_.length===0}function sO(e,n){e.eventRegistrations_.push(n)}function l_(e,n,r){var o=[];if(r){F(n==null,"A cancel should cancel all event registrations.");var s=e.query._path;e.eventRegistrations_.forEach(function(f){var p=f.createCancelEvent(r,s);p&&o.push(p)})}if(n){for(var u=[],l=0;l<e.eventRegistrations_.length;++l){var h=e.eventRegistrations_[l];if(!h.matches(n))u.push(h);else if(n.hasAnyCallback()){u=u.concat(e.eventRegistrations_.slice(l+1));break}}e.eventRegistrations_=u}else e.eventRegistrations_=[];return o}function c_(e,n,r,o){n.type===mn.MERGE&&n.source.queryId!==null&&(F(pi(e.viewCache_),"We should always have a full cache before handling merges"),F(ku(e.viewCache_),"Missing event cache, even though we have a server cache"));var s=e.viewCache_,u=QP(e.processor_,s,n,r,o);return YP(e.processor_,u.viewCache),F(u.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,iE(e,u.changes,u.viewCache.eventCache.getNode(),null)}function aO(e,n){var r=e.viewCache_.eventCache,o=[];if(!r.getNode().isLeafNode()){var s=r.getNode();s.forEachChild(Be,function(u,l){o.push(ao(u,l))})}return r.isFullyInitialized()&&o.push(Kb(r.getNode())),iE(e,o,r.getNode(),n)}function iE(e,n,r,o){var s=o?[o]:e.eventRegistrations_;return NP(e.eventGenerator_,n,r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Du,oE=function(){function e(){this.views=new Map}return e}();function uO(e){F(!Du,"__referenceConstructor has already been defined"),Du=e}function lO(){return F(Du,"Reference.ts has not been loaded"),Du}function cO(e){return e.views.size===0}function Wd(e,n,r,o){var s,u,l=n.source.queryId;if(l!==null){var h=e.views.get(l);return F(h!=null,"SyncTree gave us an op for an invalid query."),c_(h,n,r,o)}else{var f=[];try{for(var p=Ht(e.views.values()),v=p.next();!v.done;v=p.next()){var h=v.value;f=f.concat(c_(h,n,r,o))}}catch(y){s={error:y}}finally{try{v&&!v.done&&(u=p.return)&&u.call(p)}finally{if(s)throw s.error}}return f}}function sE(e,n,r,o,s){var u=n._queryIdentifier,l=e.views.get(u);if(!l){var h=Pu(r,s?o:null),f=!1;h?f=!0:o instanceof le?(h=Ud(r,o),f=!1):(h=le.EMPTY_NODE,f=!1);var p=el(new Tr(h,f,!1),new Tr(o,s,!1));return new nO(n,p)}return l}function fO(e,n,r,o,s,u){var l=sE(e,n,o,s,u);return e.views.has(n._queryIdentifier)||e.views.set(n._queryIdentifier,l),sO(l,r),aO(l,r)}function hO(e,n,r,o){var s,u,l=n._queryIdentifier,h=[],f=[],p=Cr(e);if(l==="default")try{for(var v=Ht(e.views.entries()),y=v.next();!y.done;y=v.next()){var _=Ct(y.value,2),w=_[0],C=_[1];f=f.concat(l_(C,r,o)),u_(C)&&(e.views.delete(w),C.query._queryParams.loadsAllData()||h.push(C.query))}}catch(R){s={error:R}}finally{try{y&&!y.done&&(u=v.return)&&u.call(v)}finally{if(s)throw s.error}}else{var C=e.views.get(l);C&&(f=f.concat(l_(C,r,o)),u_(C)&&(e.views.delete(l),C.query._queryParams.loadsAllData()||h.push(C.query)))}return p&&!Cr(e)&&h.push(new(lO())(n._repo,n._path)),{removed:h,events:f}}function aE(e){var n,r,o=[];try{for(var s=Ht(e.views.values()),u=s.next();!u.done;u=s.next()){var l=u.value;l.query._queryParams.loadsAllData()||o.push(l)}}catch(h){n={error:h}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return o}function _r(e,n){var r,o,s=null;try{for(var u=Ht(e.views.values()),l=u.next();!l.done;l=u.next()){var h=l.value;s=s||oO(h,n)}}catch(f){r={error:f}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}return s}function uE(e,n){var r=n._queryParams;if(r.loadsAllData())return nl(e);var o=n._queryIdentifier;return e.views.get(o)}function lE(e,n){return uE(e,n)!=null}function Cr(e){return nl(e)!=null}function nl(e){var n,r;try{for(var o=Ht(e.views.values()),s=o.next();!s.done;s=o.next()){var u=s.value;if(u.query._queryParams.loadsAllData())return u}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lu;function dO(e){F(!Lu,"__referenceConstructor has already been defined"),Lu=e}function pO(){return F(Lu,"Reference.ts has not been loaded"),Lu}var vO=1,f_=function(){function e(n){this.listenProvider_=n,this.syncPointTree_=new qt(null),this.pendingWriteTree_=GP(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return e}();function Hd(e,n,r,o,s){return OP(e.pendingWriteTree_,n,r,o,s),s?_o(e,new Zu(Ld(),n,r)):[]}function gO(e,n,r,o){xP(e.pendingWriteTree_,n,r,o);var s=qt.fromObject(r);return _o(e,new jd(Ld(),n,s))}function pr(e,n,r){r===void 0&&(r=!1);var o=DP(e.pendingWriteTree_,n),s=LP(e.pendingWriteTree_,n);if(s){var u=new qt(null);return o.snap!=null?u=u.set(Ie(),!0):st(o.children,function(l){u=u.set(new Se(l),!0)}),_o(e,new SP(o.path,u,r))}else return[]}function $s(e,n,r){return _o(e,new Zu(Md(),n,r))}function mO(e,n,r){var o=qt.fromObject(r);return _o(e,new jd(Md(),n,o))}function yO(e,n){return _o(e,new Yb(Md(),n))}function _O(e,n,r){var o=Gd(e,r);if(o){var s=Kd(o),u=s.path,l=s.queryId,h=St(u,n),f=new Yb(Fd(l),h);return qd(e,u,f)}else return[]}function Vh(e,n,r,o){var s=n._path,u=e.syncPointTree_.get(s),l=[];if(u&&(n._queryIdentifier==="default"||lE(u,n))){var h=hO(u,n,r,o);cO(u)&&(e.syncPointTree_=e.syncPointTree_.remove(s));var f=h.removed;l=h.events;var p=f.findIndex(function(U){return U._queryParams.loadsAllData()})!==-1,v=e.syncPointTree_.findOnPath(s,function(U,J){return Cr(J)});if(p&&!v){var y=e.syncPointTree_.subtree(s);if(!y.isEmpty())for(var _=IO(y),w=0;w<_.length;++w){var C=_[w],R=C.query,S=hE(e,C);e.listenProvider_.startListening(Is(R),Mu(e,R),S.hashFn,S.onComplete)}}if(!v&&f.length>0&&!o)if(p){var k=null;e.listenProvider_.stopListening(Is(n),k)}else f.forEach(function(U){var J=e.queryToTagMap.get(il(U));e.listenProvider_.stopListening(Is(U),J)});TO(e,f)}return l}function wO(e,n,r,o){var s=Gd(e,o);if(s!=null){var u=Kd(s),l=u.path,h=u.queryId,f=St(l,n),p=new Zu(Fd(h),f,r);return qd(e,l,p)}else return[]}function bO(e,n,r,o){var s=Gd(e,o);if(s){var u=Kd(s),l=u.path,h=u.queryId,f=St(l,n),p=qt.fromObject(r),v=new jd(Fd(h),f,p);return qd(e,l,v)}else return[]}function h_(e,n,r){var o=n._path,s=null,u=!1;e.syncPointTree_.foreachOnPath(o,function(R,S){var k=St(R,o);s=s||_r(S,k),u=u||Cr(S)});var l=e.syncPointTree_.get(o);l?(u=u||Cr(l),s=s||_r(l,Ie())):(l=new oE,e.syncPointTree_=e.syncPointTree_.set(o,l));var h;if(s!=null)h=!0;else{h=!1,s=le.EMPTY_NODE;var f=e.syncPointTree_.subtree(o);f.foreachChild(function(R,S){var k=_r(S,Ie());k&&(s=s.updateImmediateChild(R,k))})}var p=lE(l,n);if(!p&&!n._queryParams.loadsAllData()){var v=il(n);F(!e.queryToTagMap.has(v),"View does not exist, but we have a tag");var y=CO();e.queryToTagMap.set(v,y),e.tagToQueryMap.set(y,v)}var _=tl(e.pendingWriteTree_,o),w=fO(l,n,r,_,s,h);if(!p&&!u){var C=uE(l,n);w=w.concat(SO(e,n,C))}return w}function rl(e,n,r){var o=!0,s=e.pendingWriteTree_,u=e.syncPointTree_.findOnPath(n,function(l,h){var f=St(l,n),p=_r(h,f);if(p)return p});return Zb(s,n,u,r,o)}function EO(e,n){var r=n._path,o=null;e.syncPointTree_.foreachOnPath(r,function(p,v){var y=St(p,r);o=o||_r(v,y)});var s=e.syncPointTree_.get(r);s?o=o||_r(s,Ie()):(s=new oE,e.syncPointTree_=e.syncPointTree_.set(r,s));var u=o!=null,l=u?new Tr(o,!0,!1):null,h=tl(e.pendingWriteTree_,n._path),f=sE(s,n,h,u?l.getNode():le.EMPTY_NODE,u);return iO(f)}function _o(e,n){return cE(n,e.syncPointTree_,null,tl(e.pendingWriteTree_,Ie()))}function cE(e,n,r,o){if(ge(e.path))return fE(e,n,r,o);var s=n.get(Ie());r==null&&s!=null&&(r=_r(s,Ie()));var u=[],l=ve(e.path),h=e.operationForChild(l),f=n.children.get(l);if(f&&h){var p=r?r.getImmediateChild(l):null,v=eE(o,l);u=u.concat(cE(h,f,p,v))}return s&&(u=u.concat(Wd(s,e,o,r))),u}function fE(e,n,r,o){var s=n.get(Ie());r==null&&s!=null&&(r=_r(s,Ie()));var u=[];return n.children.inorderTraversal(function(l,h){var f=r?r.getImmediateChild(l):null,p=eE(o,l),v=e.operationForChild(l);v&&(u=u.concat(fE(v,h,f,p)))}),s&&(u=u.concat(Wd(s,e,o,r))),u}function hE(e,n){var r=n.query,o=Mu(e,r);return{hashFn:function(){var s=rO(n)||le.EMPTY_NODE;return s.hash()},onComplete:function(s){if(s==="ok")return o?_O(e,r._path,o):yO(e,r._path);var u=fk(s,r);return Vh(e,r,null,u)}}}function Mu(e,n){var r=il(n);return e.queryToTagMap.get(r)}function il(e){return e._path.toString()+"$"+e._queryIdentifier}function Gd(e,n){return e.tagToQueryMap.get(n)}function Kd(e){var n=e.indexOf("$");return F(n!==-1&&n<e.length-1,"Bad queryKey."),{queryId:e.substr(n+1),path:new Se(e.substr(0,n))}}function qd(e,n,r){var o=e.syncPointTree_.get(n);F(o,"Missing sync point for query tag that we're tracking");var s=tl(e.pendingWriteTree_,n);return Wd(o,r,s,null)}function IO(e){return e.fold(function(n,r,o){if(r&&Cr(r)){var s=nl(r);return[s]}else{var u=[];return r&&(u=aE(r)),st(o,function(l,h){u=u.concat(h)}),u}})}function Is(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(pO())(e._repo,e._path):e}function TO(e,n){for(var r=0;r<n.length;++r){var o=n[r];if(!o._queryParams.loadsAllData()){var s=il(o),u=e.queryToTagMap.get(s);e.queryToTagMap.delete(s),e.tagToQueryMap.delete(u)}}}function CO(){return vO++}function SO(e,n,r){var o=n._path,s=Mu(e,n),u=hE(e,r),l=e.listenProvider_.startListening(Is(n),s,u.hashFn,u.onComplete),h=e.syncPointTree_.subtree(o);if(s)F(!Cr(h.value),"If we're adding a query, it shouldn't be shadowed");else for(var f=h.fold(function(y,_,w){if(!ge(y)&&_&&Cr(_))return[nl(_).query];var C=[];return _&&(C=C.concat(aE(_).map(function(R){return R.query}))),st(w,function(R,S){C=C.concat(S)}),C}),p=0;p<f.length;++p){var v=f[p];e.listenProvider_.stopListening(Is(v),Mu(e,v))}return l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AO=function(){function e(n){this.node_=n}return e.prototype.getImmediateChild=function(n){var r=this.node_.getImmediateChild(n);return new e(r)},e.prototype.node=function(){return this.node_},e}(),NO=function(){function e(n,r){this.syncTree_=n,this.path_=r}return e.prototype.getImmediateChild=function(n){var r=qe(this.path_,n);return new e(this.syncTree_,r)},e.prototype.node=function(){return rl(this.syncTree_,this.path_)},e}(),RO=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},d_=function(e,n,r){if(!e||typeof e!="object")return e;if(F(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return kO(e[".sv"],n,r);if(typeof e[".sv"]=="object")return PO(e[".sv"],n);F(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},kO=function(e,n,r){switch(e){case"timestamp":return r.timestamp;default:F(!1,"Unexpected server value: "+e)}},PO=function(e,n,r){e.hasOwnProperty("increment")||F(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var o=e.increment;typeof o!="number"&&F(!1,"Unexpected increment value: "+o);var s=n.node();if(F(s!==null&&typeof s!="undefined","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return o;var u=s,l=u.getValue();return typeof l!="number"?o:l+o},dE=function(e,n,r,o){return $d(n,new NO(r,e),o)},zd=function(e,n,r){return $d(e,new AO(n),r)};function $d(e,n,r){var o=e.getPriority().val(),s=d_(o,n.getImmediateChild(".priority"),r),u;if(e.isLeafNode()){var l=e,h=d_(l.getValue(),n,r);return h!==l.getValue()||s!==l.getPriority().val()?new oo(h,$e(s)):e}else{var f=e;return u=f,s!==f.getPriority().val()&&(u=u.updatePriority(new oo(s))),f.forEachChild(Be,function(p,v){var y=$d(v,n.getImmediateChild(p),r);y!==v&&(u=u.updateImmediateChild(p,y))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yd=function(){function e(n,r,o){n===void 0&&(n=""),r===void 0&&(r=null),o===void 0&&(o={children:{},childCount:0}),this.name=n,this.parent=r,this.node=o}return e}();function ol(e,n){for(var r=n instanceof Se?n:new Se(n),o=e,s=ve(r);s!==null;){var u=di(o.node.children,s)||{children:{},childCount:0};o=new Yd(s,o,u),r=Ue(r),s=ve(r)}return o}function yi(e){return e.node.value}function Qd(e,n){e.node.value=n,Bh(e)}function pE(e){return e.node.childCount>0}function OO(e){return yi(e)===void 0&&!pE(e)}function sl(e,n){st(e.node.children,function(r,o){n(new Yd(r,e,o))})}function vE(e,n,r,o){r&&!o&&n(e),sl(e,function(s){vE(s,n,!0,o)}),r&&o&&n(e)}function xO(e,n,r){for(var o=r?e:e.parent;o!==null;){if(n(o))return!0;o=o.parent}return!1}function Ys(e){return new Se(e.parent===null?e.name:Ys(e.parent)+"/"+e.name)}function Bh(e){e.parent!==null&&DO(e.parent,e.name,e)}function DO(e,n,r){var o=OO(r),s=Kt(e.node.children,n);o&&s?(delete e.node.children[n],e.node.childCount--,Bh(e)):!o&&!s&&(e.node.children[n]=r.node,e.node.childCount++,Bh(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LO=/[\[\].#$\/\u0000-\u001F\u007F]/,MO=/[\[\].#$\u0000-\u001F\u007F]/,ih=10*1024*1024,al=function(e){return typeof e=="string"&&e.length!==0&&!LO.test(e)},gE=function(e){return typeof e=="string"&&e.length!==0&&!MO.test(e)},FO=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),gE(e)},Vs=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!Qu(e)||e&&typeof e=="object"&&Kt(e,".sv")},Fn=function(e,n,r,o){o&&n===void 0||Qs(Dt(e,"value"),n,r)},Qs=function(e,n,r){var o=r instanceof Se?new Kk(r,e):r;if(n===void 0)throw new Error(e+"contains undefined "+ti(o));if(typeof n=="function")throw new Error(e+"contains a function "+ti(o)+" with contents = "+n.toString());if(Qu(n))throw new Error(e+"contains "+n.toString()+" "+ti(o));if(typeof n=="string"&&n.length>ih/3&&$u(n)>ih)throw new Error(e+"contains a string greater than "+ih+" utf8 bytes "+ti(o)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){var s=!1,u=!1;if(st(n,function(l,h){if(l===".value")s=!0;else if(l!==".priority"&&l!==".sv"&&(u=!0,!al(l)))throw new Error(e+" contains an invalid key ("+l+") "+ti(o)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);qk(o,l),Qs(e,h,o),zk(o)}),s&&u)throw new Error(e+' contains ".value" child '+ti(o)+" in addition to actual children.")}},jO=function(e,n){var r,o;for(r=0;r<n.length;r++){o=n[r];for(var s=Fs(o),u=0;u<s.length;u++)if(!(s[u]===".priority"&&u===s.length-1)){if(!al(s[u]))throw new Error(e+"contains an invalid key ("+s[u]+") in path "+o.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}n.sort(Gk);var l=null;for(r=0;r<n.length;r++){if(o=n[r],l!==null&&en(l,o))throw new Error(e+"contains a path "+l.toString()+" that is ancestor of another path "+o.toString());l=o}},mE=function(e,n,r,o){if(!(o&&n===void 0)){var s=Dt(e,"values");if(!(n&&typeof n=="object")||Array.isArray(n))throw new Error(s+" must be an object containing the children to replace.");var u=[];st(n,function(l,h){var f=new Se(l);if(Qs(s,h,qe(r,f)),Rd(f)===".priority"&&!Vs(h))throw new Error(s+"contains an invalid value for '"+f.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(f)}),jO(s,u)}},Xd=function(e,n,r){if(!(r&&n===void 0)){if(Qu(n))throw new Error(Dt(e,"priority")+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Vs(n))throw new Error(Dt(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},UO=function(e,n,r){if(!(r&&n===void 0))switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Dt(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Xs=function(e,n,r,o){if(!(o&&r===void 0)&&!al(r))throw new Error(Dt(e,n)+'was an invalid key = "'+r+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Bs=function(e,n,r,o){if(!(o&&r===void 0)&&!gE(r))throw new Error(Dt(e,n)+'was an invalid path = "'+r+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},VO=function(e,n,r,o){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),Bs(e,n,r,o)},tn=function(e,n){if(ve(n)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},yE=function(e,n){var r=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!al(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!FO(r))throw new Error(Dt(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)},BO=function(e,n,r,o){if(!(o&&r===void 0)&&typeof r!="boolean")throw new Error(Dt(e,n)+"must be a boolean.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WO=function(){function e(){this.eventLists_=[],this.recursionDepth_=0}return e}();function ul(e,n){for(var r=null,o=0;o<n.length;o++){var s=n[o],u=s.getPath();r!==null&&!kd(u,r.path)&&(e.eventLists_.push(r),r=null),r===null&&(r={events:[],path:u}),r.events.push(s)}r&&e.eventLists_.push(r)}function Jd(e,n,r){ul(e,r),_E(e,function(o){return kd(o,n)})}function rn(e,n,r){ul(e,r),_E(e,function(o){return en(o,n)||en(n,o)})}function _E(e,n){e.recursionDepth_++;for(var r=!0,o=0;o<e.eventLists_.length;o++){var s=e.eventLists_[o];if(s){var u=s.path;n(u)?(HO(e.eventLists_[o]),e.eventLists_[o]=null):r=!1}}r&&(e.eventLists_=[]),e.recursionDepth_--}function HO(e){for(var n=0;n<e.events.length;n++){var r=e.events[n];if(r!==null){e.events[n]=null;var o=r.getEventRunner();fi&&ct("event: "+r.toString()),mo(o)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wE="repo_interrupt",GO=25,KO=function(){function e(n,r,o,s){this.repoInfo_=n,this.forceRestClient_=r,this.authTokenProvider_=o,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new WO,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ru(),this.transactionQueueTree_=new Yd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function qO(e,n,r){if(e.stats_=Ad(e.repoInfo_),e.forceRestClient_||dk())e.server_=new _P(e.repoInfo_,function(o,s,u,l){p_(e,o,s,u,l)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(function(){return v_(e,!0)},0);else{if(typeof r!="undefined"&&r!==null){if(typeof r!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{it(r)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}e.persistentConnection_=new hi(e.repoInfo_,n,function(o,s,u,l){p_(e,o,s,u,l)},function(o){v_(e,o)},function(o){$O(e,o)},e.authTokenProvider_,e.appCheckProvider_,r),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(function(o){e.server_.refreshAuthToken(o)}),e.appCheckProvider_.addTokenChangeListener(function(o){e.server_.refreshAppCheckToken(o.token)}),e.statsReporter_=_k(e.repoInfo_,function(){return new TP(e.stats_,e.server_)}),e.infoData_=new wP,e.infoSyncTree_=new f_({startListening:function(o,s,u,l){var h=[],f=e.infoData_.getNode(o._path);return f.isEmpty()||(h=$s(e.infoSyncTree_,o._path,f),setTimeout(function(){l("ok")},0)),h},stopListening:function(){}}),Zd(e,"connected",!1),e.serverSyncTree_=new f_({startListening:function(o,s,u,l){return e.server_.listen(o,u,s,function(h,f){var p=l(h,f);rn(e.eventQueue_,o._path,p)}),[]},stopListening:function(o,s){e.server_.unlisten(o,s)}})}function bE(e){var n=e.infoData_.getNode(new Se(".info/serverTimeOffset")),r=n.val()||0;return new Date().getTime()+r}function Js(e){return RO({timestamp:bE(e)})}function p_(e,n,r,o,s){e.dataUpdateCount++;var u=new Se(n);r=e.interceptServerDataCallback_?e.interceptServerDataCallback_(n,r):r;var l=[];if(s)if(o){var h=Eu(r,function(_){return $e(_)});l=bO(e.serverSyncTree_,u,h,s)}else{var f=$e(r);l=wO(e.serverSyncTree_,u,f,s)}else if(o){var p=Eu(r,function(_){return $e(_)});l=mO(e.serverSyncTree_,u,p)}else{var v=$e(r);l=$s(e.serverSyncTree_,u,v)}var y=u;l.length>0&&(y=lo(e,u)),rn(e.eventQueue_,y,l)}function zO(e,n){e.interceptServerDataCallback_=n}function v_(e,n){Zd(e,"connected",n),n===!1&&XO(e)}function $O(e,n){st(n,function(r,o){Zd(e,r,o)})}function Zd(e,n,r){var o=new Se("/.info/"+n),s=$e(r);e.infoData_.updateSnapshot(o,s);var u=$s(e.infoSyncTree_,o,s);rn(e.eventQueue_,o,u)}function ll(e){return e.nextWriteId_++}function YO(e,n){var r=EO(e.serverSyncTree_,n);return r!=null?Promise.resolve(r):e.server_.get(n).then(function(o){var s=$e(o).withIndex(n._queryParams.getIndex()),u=$s(e.serverSyncTree_,n._path,s);return Jd(e.eventQueue_,n._path,u),Promise.resolve(s)},function(o){return wo(e,"get for query "+it(n)+" failed: "+o),Promise.reject(new Error(o))})}function ep(e,n,r,o,s){wo(e,"set",{path:n.toString(),value:r,priority:o});var u=Js(e),l=$e(r,o),h=rl(e.serverSyncTree_,n),f=zd(l,h,u),p=ll(e),v=Hd(e.serverSyncTree_,n,f,p,!0);ul(e.eventQueue_,v),e.server_.put(n.toString(),l.val(!0),function(_,w){var C=_==="ok";C||vt("set at "+n+" failed: "+_);var R=pr(e.serverSyncTree_,p,!C);rn(e.eventQueue_,n,R),Sr(e,s,_,w)});var y=np(e,n);lo(e,y),rn(e.eventQueue_,y,[])}function QO(e,n,r,o){wo(e,"update",{path:n.toString(),value:r});var s=!0,u=Js(e),l={};if(st(r,function(p,v){s=!1,l[p]=dE(qe(n,p),$e(v),e.serverSyncTree_,u)}),s)ct("update() called with empty data.  Don't do anything."),Sr(e,o,"ok",void 0);else{var h=ll(e),f=gO(e.serverSyncTree_,n,l,h);ul(e.eventQueue_,f),e.server_.merge(n.toString(),r,function(p,v){var y=p==="ok";y||vt("update at "+n+" failed: "+p);var _=pr(e.serverSyncTree_,h,!y),w=_.length>0?lo(e,n):n;rn(e.eventQueue_,w,_),Sr(e,o,p,v)}),st(r,function(p){var v=np(e,qe(n,p));lo(e,v)}),rn(e.eventQueue_,n,[])}}function XO(e){wo(e,"onDisconnectEvents");var n=Js(e),r=Ru();Dh(e.onDisconnect_,Ie(),function(s,u){var l=dE(s,u,e.serverSyncTree_,n);yo(r,s,l)});var o=[];Dh(r,Ie(),function(s,u){o=o.concat($s(e.serverSyncTree_,s,u));var l=np(e,s);lo(e,l)}),e.onDisconnect_=Ru(),rn(e.eventQueue_,Ie(),o)}function JO(e,n,r){e.server_.onDisconnectCancel(n.toString(),function(o,s){o==="ok"&&xh(e.onDisconnect_,n),Sr(e,r,o,s)})}function g_(e,n,r,o){var s=$e(r);e.server_.onDisconnectPut(n.toString(),s.val(!0),function(u,l){u==="ok"&&yo(e.onDisconnect_,n,s),Sr(e,o,u,l)})}function ZO(e,n,r,o,s){var u=$e(r,o);e.server_.onDisconnectPut(n.toString(),u.val(!0),function(l,h){l==="ok"&&yo(e.onDisconnect_,n,u),Sr(e,s,l,h)})}function ex(e,n,r,o){if(Eh(r)){ct("onDisconnect().update() called with empty data.  Don't do anything."),Sr(e,o,"ok",void 0);return}e.server_.onDisconnectMerge(n.toString(),r,function(s,u){s==="ok"&&st(r,function(l,h){var f=$e(h);yo(e.onDisconnect_,qe(n,l),f)}),Sr(e,o,s,u)})}function tx(e,n,r){var o;ve(n._path)===".info"?o=h_(e.infoSyncTree_,n,r):o=h_(e.serverSyncTree_,n,r),Jd(e.eventQueue_,n._path,o)}function Wh(e,n,r){var o;ve(n._path)===".info"?o=Vh(e.infoSyncTree_,n,r):o=Vh(e.serverSyncTree_,n,r),Jd(e.eventQueue_,n._path,o)}function EE(e){e.persistentConnection_&&e.persistentConnection_.interrupt(wE)}function nx(e){e.persistentConnection_&&e.persistentConnection_.resume(wE)}function rx(e,n){if(n===void 0&&(n=!1),typeof console!="undefined"){var r;n?(e.statsListener_||(e.statsListener_=new $b(e.stats_)),r=e.statsListener_.get()):r=e.stats_.get();var o=Object.keys(r).reduce(function(s,u){return Math.max(u.length,s)},0);st(r,function(s,u){for(var l=s,h=s.length;h<o+2;h++)l+=" ";console.log(l+u)})}}function ix(e,n){e.stats_.incrementCounter(n),CP(e.statsReporter_,n)}function wo(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o="";e.persistentConnection_&&(o=e.persistentConnection_.id+":"),ct.apply(void 0,Er([o],Ct(n)))}function Sr(e,n,r,o){n&&mo(function(){if(r==="ok")n(null);else{var s=(r||"error").toUpperCase(),u=s;o&&(u+=": "+o);var l=new Error(u);l.code=s,n(l)}})}function ox(e,n,r,o,s,u){wo(e,"transaction on "+n);var l={path:n,update:r,onComplete:o,status:null,order:db(),applyLocally:u,retryCount:0,unwatcher:s,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=tp(e,n,void 0);l.currentInputSnapshot=h;var f=l.update(h.val());if(f===void 0)l.unwatcher(),l.currentOutputSnapshotRaw=null,l.currentOutputSnapshotResolved=null,l.onComplete&&l.onComplete(null,!1,l.currentInputSnapshot);else{Qs("transaction failed: Data returned ",f,l.path),l.status=0;var p=ol(e.transactionQueueTree_,n),v=yi(p)||[];v.push(l),Qd(p,v);var y=void 0;if(typeof f=="object"&&f!==null&&Kt(f,".priority"))y=di(f,".priority"),F(Vs(y),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var _=rl(e.serverSyncTree_,n)||le.EMPTY_NODE;y=_.getPriority().val()}var w=Js(e),C=$e(f,y),R=zd(C,h,w);l.currentOutputSnapshotRaw=C,l.currentOutputSnapshotResolved=R,l.currentWriteId=ll(e);var S=Hd(e.serverSyncTree_,n,R,l.currentWriteId,l.applyLocally);rn(e.eventQueue_,n,S),cl(e,e.transactionQueueTree_)}}function tp(e,n,r){return rl(e.serverSyncTree_,n,r)||le.EMPTY_NODE}function cl(e,n){if(n===void 0&&(n=e.transactionQueueTree_),n||fl(e,n),yi(n)){var r=TE(e,n);F(r.length>0,"Sending zero length transaction queue");var o=r.every(function(s){return s.status===0});o&&sx(e,Ys(n),r)}else pE(n)&&sl(n,function(s){cl(e,s)})}function sx(e,n,r){for(var o=r.map(function(_){return _.currentWriteId}),s=tp(e,n,o),u=s,l=s.hash(),h=0;h<r.length;h++){var f=r[h];F(f.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;var p=St(n,f.path);u=u.updateChild(p,f.currentOutputSnapshotRaw)}var v=u.val(!0),y=n;e.server_.put(y.toString(),v,function(_){wo(e,"transaction put response",{path:y.toString(),status:_});var w=[];if(_==="ok"){for(var C=[],R=function(k){r[k].status=2,w=w.concat(pr(e.serverSyncTree_,r[k].currentWriteId)),r[k].onComplete&&C.push(function(){return r[k].onComplete(null,!0,r[k].currentOutputSnapshotResolved)}),r[k].unwatcher()},S=0;S<r.length;S++)R(S);fl(e,ol(e.transactionQueueTree_,n)),cl(e,e.transactionQueueTree_),rn(e.eventQueue_,n,w);for(var S=0;S<C.length;S++)mo(C[S])}else{if(_==="datastale")for(var S=0;S<r.length;S++)r[S].status===3?r[S].status=4:r[S].status=0;else{vt("transaction at "+y.toString()+" failed: "+_);for(var S=0;S<r.length;S++)r[S].status=4,r[S].abortReason=_}lo(e,n)}},l)}function lo(e,n){var r=IE(e,n),o=Ys(r),s=TE(e,r);return ax(e,s,o),o}function ax(e,n,r){if(n.length!==0){for(var o=[],s=[],u=n.filter(function(p){return p.status===0}),l=u.map(function(p){return p.currentWriteId}),h=function(p){var v=n[p],y=St(r,v.path),_=!1,w;if(F(y!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),v.status===4)_=!0,w=v.abortReason,s=s.concat(pr(e.serverSyncTree_,v.currentWriteId,!0));else if(v.status===0)if(v.retryCount>=GO)_=!0,w="maxretry",s=s.concat(pr(e.serverSyncTree_,v.currentWriteId,!0));else{var C=tp(e,v.path,l);v.currentInputSnapshot=C;var R=n[p].update(C.val());if(R!==void 0){Qs("transaction failed: Data returned ",R,v.path);var S=$e(R),k=typeof R=="object"&&R!=null&&Kt(R,".priority");k||(S=S.updatePriority(C.getPriority()));var U=v.currentWriteId,J=Js(e),se=zd(S,C,J);v.currentOutputSnapshotRaw=S,v.currentOutputSnapshotResolved=se,v.currentWriteId=ll(e),l.splice(l.indexOf(U),1),s=s.concat(Hd(e.serverSyncTree_,v.path,se,v.currentWriteId,v.applyLocally)),s=s.concat(pr(e.serverSyncTree_,U,!0))}else _=!0,w="nodata",s=s.concat(pr(e.serverSyncTree_,v.currentWriteId,!0))}rn(e.eventQueue_,r,s),s=[],_&&(n[p].status=2,function(Ae){setTimeout(Ae,Math.floor(0))}(n[p].unwatcher),n[p].onComplete&&(w==="nodata"?o.push(function(){return n[p].onComplete(null,!1,n[p].currentInputSnapshot)}):o.push(function(){return n[p].onComplete(new Error(w),!1,null)})))},f=0;f<n.length;f++)h(f);fl(e,e.transactionQueueTree_);for(var f=0;f<o.length;f++)mo(o[f]);cl(e,e.transactionQueueTree_)}}function IE(e,n){var r,o=e.transactionQueueTree_;for(r=ve(n);r!==null&&yi(o)===void 0;)o=ol(o,r),n=Ue(n),r=ve(n);return o}function TE(e,n){var r=[];return CE(e,n,r),r.sort(function(o,s){return o.order-s.order}),r}function CE(e,n,r){var o=yi(n);if(o)for(var s=0;s<o.length;s++)r.push(o[s]);sl(n,function(u){CE(e,u,r)})}function fl(e,n){var r=yi(n);if(r){for(var o=0,s=0;s<r.length;s++)r[s].status!==2&&(r[o]=r[s],o++);r.length=o,Qd(n,r.length>0?r:void 0)}sl(n,function(u){fl(e,u)})}function np(e,n){var r=Ys(IE(e,n)),o=ol(e.transactionQueueTree_,n);return xO(o,function(s){oh(e,s)}),oh(e,o),vE(o,function(s){oh(e,s)}),r}function oh(e,n){var r=yi(n);if(r){for(var o=[],s=[],u=-1,l=0;l<r.length;l++)r[l].status===3||(r[l].status===1?(F(u===l-1,"All SENT items should be at beginning of queue."),u=l,r[l].status=3,r[l].abortReason="set"):(F(r[l].status===0,"Unexpected transaction status in abort"),r[l].unwatcher(),s=s.concat(pr(e.serverSyncTree_,r[l].currentWriteId,!0)),r[l].onComplete&&o.push(r[l].onComplete.bind(null,new Error("set"),!1,null))));u===-1?Qd(n,void 0):r.length=u+1,rn(e.eventQueue_,Ys(n),s);for(var l=0;l<o.length;l++)mo(o[l])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(e){for(var n="",r=e.split("/"),o=0;o<r.length;o++)if(r[o].length>0){var s=r[o];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}n+="/"+s}return n}function lx(e){var n,r,o={};e.charAt(0)==="?"&&(e=e.substring(1));try{for(var s=Ht(e.split("&")),u=s.next();!u.done;u=s.next()){var l=u.value;if(l.length!==0){var h=l.split("=");h.length===2?o[decodeURIComponent(h[0])]=decodeURIComponent(h[1]):vt("Invalid query segment '"+l+"' in query '"+e+"'")}}}catch(f){n={error:f}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return o}var Hh=function(e,n){var r=cx(e),o=r.namespace;r.domain==="firebase.com"&&Ln(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||o==="undefined")&&r.domain!=="localhost"&&Ln("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||sk();var s=r.scheme==="ws"||r.scheme==="wss";return{repoInfo:new Sd(r.host,r.secure,o,n,s,"",o!==r.subdomain),path:new Se(r.pathString)}},cx=function(e){var n="",r="",o="",s="",u="",l=!0,h="https",f=443;if(typeof e=="string"){var p=e.indexOf("//");p>=0&&(h=e.substring(0,p-1),e=e.substring(p+2));var v=e.indexOf("/");v===-1&&(v=e.length);var y=e.indexOf("?");y===-1&&(y=e.length),n=e.substring(0,Math.min(v,y)),v<y&&(s=ux(e.substring(v,y)));var _=lx(e.substring(Math.min(e.length,y)));p=n.indexOf(":"),p>=0?(l=h==="https"||h==="wss",f=parseInt(n.substring(p+1),10)):p=n.length;var w=n.slice(0,p);if(w.toLowerCase()==="localhost")r="localhost";else if(w.split(".").length<=2)r=w;else{var C=n.indexOf(".");o=n.substring(0,C).toLowerCase(),r=n.substring(C+1),u=o}"ns"in _&&(u=_.ns)}return{host:n,port:f,domain:r,subdomain:o,secure:l,scheme:h,pathString:s,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SE=function(){function e(n,r,o,s){this.eventType=n,this.eventRegistration=r,this.snapshot=o,this.prevName=s}return e.prototype.getPath=function(){var n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+it(this.snapshot.exportVal())},e}(),AE=function(){function e(n,r,o){this.eventRegistration=n,this.error=r,this.path=o}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NE=function(){function e(n,r){this.snapshotCallback=n,this.cancelCallback=r}return e.prototype.onValue=function(n,r){this.snapshotCallback.call(null,n,r)},e.prototype.onCancel=function(n){return F(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fx=function(){function e(n,r){this._repo=n,this._path=r}return e.prototype.cancel=function(){var n=new xt;return JO(this._repo,this._path,n.wrapCallback(function(){})),n.promise},e.prototype.remove=function(){tn("OnDisconnect.remove",this._path);var n=new xt;return g_(this._repo,this._path,null,n.wrapCallback(function(){})),n.promise},e.prototype.set=function(n){tn("OnDisconnect.set",this._path),Fn("OnDisconnect.set",n,this._path,!1);var r=new xt;return g_(this._repo,this._path,n,r.wrapCallback(function(){})),r.promise},e.prototype.setWithPriority=function(n,r){tn("OnDisconnect.setWithPriority",this._path),Fn("OnDisconnect.setWithPriority",n,this._path,!1),Xd("OnDisconnect.setWithPriority",r,!1);var o=new xt;return ZO(this._repo,this._path,n,r,o.wrapCallback(function(){})),o.promise},e.prototype.update=function(n){tn("OnDisconnect.update",this._path),mE("OnDisconnect.update",n,this._path,!1);var r=new xt;return ex(this._repo,this._path,n,r.wrapCallback(function(){})),r.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var on=function(){function e(n,r,o,s){this._repo=n,this._path=r,this._queryParams=o,this._orderByCalled=s}return Object.defineProperty(e.prototype,"key",{get:function(){return ge(this._path)?null:Rd(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new jn(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var n=t_(this._queryParams),r=Id(n);return r==="{}"?"default":r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return t_(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(n){if(n=zt(n),!(n instanceof e))return!1;var r=this._repo===n._repo,o=kd(this._path,n._path),s=this._queryIdentifier===n._queryIdentifier;return r&&o&&s},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+Hk(this._path)},e}();function hl(e,n){if(e._orderByCalled===!0)throw new Error(n+": You can't combine multiple orderBy calls.")}function Ar(e){var n=null,r=null;if(e.hasStart()&&(n=e.getIndexStartValue()),e.hasEnd()&&(r=e.getIndexEndValue()),e.getIndex()===On){var o="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",s="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){var u=e.getIndexStartName();if(u!==Qn)throw new Error(o);if(typeof n!="string")throw new Error(s)}if(e.hasEnd()){var l=e.getIndexEndName();if(l!==Mn)throw new Error(o);if(typeof r!="string")throw new Error(s)}}else if(e.getIndex()===Be){if(n!=null&&!Vs(n)||r!=null&&!Vs(r))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(F(e.getIndex()instanceof Od||e.getIndex()===xd,"unknown index type."),n!=null&&typeof n=="object"||r!=null&&typeof r=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function dl(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var jn=function(e){Ye(n,e);function n(r,o){return e.call(this,r,o,new zb,!1)||this}return Object.defineProperty(n.prototype,"parent",{get:function(){var r=Mb(this._path);return r===null?null:new n(this._repo,r)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"root",{get:function(){for(var r=this;r.parent!==null;)r=r.parent;return r},enumerable:!1,configurable:!0}),n}(on),pl=function(){function e(n,r,o){this._node=n,this.ref=r,this._index=o}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(n){var r=new Se(n),o=vi(this.ref,n);return new e(this._node.getChild(r),o,Be)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(n){var r=this;if(this._node.isLeafNode())return!1;var o=this._node;return!!o.forEachChild(this._index,function(s,u){return n(new e(u,vi(r.ref,s),Be))})},e.prototype.hasChild=function(n){var r=new Se(n);return!this._node.getChild(r).isEmpty()},e.prototype.hasChildren=function(){return this._node.isLeafNode()?!1:!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function RE(e,n){return e=zt(e),e._checkNotDeleted("ref"),n!==void 0?vi(e._root,n):e._root}function m_(e,n){e=zt(e),e._checkNotDeleted("refFromURL");var r=Hh(n,e._repo.repoInfo_.nodeAdmin);yE("refFromURL",r);var o=r.repoInfo;return!e._repo.repoInfo_.isCustomHost()&&o.host!==e._repo.repoInfo_.host&&Ln("refFromURL: Host name does not match the current database: (found "+o.host+" but expected "+e._repo.repoInfo_.host+")"),RE(e,r.path.toString())}function vi(e,n){return e=zt(e),ve(e._path)===null?VO("child","path",n,!1):Bs("child","path",n,!1),new jn(e._repo,qe(e._path,n))}function hx(e,n){e=zt(e),tn("push",e._path),Fn("push",n,e._path,!0);var r=bE(e._repo),o=fP(r),s=vi(e,o),u=vi(e,o),l;return n!=null?l=rp(u,n).then(function(){return u}):l=Promise.resolve(u),s.then=l.then.bind(l),s.catch=l.then.bind(l,void 0),s}function dx(e){return tn("remove",e._path),rp(e,null)}function rp(e,n){e=zt(e),tn("set",e._path),Fn("set",n,e._path,!1);var r=new xt;return ep(e._repo,e._path,n,null,r.wrapCallback(function(){})),r.promise}function px(e,n){e=zt(e),tn("setPriority",e._path),Xd("setPriority",n,!1);var r=new xt;return ep(e._repo,qe(e._path,".priority"),n,null,r.wrapCallback(function(){})),r.promise}function vx(e,n,r){if(tn("setWithPriority",e._path),Fn("setWithPriority",n,e._path,!1),Xd("setWithPriority",r,!1),e.key===".length"||e.key===".keys")throw"setWithPriority failed: "+e.key+" is a read-only object.";var o=new xt;return ep(e._repo,e._path,n,r,o.wrapCallback(function(){})),o.promise}function gx(e,n){mE("update",n,e._path,!1);var r=new xt;return QO(e._repo,e._path,n,r.wrapCallback(function(){})),r.promise}function mx(e){return e=zt(e),YO(e._repo,e).then(function(n){return new pl(n,new jn(e._repo,e._path),e._queryParams.getIndex())})}var kE=function(){function e(n){this.callbackContext=n}return e.prototype.respondsTo=function(n){return n==="value"},e.prototype.createEvent=function(n,r){var o=r._queryParams.getIndex();return new SE("value",this,new pl(n.snapshotNode,new jn(r._repo,r._path),o))},e.prototype.getEventRunner=function(n){var r=this;return n.getEventType()==="cancel"?function(){return r.callbackContext.onCancel(n.error)}:function(){return r.callbackContext.onValue(n.snapshot,null)}},e.prototype.createCancelEvent=function(n,r){return this.callbackContext.hasCancelCallback?new AE(this,n,r):null},e.prototype.matches=function(n){return n instanceof e?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1},e.prototype.hasAnyCallback=function(){return this.callbackContext!==null},e}(),PE=function(){function e(n,r){this.eventType=n,this.callbackContext=r}return e.prototype.respondsTo=function(n){var r=n==="children_added"?"child_added":n;return r=r==="children_removed"?"child_removed":r,this.eventType===r},e.prototype.createCancelEvent=function(n,r){return this.callbackContext.hasCancelCallback?new AE(this,n,r):null},e.prototype.createEvent=function(n,r){F(n.childName!=null,"Child events should have a childName.");var o=vi(new jn(r._repo,r._path),n.childName),s=r._queryParams.getIndex();return new SE(n.type,this,new pl(n.snapshotNode,o,s),n.prevName)},e.prototype.getEventRunner=function(n){var r=this;return n.getEventType()==="cancel"?function(){return r.callbackContext.onCancel(n.error)}:function(){return r.callbackContext.onValue(n.snapshot,n.prevName)}},e.prototype.matches=function(n){return n instanceof e?this.eventType===n.eventType&&(!this.callbackContext||!n.callbackContext||this.callbackContext.matches(n.callbackContext)):!1},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function Zs(e,n,r,o,s){var u;if(typeof o=="object"&&(u=void 0,s=o),typeof o=="function"&&(u=o),s&&s.onlyOnce){var l=r,h=function(v,y){Wh(e._repo,e,p),l(v,y)};h.userCallback=r.userCallback,h.context=r.context,r=h}var f=new NE(r,u||void 0),p=n==="value"?new kE(f):new PE(n,f);return tx(e._repo,e,p),function(){return Wh(e._repo,e,p)}}function Gh(e,n,r,o){return Zs(e,"value",n,r,o)}function y_(e,n,r,o){return Zs(e,"child_added",n,r,o)}function __(e,n,r,o){return Zs(e,"child_changed",n,r,o)}function w_(e,n,r,o){return Zs(e,"child_moved",n,r,o)}function b_(e,n,r,o){return Zs(e,"child_removed",n,r,o)}function E_(e,n,r){var o=null,s=r?new NE(r):null;n==="value"?o=new kE(s):n&&(o=new PE(n,s)),Wh(e._repo,e,o)}var _n=function(){function e(){}return e}(),OE=function(e){Ye(n,e);function n(r,o){var s=e.call(this)||this;return s._value=r,s._key=o,s}return n.prototype._apply=function(r){Fn("endAt",this._value,r._path,!0);var o=Oh(r._queryParams,this._value,this._key);if(dl(o),Ar(o),r._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new on(r._repo,r._path,o,r._orderByCalled)},n}(_n);function yx(e,n){return Xs("endAt","key",n,!0),new OE(e,n)}var _x=function(e){Ye(n,e);function n(r,o){var s=e.call(this)||this;return s._value=r,s._key=o,s}return n.prototype._apply=function(r){Fn("endBefore",this._value,r._path,!1);var o=yP(r._queryParams,this._value,this._key);if(dl(o),Ar(o),r._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new on(r._repo,r._path,o,r._orderByCalled)},n}(_n);function wx(e,n){return Xs("endBefore","key",n,!0),new _x(e,n)}var xE=function(e){Ye(n,e);function n(r,o){var s=e.call(this)||this;return s._value=r,s._key=o,s}return n.prototype._apply=function(r){Fn("startAt",this._value,r._path,!0);var o=Ph(r._queryParams,this._value,this._key);if(dl(o),Ar(o),r._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new on(r._repo,r._path,o,r._orderByCalled)},n}(_n);function bx(e,n){return e===void 0&&(e=null),Xs("startAt","key",n,!0),new xE(e,n)}var Ex=function(e){Ye(n,e);function n(r,o){var s=e.call(this)||this;return s._value=r,s._key=o,s}return n.prototype._apply=function(r){Fn("startAfter",this._value,r._path,!1);var o=mP(r._queryParams,this._value,this._key);if(dl(o),Ar(o),r._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new on(r._repo,r._path,o,r._orderByCalled)},n}(_n);function Ix(e,n){return Xs("startAfter","key",n,!0),new Ex(e,n)}var Tx=function(e){Ye(n,e);function n(r){var o=e.call(this)||this;return o._limit=r,o}return n.prototype._apply=function(r){if(r._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new on(r._repo,r._path,vP(r._queryParams,this._limit),r._orderByCalled)},n}(_n);function Cx(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Tx(e)}var Sx=function(e){Ye(n,e);function n(r){var o=e.call(this)||this;return o._limit=r,o}return n.prototype._apply=function(r){if(r._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new on(r._repo,r._path,gP(r._queryParams,this._limit),r._orderByCalled)},n}(_n);function Ax(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Sx(e)}var Nx=function(e){Ye(n,e);function n(r){var o=e.call(this)||this;return o._path=r,o}return n.prototype._apply=function(r){hl(r,"orderByChild");var o=new Se(this._path);if(ge(o))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var s=new Od(o),u=Ju(r._queryParams,s);return Ar(u),new on(r._repo,r._path,u,!0)},n}(_n);function Rx(e){if(e==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(e==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(e==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Bs("orderByChild","path",e,!1),new Nx(e)}var kx=function(e){Ye(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype._apply=function(r){hl(r,"orderByKey");var o=Ju(r._queryParams,On);return Ar(o),new on(r._repo,r._path,o,!0)},n}(_n);function Px(){return new kx}var Ox=function(e){Ye(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype._apply=function(r){hl(r,"orderByPriority");var o=Ju(r._queryParams,Be);return Ar(o),new on(r._repo,r._path,o,!0)},n}(_n);function xx(){return new Ox}var Dx=function(e){Ye(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype._apply=function(r){hl(r,"orderByValue");var o=Ju(r._queryParams,xd);return Ar(o),new on(r._repo,r._path,o,!0)},n}(_n);function Lx(){return new Dx}var Mx=function(e){Ye(n,e);function n(r,o){var s=e.call(this)||this;return s._value=r,s._key=o,s}return n.prototype._apply=function(r){if(Fn("equalTo",this._value,r._path,!1),r._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(r._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new OE(this._value,this._key)._apply(new xE(this._value,this._key)._apply(r))},n}(_n);function Fx(e,n){return Xs("equalTo","key",n,!0),new Mx(e,n)}function dn(e){for(var n,r,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];var u=zt(e);try{for(var l=Ht(o),h=l.next();!h.done;h=l.next()){var f=h.value;u=f._apply(u)}}catch(p){n={error:p}}finally{try{h&&!h.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return u}uO(jn);dO(jn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jx="FIREBASE_DATABASE_EMULATOR_HOST",Kh={},DE=!1;function Ux(e,n,r,o){e.repoInfo_=new Sd(n+":"+r,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),o&&(e.authTokenProvider_=o)}function LE(e,n,r,o,s){var u=o||e.options.databaseURL;u===void 0&&(e.options.projectId||Ln("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ct("Using default host for project ",e.options.projectId),u=e.options.projectId+"-default-rtdb.firebaseio.com");var l=Hh(u,s),h=l.repoInfo,f,p=void 0;typeof process!="undefined"&&(p=process.env[jx]),p?(f=!0,u="http://"+p+"?ns="+h.namespace,l=Hh(u,s),h=l.repoInfo):f=!l.repoInfo.secure;var v=s&&f?new ws(ws.OWNER):new vk(e.name,e.options,n);yE("Invalid Firebase Database URL",l),ge(l.path)||Ln("Database URL must point to the root of a Firebase Database (not including a child path).");var y=Bx(h,e,v,new pk(e.name,r));return new Hx(y,e)}function Vx(e,n){var r=Kh[n];(!r||r[e.key]!==e)&&Ln("Database "+n+"("+e.repoInfo_+") has already been deleted."),EE(e),delete r[e.key]}function Bx(e,n,r,o){var s=Kh[n.name];s||(s={},Kh[n.name]=s);var u=s[e.toURLString()];return u&&Ln("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new KO(e,DE,r,o),s[e.toURLString()]=u,u}function Wx(e){DE=e}var Hx=function(){function e(n,r){this._repoInternal=n,this.app=r,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(qO(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new jn(this._repo,Ie())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){return this._rootInternal!==null&&(Vx(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},e.prototype._checkNotDeleted=function(n){this._rootInternal===null&&Ln("Cannot call "+n+" on a deleted database.")},e}();function Gx(e,n,r,o){o===void 0&&(o={}),e=zt(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&Ln("Cannot call useEmulator() after instance has already been initialized.");var s=e._repoInternal,u=void 0;if(s.repoInfo_.nodeAdmin)o.mockUserToken&&Ln('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new ws(ws.OWNER);else if(o.mockUserToken){var l=typeof o.mockUserToken=="string"?o.mockUserToken:aN(o.mockUserToken,e.app.options.projectId);u=new ws(l)}Ux(s,n,r,u)}function Kx(e){e=zt(e),e._checkNotDeleted("goOffline"),EE(e._repo)}function qx(e){e=zt(e),e._checkNotDeleted("goOnline"),nx(e._repo)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zx={".sv":"timestamp"};function $x(){return zx}function Yx(e){return{".sv":{increment:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qx=function(){function e(n,r){this.committed=n,this.snapshot=r}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function Xx(e,n,r){var o;if(e=zt(e),tn("Reference.transaction",e._path),e.key===".length"||e.key===".keys")throw"Reference.transaction failed: "+e.key+" is a read-only object.";var s=(o=r==null?void 0:r.applyLocally)!==null&&o!==void 0?o:!0,u=new xt,l=function(f,p,v){var y=null;f?u.reject(f):(y=new pl(v,new jn(e._repo,e._path),Be),u.resolve(new Qx(p,y)))},h=Gh(e,function(){});return ox(e._repo,e._path,n,l,h,s),u.promise}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jx=function(){function e(n){this._delegate=n}return e.prototype.cancel=function(n){re("OnDisconnect.cancel",0,1,arguments.length),lt("OnDisconnect.cancel","onComplete",n,!0);var r=this._delegate.cancel();return n&&r.then(function(){return n(null)},function(o){return n(o)}),r},e.prototype.remove=function(n){re("OnDisconnect.remove",0,1,arguments.length),lt("OnDisconnect.remove","onComplete",n,!0);var r=this._delegate.remove();return n&&r.then(function(){return n(null)},function(o){return n(o)}),r},e.prototype.set=function(n,r){re("OnDisconnect.set",1,2,arguments.length),lt("OnDisconnect.set","onComplete",r,!0);var o=this._delegate.set(n);return r&&o.then(function(){return r(null)},function(s){return r(s)}),o},e.prototype.setWithPriority=function(n,r,o){re("OnDisconnect.setWithPriority",2,3,arguments.length),lt("OnDisconnect.setWithPriority","onComplete",o,!0);var s=this._delegate.setWithPriority(n,r);return o&&s.then(function(){return o(null)},function(u){return o(u)}),s},e.prototype.update=function(n,r){if(re("OnDisconnect.update",1,2,arguments.length),Array.isArray(n)){for(var o={},s=0;s<n.length;++s)o[""+s]=n[s];n=o,vt("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}lt("OnDisconnect.update","onComplete",r,!0);var u=this._delegate.update(n);return r&&u.then(function(){return r(null)},function(l){return r(l)}),u},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zx=function(){function e(n,r){this.committed=n,this.snapshot=r}return e.prototype.toJSON=function(){return re("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ts=function(){function e(n,r){this._database=n,this._delegate=r}return e.prototype.val=function(){return re("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return re("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return re("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return re("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(n){return re("DataSnapshot.child",0,1,arguments.length),n=String(n),Bs("DataSnapshot.child","path",n,!1),new e(this._database,this._delegate.child(n))},e.prototype.hasChild=function(n){return re("DataSnapshot.hasChild",1,1,arguments.length),Bs("DataSnapshot.hasChild","path",n,!1),this._delegate.hasChild(n)},e.prototype.getPriority=function(){return re("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(n){var r=this;return re("DataSnapshot.forEach",1,1,arguments.length),lt("DataSnapshot.forEach","action",n,!1),this._delegate.forEach(function(o){return n(new e(r._database,o))})},e.prototype.hasChildren=function(){return re("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return re("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return re("DataSnapshot.ref",0,0,arguments.length),new ai(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),ME=function(){function e(n,r){this.database=n,this._delegate=r}return e.prototype.on=function(n,r,o,s){var u=this,l;re("Query.on",2,4,arguments.length),lt("Query.on","callback",r,!1);var h=e.getCancelAndContextArgs_("Query.on",o,s),f=function(v,y){r.call(h.context,new Ts(u.database,v),y)};f.userCallback=r,f.context=h.context;var p=(l=h.cancel)===null||l===void 0?void 0:l.bind(h.context);switch(n){case"value":return Gh(this._delegate,f,p),r;case"child_added":return y_(this._delegate,f,p),r;case"child_removed":return b_(this._delegate,f,p),r;case"child_changed":return __(this._delegate,f,p),r;case"child_moved":return w_(this._delegate,f,p),r;default:throw new Error(Dt("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(n,r,o){if(re("Query.off",0,3,arguments.length),UO("Query.off",n,!0),lt("Query.off","callback",r,!0),Ey("Query.off","context",o,!0),r){var s=function(){};s.userCallback=r,s.context=o,E_(this._delegate,n,s)}else E_(this._delegate,n)},e.prototype.get=function(){var n=this;return mx(this._delegate).then(function(r){return new Ts(n.database,r)})},e.prototype.once=function(n,r,o,s){var u=this;re("Query.once",1,4,arguments.length),lt("Query.once","callback",r,!0);var l=e.getCancelAndContextArgs_("Query.once",o,s),h=new xt,f=function(v,y){var _=new Ts(u.database,v);r&&r.call(l.context,_,y),h.resolve(_)};f.userCallback=r,f.context=l.context;var p=function(v){l.cancel&&l.cancel.call(l.context,v),h.reject(v)};switch(n){case"value":Gh(this._delegate,f,p,{onlyOnce:!0});break;case"child_added":y_(this._delegate,f,p,{onlyOnce:!0});break;case"child_removed":b_(this._delegate,f,p,{onlyOnce:!0});break;case"child_changed":__(this._delegate,f,p,{onlyOnce:!0});break;case"child_moved":w_(this._delegate,f,p,{onlyOnce:!0});break;default:throw new Error(Dt("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return h.promise},e.prototype.limitToFirst=function(n){return re("Query.limitToFirst",1,1,arguments.length),new e(this.database,dn(this._delegate,Cx(n)))},e.prototype.limitToLast=function(n){return re("Query.limitToLast",1,1,arguments.length),new e(this.database,dn(this._delegate,Ax(n)))},e.prototype.orderByChild=function(n){return re("Query.orderByChild",1,1,arguments.length),new e(this.database,dn(this._delegate,Rx(n)))},e.prototype.orderByKey=function(){return re("Query.orderByKey",0,0,arguments.length),new e(this.database,dn(this._delegate,Px()))},e.prototype.orderByPriority=function(){return re("Query.orderByPriority",0,0,arguments.length),new e(this.database,dn(this._delegate,xx()))},e.prototype.orderByValue=function(){return re("Query.orderByValue",0,0,arguments.length),new e(this.database,dn(this._delegate,Lx()))},e.prototype.startAt=function(n,r){return n===void 0&&(n=null),re("Query.startAt",0,2,arguments.length),new e(this.database,dn(this._delegate,bx(n,r)))},e.prototype.startAfter=function(n,r){return n===void 0&&(n=null),re("Query.startAfter",0,2,arguments.length),new e(this.database,dn(this._delegate,Ix(n,r)))},e.prototype.endAt=function(n,r){return n===void 0&&(n=null),re("Query.endAt",0,2,arguments.length),new e(this.database,dn(this._delegate,yx(n,r)))},e.prototype.endBefore=function(n,r){return n===void 0&&(n=null),re("Query.endBefore",0,2,arguments.length),new e(this.database,dn(this._delegate,wx(n,r)))},e.prototype.equalTo=function(n,r){return re("Query.equalTo",1,2,arguments.length),new e(this.database,dn(this._delegate,Fx(n,r)))},e.prototype.toString=function(){return re("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return re("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(n){if(re("Query.isEqual",1,1,arguments.length),!(n instanceof e)){var r="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(r)}return this._delegate.isEqual(n._delegate)},e.getCancelAndContextArgs_=function(n,r,o){var s={cancel:void 0,context:void 0};if(r&&o)s.cancel=r,lt(n,"cancel",s.cancel,!0),s.context=o,Ey(n,"context",s.context,!0);else if(r)if(typeof r=="object"&&r!==null)s.context=r;else if(typeof r=="function")s.cancel=r;else throw new Error(Dt(n,"cancelOrContext")+" must either be a cancel callback or a context object.");return s},Object.defineProperty(e.prototype,"ref",{get:function(){return new ai(this.database,new jn(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),ai=function(e){Ye(n,e);function n(r,o){var s=e.call(this,r,new on(o._repo,o._path,new zb,!1))||this;return s.database=r,s._delegate=o,s}return n.prototype.getKey=function(){return re("Reference.key",0,0,arguments.length),this._delegate.key},n.prototype.child=function(r){return re("Reference.child",1,1,arguments.length),typeof r=="number"&&(r=String(r)),new n(this.database,vi(this._delegate,r))},n.prototype.getParent=function(){re("Reference.parent",0,0,arguments.length);var r=this._delegate.parent;return r?new n(this.database,r):null},n.prototype.getRoot=function(){return re("Reference.root",0,0,arguments.length),new n(this.database,this._delegate.root)},n.prototype.set=function(r,o){re("Reference.set",1,2,arguments.length),lt("Reference.set","onComplete",o,!0);var s=rp(this._delegate,r);return o&&s.then(function(){return o(null)},function(u){return o(u)}),s},n.prototype.update=function(r,o){if(re("Reference.update",1,2,arguments.length),Array.isArray(r)){for(var s={},u=0;u<r.length;++u)s[""+u]=r[u];r=s,vt("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}tn("Reference.update",this._delegate._path),lt("Reference.update","onComplete",o,!0);var l=gx(this._delegate,r);return o&&l.then(function(){return o(null)},function(h){return o(h)}),l},n.prototype.setWithPriority=function(r,o,s){re("Reference.setWithPriority",2,3,arguments.length),lt("Reference.setWithPriority","onComplete",s,!0);var u=vx(this._delegate,r,o);return s&&u.then(function(){return s(null)},function(l){return s(l)}),u},n.prototype.remove=function(r){re("Reference.remove",0,1,arguments.length),lt("Reference.remove","onComplete",r,!0);var o=dx(this._delegate);return r&&o.then(function(){return r(null)},function(s){return r(s)}),o},n.prototype.transaction=function(r,o,s){var u=this;re("Reference.transaction",1,3,arguments.length),lt("Reference.transaction","transactionUpdate",r,!1),lt("Reference.transaction","onComplete",o,!0),BO("Reference.transaction","applyLocally",s,!0);var l=Xx(this._delegate,r,{applyLocally:s}).then(function(h){return new Zx(h.committed,new Ts(u.database,h.snapshot))});return o&&l.then(function(h){return o(null,h.committed,h.snapshot)},function(h){return o(h,!1,null)}),l},n.prototype.setPriority=function(r,o){re("Reference.setPriority",1,2,arguments.length),lt("Reference.setPriority","onComplete",o,!0);var s=px(this._delegate,r);return o&&s.then(function(){return o(null)},function(u){return o(u)}),s},n.prototype.push=function(r,o){var s=this;re("Reference.push",0,2,arguments.length),lt("Reference.push","onComplete",o,!0);var u=hx(this._delegate,r),l=u.then(function(f){return new n(s.database,f)});o&&l.then(function(){return o(null)},function(f){return o(f)});var h=new n(this.database,u);return h.then=l.then.bind(l),h.catch=l.catch.bind(l,void 0),h},n.prototype.onDisconnect=function(){return tn("Reference.onDisconnect",this._delegate._path),new Jx(new fx(this._delegate._repo,this._delegate._path))},Object.defineProperty(n.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),n}(ME);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fu=function(){function e(n,r){var o=this;this._delegate=n,this.app=r,this.INTERNAL={delete:function(){return o._delegate._delete()}}}return e.prototype.useEmulator=function(n,r,o){o===void 0&&(o={}),Gx(this._delegate,n,r,o)},e.prototype.ref=function(n){if(re("database.ref",0,1,arguments.length),n instanceof ai){var r=m_(this._delegate,n.toString());return new ai(this,r)}else{var r=RE(this._delegate,n);return new ai(this,r)}},e.prototype.refFromURL=function(n){var r="database.refFromURL";re(r,1,1,arguments.length);var o=m_(this._delegate,n);return new ai(this,o)},e.prototype.goOffline=function(){return re("database.goOffline",0,0,arguments.length),Kx(this._delegate)},e.prototype.goOnline=function(){return re("database.goOnline",0,0,arguments.length),qx(this._delegate)},e.ServerValue={TIMESTAMP:$x(),increment:function(n){return Yx(n)}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e1=function(){ii.forceDisallow(),Nd.forceAllow()},t1=function(){Nd.forceDisallow()},n1=function(){return ii.isAvailable()},r1=function(e,n){var r=e._delegate._repo.persistentConnection_;r.securityDebugCallback_=n},i1=function(e,n){rx(e._delegate._repo,n)},o1=function(e,n){ix(e._delegate._repo,n)},s1=function(e){return e._delegate._repo.dataUpdateCount},a1=function(e,n){return zO(e._delegate._repo,n)};function u1(e){var n=e.app,r=e.url,o=e.version,s=e.customAuthImpl,u=e.namespace,l=e.nodeAdmin,h=l===void 0?!1:l;fb(o);var f=new qw("auth-internal",new zw("database-standalone"));return f.setComponent(new Gs("auth-internal",function(){return s},"PRIVATE")),{instance:new Fu(LE(n,f,void 0,r,h),n),namespace:u}}var l1=Object.freeze({__proto__:null,forceLongPolling:e1,forceWebSockets:t1,isWebSocketsAvailable:n1,setSecurityDebugCallback:r1,stats:i1,statsIncrementCounter:o1,dataUpdateCount:s1,interceptServerData:a1,initStandalone:u1});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var c1=hi;hi.prototype.simpleListen=function(e,n){this.sendRequest("q",{p:e},n)};hi.prototype.echo=function(e,n){this.sendRequest("echo",{d:e},n)};var f1=xb,h1=function(e){var n=hi.prototype.put;return hi.prototype.put=function(r,o,s,u){u!==void 0&&(u=e()),n.call(this,r,o,s,u)},function(){hi.prototype.put=n}},d1=Sd,p1=function(e){return e._delegate._queryIdentifier},v1=function(e){Wx(e)},g1=Object.freeze({__proto__:null,DataConnection:c1,RealTimeConnection:f1,hijackHash:h1,ConnectionTarget:d1,queryIdentifier:p1,forceRestClient:v1});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var m1=Fu.ServerValue;function y1(e){fb(e.SDK_VERSION),e.INTERNAL.registerComponent(new Gs("database",function(n,r){var o=r.instanceIdentifier,s=n.getProvider("app").getImmediate(),u=n.getProvider("auth-internal"),l=n.getProvider("app-check-internal");return new Fu(LE(s,u,l,o),s)},"PUBLIC").setServiceProps({Reference:ai,Query:ME,Database:Fu,DataSnapshot:Ts,enableLogging:vb,INTERNAL:l1,ServerValue:m1,TEST_ACCESS:g1}).setMultipleInstances(!0)),e.registerVersion(nk,rk)}y1(ue);export{D1 as A,gn as F,Rw as T,Tw as a,Tt as b,C1 as c,fA as d,A1 as e,ue as f,b1 as g,pA as h,T1 as i,S1 as j,E1 as k,N1 as l,k1 as m,R1 as n,lA as o,w1 as p,zh as q,I1 as r,$h as s,_1 as t,P1 as u,O1 as v,RS as w,x1 as x,M1 as y,L1 as z};
