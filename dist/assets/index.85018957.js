import{r as b,o as d,c,a as i,b as L,w as R,d as S,e as p,p as $,f as T,g as C,F as w,T as K,h as Y,i as M,j as h,v as q,k as A,l as k,m as J,t as m,n as D,q as Q,s as P,u as f,x as X,y as V,z as Z,A as ee,B as te,C as ie}from"./vendor.cd9fa08e.js";const se=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerpolicy&&(o.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?o.credentials="include":r.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=s(r);fetch(r.href,o)}};se();var _=(t,e)=>{const s=t.__vccOpts||t;for(const[n,r]of e)s[n]=r;return s};const ne={name:"Navbar",props:{link:{type:String}},methods:{logout(){this.$store.dispatch("logout").then(()=>{this.$router.push("/")})}},computed:{loggedIn(){return this.$store.state.currentUser}}},re=t=>($("data-v-2c4f05b9"),t=t(),T(),t),oe={class:"header"},ae={class:"navStuff"},le=re(()=>i("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 27.02 27.02",style:{"enable-background":"new 0 0 27.02 27.02",width:"27px"},"xml:space":"preserve"},[i("g",null,[i("path",{style:{fill:"#030104"},d:"M3.674,24.876c0,0-0.024,0.604,0.566,0.604c0.734,0,6.811-0.008,6.811-0.008l0.01-5.581   c0,0-0.096-0.92,0.797-0.92h2.826c1.056,0,0.991,0.92,0.991,0.92l-0.012,5.563c0,0,5.762,0,6.667,0   c0.749,0,0.715-0.752,0.715-0.752V14.413l-9.396-8.358l-9.975,8.358C3.674,14.413,3.674,24.876,3.674,24.876z"}),i("path",{style:{fill:"#030104"},d:"M0,13.635c0,0,0.847,1.561,2.694,0l11.038-9.338l10.349,9.28c2.138,1.542,2.939,0,2.939,0   L13.732,1.54L0,13.635z"}),i("polygon",{style:{fill:"#030104"},points:"23.83,4.275 21.168,4.275 21.179,7.503 23.83,9.752  "})])],-1)),de=C(" Add Recipe "),ce={class:"accountStuff"},ue=C(" Login "),pe=C(" Register ");function me(t,e,s,n,r,o){const a=b("router-link");return d(),c("div",oe,[i("div",ae,[L(a,{to:"/"},{default:R(()=>[le]),_:1}),o.loggedIn?(d(),S(a,{key:0,to:"/add"},{default:R(()=>[de]),_:1})):p("",!0)]),i("div",ce,[o.loggedIn?p("",!0):(d(),S(a,{key:0,to:"/login"},{default:R(()=>[ue]),_:1})),o.loggedIn?p("",!0):(d(),S(a,{key:1,to:"/register"},{default:R(()=>[pe]),_:1})),o.loggedIn?(d(),c("button",{key:2,onClick:e[0]||(e[0]=(...u)=>o.logout&&o.logout(...u)),class:"logOut"},"logout")):p("",!0)])])}var he=_(ne,[["render",me],["__scopeId","data-v-2c4f05b9"]]);const ge={name:"App",components:{navbar:he}};function fe(t,e,s,n,r,o){const a=b("navbar"),u=b("router-view");return d(),c(w,null,[L(a),L(u,null,{default:R(({Component:l})=>[L(K,{name:"fade",mode:"out-in"},{default:R(()=>[(d(),S(Y(l),{key:t.$route.path}))]),_:2},1024)]),_:1})],64)}var _e=_(ge,[["render",fe]]);const ve={name:"footerBar"},ye={id:"footerBar"},Ie=M('<h1 data-v-7662b00a>Techniques used</h1><div id="footerLists" data-v-7662b00a><ul data-v-7662b00a><h4 data-v-7662b00a>Vue:</h4><li data-v-7662b00a>Vue 3</li><li data-v-7662b00a>Vue router</li><li data-v-7662b00a>Vite</li></ul><ul data-v-7662b00a><h4 data-v-7662b00a>Firebase:</h4><li data-v-7662b00a>Firebase Authentication</li><li data-v-7662b00a>Firebase Realtime database</li><li data-v-7662b00a>Firebase Hosting</li></ul></div><div style="text-align:center;" data-v-7662b00a><h2 data-v-7662b00a>Font awesome</h2><p data-v-7662b00a>Font awesome was used for various svg icons.</p><p data-v-7662b00a>The icons are not changed or altered.</p><a href="https://fontawesome.com/license" data-v-7662b00a>Font awesome license</a></div>',3),ke=[Ie];function be(t,e,s,n,r,o){return d(),c("div",ye,ke)}var we=_(ve,[["render",be],["__scopeId","data-v-7662b00a"]]);const xe={name:"RecipeList",components:{footerBar:we},data(){return{searchValue:"",sortBy:"recipeId",selectedIngredient:"",minimized:!1}},methods:{saveAndRedirect(t){this.$store.commit("setSelectedRecipe",t),this.$router.push("/recipe/"+t.recipeId)},backgroundimg(t,e){return t==""&&(this.$store.state.recipesList[e].drink?t="https://www.liquor.com/thmb/fO-COKLw_iEA28v8K4XQjzMhkfw=/735x0/very-sexy-martini-720x720-primary-b1212ebf73f54f898a56f7f0b60c0a34.jpg":t="https://upload.wikimedia.org/wikipedia/commons/thumb/6/6d/Good_Food_Display_-_NCI_Visuals_Online.jpg/330px-Good_Food_Display_-_NCI_Visuals_Online.jpg"),{"background-image":`url(${t})`}},minMaxCards(){let t=document.querySelectorAll(".imgPart"),e=document.querySelectorAll(".plateIcon"),s=document.querySelectorAll(".card-body"),n=document.querySelector("#minMaxBtn");this.minimized?(s.forEach(r=>{r.style.display=null}),t.forEach(r=>{r.style.borderRadius=null}),e.forEach(r=>{r.style.bottom=null}),n.innerHTML="Hide card text",this.minimized=!1):(s.forEach(r=>{r.style.display="none"}),t.forEach(r=>{r.style.borderRadius="10px"}),e.forEach(r=>{r.style.bottom="1em"}),n.innerHTML="Show card text",this.minimized=!0)},goToTop(){window.scrollTo(0,0)}},computed:{searchResult(){var t=this.$store.state.recipesList;return t=t.filter(e=>!e.drink),this.searchValue!=""&&this.searchValue&&(t=t.filter(e=>e.title.toUpperCase().includes(this.searchValue.toUpperCase()))),this.selectedIngredient!=""&&(t=t.filter(e=>e.ingredients.some(s=>s.name.toUpperCase()==this.selectedIngredient.toUpperCase()))),t=t.sort((e,s)=>{if(this.sortBy=="alphabetically"){let n=e.title.toLowerCase(),r=s.title.toLowerCase();return n<r?-1:n>r?1:0}else if(this.sortBy=="recipeId")return e.recipeId-s.recipeId}),this.sortBy=="drinks"?null:t},drinks(){var t=this.$store.state.recipesList;return t=t.filter(e=>e.drink),this.searchValue!=""&&this.searchValue&&(t=t.filter(e=>e.title.toUpperCase().includes(this.searchValue.toUpperCase()))),this.selectedIngredient!=""&&(t=t.filter(e=>e.ingredients.some(s=>s.name.toUpperCase()==this.selectedIngredient.toUpperCase()))),t=t.sort((e,s)=>{if(this.sortBy=="alphabetically"){let n=e.title.toLowerCase(),r=s.title.toLowerCase();return n<r?-1:n>r?1:0}else if(this.sortBy=="recipeId")return e.recipeId-s.recipeId}),this.sortBy=="foods"?null:t},sortAndListIngredients(){var t=[];this.$store.state.recipesList.forEach(n=>{n.ingredients.forEach(r=>{t.push(r.name)})});var e=[];t.forEach(n=>{var r=0;t.forEach(o=>{n==o&&r++}),e.push({name:n,value:r})});var s=[];return e.forEach(n=>{var r=0;s.forEach(o=>{n.name==o.name&&r++}),r==0&&s.push(n)}),s.sort((n,r)=>n.value>r.value?-1:n.value<r.value||n.name>r.name?1:-1),s},noResults(){return this.drinks==null||this.drinks.length==0?this.searchResult==null||this.searchResult.length==0:!1},randomNumberGenerator(){var t=[];this.searchResult!=null&&(t=t.concat(this.searchResult)),this.drinks!=null&&(t=t.concat(this.drinks));let e=Math.floor(Math.random()*t.length);return t.length==0?null:t[e].recipeId}},mounted(){window.scrollTo(0,localStorage.getItem("scrollLength"))}},v=t=>($("data-v-8bbd77a4"),t=t(),T(),t),Re={class:"searchArea"},Le=v(()=>i("option",{value:"recipeId"},"Recipe Id",-1)),Ce=v(()=>i("option",{value:"alphabetically"},"Alphabetically",-1)),$e=v(()=>i("option",{value:"foods"},"Foods",-1)),Te=v(()=>i("option",{value:"drinks"},"Drinks",-1)),Se=[Le,Ce,$e,Te],Be=v(()=>i("option",{value:""},"All Ingredients",-1)),Ee=["value"],Ae={id:"randomContainer"},Ne=C(" Go to random recipe"),Me=["onClick"],Ve=v(()=>i("div",{class:"plateIcon"},[i("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"utensils",class:"svg-inline--fa fa-utensils fa-w-13",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 416 512"},[i("path",{fill:"currentColor",d:"M207.9 15.2c.8 4.7 16.1 94.5 16.1 128.8 0 52.3-27.8 89.6-68.9 104.6L168 486.7c.7 13.7-10.2 25.3-24 25.3H80c-13.7 0-24.7-11.5-24-25.3l12.9-238.1C27.7 233.6 0 196.2 0 144 0 109.6 15.3 19.9 16.1 15.2 19.3-5.1 61.4-5.4 64 16.3v141.2c1.3 3.4 15.1 3.2 16 0 1.4-25.3 7.9-139.2 8-141.8 3.3-20.8 44.7-20.8 47.9 0 .2 2.7 6.6 116.5 8 141.8.9 3.2 14.8 3.4 16 0V16.3c2.6-21.6 44.8-21.4 48-1.1zm119.2 285.7l-15 185.1c-1.2 14 9.9 26 23.9 26h56c13.3 0 24-10.7 24-24V24c0-13.2-10.7-24-24-24-82.5 0-221.4 178.5-64.9 300.9z"})])],-1)),Ue=[Ve],Oe={class:"card-body"},qe={class:"card-title"},De={class:"card-text"},Pe={class:"extras"},ze={class:"card-ingredients"},Fe=C(" Ingredient"),Ge={key:0},je={class:"card-steps"},He=C(" Step"),We={key:0},Ke=["onClick"],Ye=v(()=>i("div",{class:"plateIcon"},[i("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"cocktail",class:"svg-inline--fa fa-cocktail fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},[i("path",{fill:"currentColor",d:"M296 464h-56V338.78l168.74-168.73c15.52-15.52 4.53-42.05-17.42-42.05H24.68c-21.95 0-32.94 26.53-17.42 42.05L176 338.78V464h-56c-22.09 0-40 17.91-40 40 0 4.42 3.58 8 8 8h240c4.42 0 8-3.58 8-8 0-22.09-17.91-40-40-40zM432 0c-62.61 0-115.35 40.2-135.18 96h52.54c16.65-28.55 47.27-48 82.64-48 52.93 0 96 43.06 96 96s-43.07 96-96 96c-14.04 0-27.29-3.2-39.32-8.64l-35.26 35.26C379.23 279.92 404.59 288 432 288c79.53 0 144-64.47 144-144S511.53 0 432 0z"})])],-1)),Je=[Ye],Qe={class:"card-body"},Xe={class:"card-title"},Ze={class:"card-text"},et={class:"extras"},tt={class:"card-ingredients"},it=C(" Ingredient"),st={key:0},nt={class:"card-steps"},rt=C(" Step"),ot={key:0},at={key:0,class:"cardM"},lt={key:0,class:"noResultCard-body"},dt=v(()=>i("h1",{class:"card-title",style:{"text-align":"center"}}," Loading Recipes... ",-1)),ct=[dt],ut={key:1,class:"noResultCard-body"},pt=v(()=>i("h1",{class:"card-title",style:{"text-align":"center"}}," No results found ",-1)),mt=v(()=>i("h3",{style:{"text-align":"center"}}," Sorry, we couldn't find any results for your search. :( ",-1)),ht=v(()=>i("h3",{style:{"text-align":"center"}},"Have a cookie instead!",-1)),gt=v(()=>i("div",{style:{display:"flex","justify-content":"center","margin-bottom":"20px"}},[i("svg",{style:{width:"9em","text-align":"center"},"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"cookie",class:"svg-inline--fa fa-cookie fa-w-16 Layer_1",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[i("path",{fill:"currentColor",d:"M510.37 254.79l-12.08-76.26a132.493 132.493 0 0 0-37.16-72.95l-54.76-54.75c-19.73-19.72-45.18-32.7-72.71-37.05l-76.7-12.15c-27.51-4.36-55.69.11-80.52 12.76L107.32 49.6a132.25 132.25 0 0 0-57.79 57.8l-35.1 68.88a132.602 132.602 0 0 0-12.82 80.94l12.08 76.27a132.493 132.493 0 0 0 37.16 72.95l54.76 54.75a132.087 132.087 0 0 0 72.71 37.05l76.7 12.14c27.51 4.36 55.69-.11 80.52-12.75l69.12-35.21a132.302 132.302 0 0 0 57.79-57.8l35.1-68.87c12.71-24.96 17.2-53.3 12.82-80.96zM176 368c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm32-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm160 128c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"})])],-1)),ft=[pt,mt,ht,gt],_t=v(()=>i("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"arrow-up",class:"svg-inline--fa fa-arrow-up fa-w-14",role:"img",viewBox:"0 0 448 512"},[i("path",{fill:"currentColor",d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"})],-1)),vt=[_t];function yt(t,e,s,n,r,o){const a=b("router-link"),u=b("footerBar");return d(),c("div",null,[i("div",Re,[h(i("select",{name:"sortBy",id:"select","onUpdate:modelValue":e[0]||(e[0]=l=>r.sortBy=l)},Se,512),[[q,r.sortBy]]),h(i("select",{name:"ingredients",id:"ingredients","onUpdate:modelValue":e[1]||(e[1]=l=>r.selectedIngredient=l)},[Be,(d(!0),c(w,null,A(o.sortAndListIngredients,l=>(d(),c("option",{key:l.name,value:l.name},m(l.name)+" ("+m(l.value)+") ",9,Ee))),128))],512),[[q,r.selectedIngredient]]),h(i("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=l=>r.searchValue=l),placeholder:"Search Recipe",id:"search-input"},null,512),[[k,r.searchValue]])]),i("div",Ae,[o.randomNumberGenerator!=null?(d(),S(a,{key:0,to:"/recipe/"+o.randomNumberGenerator,id:"randomRecipe"},{default:R(()=>[Ne]),_:1},8,["to"])):p("",!0),i("button",{id:"minMaxBtn",onClick:e[3]||(e[3]=(...l)=>this.minMaxCards&&this.minMaxCards(...l))}," Hide recipe text ")]),L(J,{class:"cardList",tag:"div",name:"cardList"},{default:R(()=>[(d(!0),c(w,null,A(o.searchResult,l=>(d(),c("div",{class:"cardM",key:l.recipeId},[o.searchResult!=null||o.searchResult!=[]?(d(),c("a",{key:0,onClick:B=>o.saveAndRedirect(l)},[i("div",{class:"imgPart",style:D(o.backgroundimg(l.imgLink,l.recipeId))},Ue,4),i("div",Oe,[i("h2",qe,m(l.title),1),i("p",De,m(l.description),1),i("div",Pe,[i("p",ze,[i("span",null,m(l.ingredients.length),1),Fe,l.ingredients.length>1?(d(),c("span",Ge,"s")):p("",!0)]),i("p",je,[i("span",null,m(l.instructions.length),1),He,l.instructions.length>1?(d(),c("span",We,"s")):p("",!0)])])])],8,Me)):p("",!0)]))),128)),(d(!0),c(w,null,A(o.drinks,l=>(d(),c("div",{class:"cardS",key:l.recipeId},[o.drinks!=null||o.drinks!=[]?(d(),c("a",{key:0,onClick:B=>o.saveAndRedirect(l)},[i("div",{class:"imgPart",style:D(o.backgroundimg(l.imgLink,l.recipeId))},Je,4),i("div",Qe,[i("h2",Xe,m(l.title),1),i("p",Ze,m(l.description),1),i("div",et,[i("p",tt,[i("span",null,m(l.ingredients.length),1),it,l.ingredients.length>1?(d(),c("span",st,"s")):p("",!0)]),i("p",nt,[i("span",null,m(l.instructions.length),1),rt,l.instructions.length>1?(d(),c("span",ot,"s")):p("",!0)])])])],8,Ke)):p("",!0)]))),128)),o.noResults?(d(),c("div",at,[this.$store.state.recipesReady?p("",!0):(d(),c("div",lt,ct)),this.$store.state.recipesReady?(d(),c("div",ut,ft)):p("",!0)])):p("",!0)]),_:1}),L(u),i("button",{id:"goToTop",onClick:e[4]||(e[4]=(...l)=>o.goToTop&&o.goToTop(...l))},vt)])}var It=_(xe,[["render",yt],["__scopeId","data-v-8bbd77a4"]]);const kt={name:"mainArea",props:{title:{type:String,required:!0},description:{type:String,required:!0},imgLink:{type:String,required:!0},drink:{type:Boolean}},data(){return{templateImg:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6d/Good_Food_Display_-_NCI_Visuals_Online.jpg/330px-Good_Food_Display_-_NCI_Visuals_Online.jpg",drinkTemplateImg:"https://www.liquor.com/thmb/fO-COKLw_iEA28v8K4XQjzMhkfw=/735x0/very-sexy-martini-720x720-primary-b1212ebf73f54f898a56f7f0b60c0a34.jpg",imgLinkAndTemplate:""}},mounted(){this.imgLink==""?this.drink?this.imgLinkAndTemplate=this.drinkTemplateImg:this.imgLinkAndTemplate=this.templateImg:this.imgLinkAndTemplate=this.imgLink}},bt={id:"descriptionContainer"},wt={class:"description"},xt={id:"imgContainer"},Rt=["src"];function Lt(t,e,s,n,r,o){return d(),c(w,null,[i("div",bt,[i("h2",null,m(s.title),1),i("p",wt,m(s.description),1)]),i("div",xt,[i("img",{src:r.imgLinkAndTemplate,alt:"image of the dish"},null,8,Rt)])],64)}var Ct=_(kt,[["render",Lt],["__scopeId","data-v-aaed7428"]]);const $t={name:"timer",props:{instruction:{type:String,required:!0}},data(){return{time:"",originalTime:"",started:!1}},methods:{getTimeFromInstruction(){var t=/\d\d/,e=parseInt(t.exec(this.instruction));if(isNaN(e)&&(t=/\d/,e=parseInt(t.exec(this.instruction))),!isNaN(e)){var s="0"+Math.floor(e/60)+":"+e%60+":00";this.time=s,this.originalTime=s,document.querySelector(".time").innerHTML=s}},countdownTimer(){this.started=!0;var t=setInterval(()=>{if(!this.started){clearInterval(t);return}const e=this.time,[s,n,r]=e.split(":"),o=parseInt(r,10)-1,a=parseInt(n,10),u=parseInt(s,10);if(o<=0)if(a<=0){if(u<=0){clearInterval(t),this.timerDone();return}this.time=`${u-1}:59:59`}else this.time=`${u}:${a-1}:59`;else this.time=`${u}:${a}:${o}`},1e3)},stopTimer(){this.started=!1},resetTimer(){this.time=this.originalTime,this.started=!1},timerDone(){var t=new Audio("https://actions.google.com/sounds/v1/alarms/alarm_clock.ogg");t.play(),alert("Time's up!"),t.pause(),this.resetTimer()}},mounted(){this.getTimeFromInstruction()}},Tt=t=>($("data-v-cc485a1c"),t=t(),T(),t),St={class:"timer"},Bt=Tt(()=>i("svg",{style:{width:"30px",height:"30px"},version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512","xml:space":"preserve"},[i("g",{transform:"translate(1 1)"},[i("g",null,[i("g",null,[i("path",{d:"M255,101.4c-103.253,0-187.733,84.48-187.733,187.733c0,50.764,20.43,96.981,53.462,130.861     c0.328,0.492,0.71,0.963,1.152,1.405c0.484,0.484,0.97,0.891,1.473,1.238c33.949,33.484,80.49,54.229,131.647,54.229     c103.253,0,187.733-84.48,187.733-187.733S358.253,101.4,255,101.4z M400.067,297.667h25.385     c-2.023,40.571-18.386,77.528-44.093,105.879l-17.985-17.985c-3.413-3.413-8.533-3.413-11.947,0     c-3.413,3.413-3.413,8.533,0,11.947l17.985,17.985c-28.35,25.707-65.308,42.07-105.879,44.093V434.2     c0-5.12-3.413-8.533-8.533-8.533s-8.533,3.413-8.533,8.533v25.385c-40.784-2.034-77.916-18.559-106.325-44.5l17.578-17.578     c3.413-3.413,3.413-8.533,0-11.947c-3.413-3.413-8.533-3.413-11.947,0l-17.533,17.534     c-25.474-28.291-41.679-65.07-43.692-105.427h25.385c4.267,0,8.533-3.413,8.533-8.533s-3.413-8.533-8.533-8.533H84.548     c2.023-40.571,18.386-77.528,44.093-105.879l17.985,17.985c1.707,1.707,3.413,2.56,5.973,2.56c1.707,0,4.267-0.853,5.973-2.56     c3.413-3.413,3.413-8.533,0-11.947l-17.985-17.985c28.35-25.707,65.308-42.07,105.879-44.093v25.385     c0,5.12,3.413,8.533,8.533,8.533c4.267,0,8.533-3.413,8.533-8.533v-25.385c40.571,2.023,77.528,18.386,105.879,44.093     l-17.985,17.985c-3.413,3.413-3.413,8.533,0,11.947c1.707,1.707,3.413,2.56,5.973,2.56s4.267-0.853,5.973-2.56l17.985-17.985     c25.707,28.35,42.07,65.308,44.093,105.879h-25.385c-5.12,0-8.533,3.413-8.533,8.533S394.947,297.667,400.067,297.667z"}),i("path",{d:"M468.333,153.453c6.827,0,13.653-2.56,18.773-7.68c10.24-10.24,10.24-27.307,0-37.547l-34.133-34.133     c-10.24-10.24-27.307-10.24-37.547,0c-8.316,8.316-9.878,21.133-4.688,31.141l-13.759,13.759     c-30.247-25.306-67.268-42.746-107.847-49.081V50.2h16.213c10.24,0,17.92-7.68,17.92-17.067V16.92     c0-10.24-7.68-17.92-17.92-17.92H203.8c-9.387,0-17.067,7.68-17.067,17.92v15.36c0,10.24,7.68,17.92,17.067,17.92h17.067v19.712     c-40.371,6.302-77.223,23.593-107.384,48.69l-13.941-13.941c4.842-9.92,3.191-22.409-4.968-30.568     c-10.24-10.24-27.307-10.24-37.547,0l-34.133,34.133c-10.24,10.24-10.24,27.307,0,37.547c5.12,5.12,11.947,7.68,18.773,7.68     c6.06,0,12.117-2.022,16.983-6.057l14.723,14.723c-25.327,36.043-40.24,79.869-40.24,127.013C33.133,411.16,132.973,511,255,511     s221.867-99.84,221.867-221.867c0-46.926-14.777-90.562-39.89-126.51l14.846-14.846     C456.605,151.558,462.468,153.453,468.333,153.453z M427.373,86.04c1.707-1.707,4.267-2.56,6.827-2.56s5.12,0.853,6.827,2.56     l34.133,34.133c3.413,4.267,4.267,10.24,0,13.653s-10.24,3.413-13.653,0l-1.543-1.543c-0.426-0.975-1.047-1.9-1.871-2.724     l-29.867-29.867c-0.559-0.559-1.168-1.018-1.804-1.394C424.006,94.202,424.317,89.096,427.373,86.04z M421.4,117.613l17.92,17.92     l-12.8,12.8c-5.12-6.827-11.093-12.8-17.067-18.773L421.4,117.613z M203.8,16.067l102.4,0.853v15.36c0,0.853,0,0.853-0.853,0.853     L203.8,32.28V16.067z M237.933,50.2h34.133v17.722c-5.634-0.434-11.326-0.656-17.067-0.656s-11.432,0.222-17.067,0.656V50.2z      M88.6,117.613l11.947,11.947c-5.973,5.973-11.947,11.947-17.067,18.773l-12.8-12.8L88.6,117.613z M34.84,133.827     c-3.413-4.267-3.413-10.24,0-13.653L68.973,86.04c1.707-1.707,4.267-2.56,6.827-2.56s5.12,0.853,6.827,2.56     c3.413,4.267,3.413,10.24,0,13.653L52.76,129.56l-4.267,4.267C45.08,137.24,38.253,137.24,34.84,133.827z M255,493.933     c-112.64,0-204.8-92.16-204.8-204.8c0-45.669,15.152-87.969,40.673-122.128c0.38-0.248,0.76-0.499,1.14-0.752     c7.68-11.093,17.067-20.48,27.307-29.867c0.348-0.348,0.651-0.737,0.928-1.142c29.931-26.26,67.508-43.989,108.838-49.267     c0.387,0.037,0.777,0.062,1.167,0.062c17.067-1.707,32.427-1.707,49.493,0h0.853c0.171,0,0.356-0.015,0.542-0.032     C381.556,98.947,459.8,185.346,459.8,289.133C459.8,401.773,367.64,493.933,255,493.933z"}),i("path",{d:"M263.533,256.088V178.2c0-5.12-3.413-8.533-8.533-8.533s-8.533,3.413-8.533,8.533v77.888     c-14.679,3.814-25.6,17.216-25.6,33.046c0,18.773,15.36,34.133,34.133,34.133s34.133-15.36,34.133-34.133     C289.133,273.304,278.212,259.902,263.533,256.088z M255,306.2c-9.387,0-17.067-7.68-17.067-17.067s7.68-17.067,17.067-17.067     s17.067,7.68,17.067,17.067S264.387,306.2,255,306.2z"})])])])],-1)),Et={class:"time"};function At(t,e,s,n,r,o){return d(),c("label",St,[Bt,i("span",Et,m(r.time),1),this.started?p("",!0):(d(),c("button",{key:0,class:"timerStart",onClick:e[0]||(e[0]=(...a)=>this.countdownTimer&&this.countdownTimer(...a))}," Start ")),this.started?(d(),c("button",{key:1,class:"timerStop",onClick:e[1]||(e[1]=(...a)=>this.stopTimer&&this.stopTimer(...a))}," Stop ")):p("",!0),i("button",{class:"timerReset",onClick:e[2]||(e[2]=(...a)=>this.resetTimer&&this.resetTimer(...a))},"Reset")])}var Nt=_($t,[["render",At],["__scopeId","data-v-cc485a1c"]]);const Mt={name:"instruction",components:{timer:Nt},props:{instructions:{type:Array,required:!0}},methods:{checkInstruction(t){var e=document.getElementById(t.id).parentElement;t.checked?e.classList.remove("checked"):e.classList.add("checked")}}},Vt=t=>($("data-v-39f7d6f7"),t=t(),T(),t),Ut=Vt(()=>i("h2",{style:{"text-align":"center"}},"Instructions",-1)),Ot={class:"instruction"},qt=["name","id","onUpdate:modelValue","onClick"],Dt=["for"];function Pt(t,e,s,n,r,o){const a=b("timer");return d(),c(w,null,[Ut,i("ol",Ot,[(d(!0),c(w,null,A(s.instructions,u=>(d(),c("li",{key:u.id,class:Q({checked:u.checked})},[h(i("input",{type:"checkbox",name:u.id,id:u.id,"onUpdate:modelValue":l=>u.checked=l,onClick:l=>o.checkInstruction(u)},null,8,qt),[[P,u.checked]]),i("label",{for:u.id},m(u.text),9,Dt),u.text.includes("minuter")?(d(),S(a,{key:0,instruction:u.text},null,8,["instruction"])):p("",!0)],2))),128))])],64)}var zt=_(Mt,[["render",Pt],["__scopeId","data-v-39f7d6f7"]]);const Ft={name:"ingredients",props:{ingredients:{type:Array,required:!0}},data(){return{portions:4}},methods:{add2Portions(){let t=this.portions+2;!this.checkServings(t)||(this.ingredients.forEach(e=>{e.amount!=""&&(e.amount/=this.portions,Math.round(e.amount*=t))}),this.portions+=2)},remove2Portions(){let t=this.portions-2;!this.checkServings(t)||(this.ingredients.forEach(e=>{e.amount!=""&&(e.amount/=this.portions,Math.round(e.amount*=t))}),this.portions-=2)},changeToPortions(t){if(typeof t=="number")var e=t;else e=parseInt(t.target.value);if(!!this.checkServings(e)&&this.portions!=e){let s=this.portions;this.portions=e,this.ingredients.forEach(n=>{n.amount!=""&&(n.amount/=s,Math.round(n.amount*=this.portions))})}},checkServings(t){return t==""?(document.getElementById("portions").value=this.portions,!1):t>98?(alert("You can't have more than 98 servings!"),document.getElementById("portions").value=98,this.changeToPortions(98),!1):t<1?(alert("You can't have less than 1 serving!"),document.getElementById("portions").value=1,this.changeToPortions(1),!1):isNaN(t)?(document.getElementById("portions").value=this.portions,!1):!0}}},U=t=>($("data-v-ff1be2da"),t=t(),T(),t),Gt=U(()=>i("h2",null,"Ingredients",-1)),jt={id:"servingsContainer"},Ht=U(()=>i("svg",{version:"1.1",viewBox:"0 0 32 32",role:"presentation","aria-label":"Decrease servings",class:"svg-icon svg-fill"},[i("path",{pid:"0","fill-rule":"evenodd",d:"M23.768 15H9a.249.249 0 00-.223.138l-.75 1.5A.25.25 0 008.25 17h15.518a.258.258 0 00.259-.259v-1.483a.258.258 0 00-.26-.258"})],-1)),Wt=[Ht],Kt=["placeholder","value"],Yt=U(()=>i("label",{for:"portions"},"Servings",-1)),Jt=U(()=>i("svg",{version:"1.1",viewBox:"0 0 32 32",role:"presentation","aria-label":"Increase servings",class:"svg-icon svg-fill"},[i("path",{pid:"0","fill-rule":"evenodd",d:"M23.768 14.994h-6.744V8.258A.26.26 0 0016.766 8h-1.477a.257.257 0 00-.262.262v6.732H9a.249.249 0 00-.223.138l-.75 1.5a.25.25 0 00.223.362h6.777v6.748c0 .142.116.258.258.258l1.48-.004a.25.25 0 00.259-.258v-6.744h6.744a.258.258 0 00.259-.259v-1.483a.258.258 0 00-.26-.258"})],-1)),Qt=[Jt],Xt={class:"ingredients"};function Zt(t,e,s,n,r,o){return d(),c(w,null,[Gt,i("h4",null,m(s.ingredients.length)+" Ingredients",1),i("div",jt,[i("button",{onClick:e[0]||(e[0]=a=>o.remove2Portions())},Wt),i("input",{name:"portions",id:"portions",placeholder:this.portions,value:this.portions,onChange:e[1]||(e[1]=(...a)=>o.changeToPortions&&o.changeToPortions(...a))},null,40,Kt),Yt,i("button",{onClick:e[2]||(e[2]=a=>o.add2Portions())},Qt)]),i("ul",Xt,[(d(!0),c(w,null,A(s.ingredients,a=>(d(),c("li",{key:a.name},m(` ${a.amount} ${a.measurment} ${a.name} `),1))),128))])],64)}var ei=_(Ft,[["render",Zt],["__scopeId","data-v-ff1be2da"]]);const ti={name:"recipePage",components:{mainArea:Ct,instruction:zt,ingredients:ei},methods:{deleteRecipe(){var t=[],e=f.database().ref("recipes");if(e.on("value",s=>{s.forEach(n=>{t.push(n.key)})}),e.child(t[this.currentRecipeId]).remove(),alert("Recipe deleted!"),e.on("value",s=>{s.forEach(n=>{n.val().recipeId>this.currentRecipeId&&e.child(n.key).update({recipeId:n.val().recipeId-1})})}),t.length==1){let s={title:"Add a recipe",description:"Since this database shouldn't be empty, you should add a recipe!",recipeId:"0",ingredients:[{amount:"2",unit:"Large",name:"OOF's"}],instructions:[{checked:!1,id:"0",text:"Add a recipe"}],servings:"4",link:"foodlist-0921.web.app/#/add",imgLink:""};e.push(s)}this.$router.push("/")},confirmDelete(){confirm(`Are you sure you want to delete this recipe? \r
This action cannot be undone.`)&&this.deleteRecipe()}},computed:{currentRecipeId(){return this.$route.params.id},currentRecipe(){return this.$store.state.recipesList[this.currentRecipeId]},store(){return X()}}},ii={id:"content"},si={class:"bigCard card",style:{display:"flex","flex-wrap":"wrap","justify-content":"space-evenly",padding:"0px"}},ni={class:"mediumCard card"},ri={class:"mediumCard card"},oi={id:"footer"},ai=["href"],li=C(" Edit this recipe ");function di(t,e,s,n,r,o){const a=b("mainArea"),u=b("ingredients"),l=b("instruction"),B=b("router-link");return d(),c("div",null,[i("div",ii,[i("div",si,[L(a,{title:this.currentRecipe.title,description:this.currentRecipe.description,imgLink:this.currentRecipe.imgLink,drink:this.currentRecipe.drink},null,8,["title","description","imgLink","drink"])]),i("div",ni,[L(u,{ingredients:this.currentRecipe.ingredients},null,8,["ingredients"])]),i("div",ri,[L(l,{instructions:this.currentRecipe.instructions},null,8,["instructions"])])]),i("div",oi,[this.currentRecipe.link?(d(),c("a",{key:0,href:this.currentRecipe.link,target:"_blank",id:"ogLink"},"Original Recipe",8,ai)):p("",!0),this.$store.state.admin?(d(),S(B,{key:1,id:"edit",to:"/edit/"+this.currentRecipeId},{default:R(()=>[li]),_:1},8,["to"])):p("",!0),this.$store.state.admin?(d(),c("button",{key:2,id:"delete",onClick:e[0]||(e[0]=(...E)=>o.confirmDelete&&o.confirmDelete(...E))}," Delete this recipe ")):p("",!0)])])}var ci=_(ti,[["render",di],["__scopeId","data-v-34aee6ea"]]);const ui={name:"AddRecipe",data(){return{recipe:{recipeId:"",drink:!1,title:"",description:"",ingredients:[],instructions:[],servings:"",link:"",imgLink:""},moreThanOneIngredient:!1,moreThanOneInstruction:!1,draft:[]}},methods:{addIngredient(){let t=document.getElementById("ingredientsList"),e=t.children[t.children.length-1];t.insertBefore(e.cloneNode(!0),e);let s=e.getElementsByTagName("input");for(let n=0;n<s.length;n++)s[n].value="";this.moreThanOneIngredient=!0},removeIngredient(){let t=document.getElementsByClassName("ingredients");t.length>1&&t[t.length-1].remove(),t.length==1&&(this.moreThanOneIngredient=!1)},fixIngredients(){let t=[],e=document.getElementsByClassName("ingredients");for(let s=0;s<e.length;s++){let n={},r=e[s].querySelectorAll("input");for(let o=0;o<r.length;o++)n[r[o].name]=r[o].value;t.push(n)}this.recipe.ingredients=t,this.checkServings()},addInstruction(){let t=document.getElementById("instructionsList"),e=t.children[t.children.length-1];t.insertBefore(e.cloneNode(!0),e);let s=e.getElementsByTagName("input");for(let n=0;n<s.length;n++)s[n].value="";this.moreThanOneInstruction=!0},removeInstruction(){let t=document.getElementsByClassName("instructions");t.length>1&&t[t.length-1].remove(),t.length==1&&(this.moreThanOneInstruction=!1)},fixInstructions(){let t=document.getElementsByClassName("instructions");for(let e=0;e<t.length;e++){let s=t[e].querySelectorAll("input");for(let n=0;n<s.length;n++)s[0].value==""?s[0].value=e:s[1].value==""&&(s[1].value=!1);this.populateInstruction()}},populateInstruction(){let t=[],e=document.getElementsByClassName("instructions");for(let s=0;s<e.length;s++){let n={},r=e[s].querySelectorAll("input");for(let o=0;o<r.length;o++)r[1].value=="true"?n[r[1].name]=!0:r[1].value=="false"&&(n[r[1].name]=!1),n[r[o].name]=r[o].value;t.push(n)}this.recipe.instructions=t},checkServings(){let t=document.getElementById("recipeServings").value;if(t!=""&&t){if(document.getElementsByClassName("amount")[0].value=="")return;let e=this.recipe.ingredients,s=document.getElementsByClassName("amount");for(let n=0;n<e.length;n++){if(s[n].value=="")return;let o=e[n].amount/t*4;o=Number(o.toFixed(1)),e[n].amount=o,s[n].value=o}this.recipe.ingredients=e}},post(){if(this.recipe.title=="Test JKL"){this.testPost(),this.$router.push("/");return}if(this.recipe.title==""||this.recipe.description==""||this.recipe.ingredients==""||this.recipe.instructions==""||this.recipe.link==""){alert("Please fill out all fields");return}this.addRecipeId(),this.fixIngredients(),this.fixInstructions(),f.database().ref("recipes").push(this.recipe),alert("Recipe added!"),this.removeDraft(),this.$router.push("/")},testPost(){this.recipe.title="Test",this.recipe.description="Test",this.addRecipeId(),this.recipe.ingredients=[{name:"Test",amount:"1",measurment:"Test"}],this.recipe.instructions=[{id:0,checked:!0,text:"Test"},{id:1,checked:!1,text:"Test2"}],this.recipe.servings="4",this.recipe.link="www.google.com",this.recipe.imgLink="",f.database().ref("recipes").push(this.recipe),alert("Test recipe added!")},saveAsDraft(){this.addRecipeId(),this.fixIngredients(),this.fixInstructions();let t={title:this.recipe.title,description:this.recipe.description,ingredients:this.recipe.ingredients,instructions:this.recipe.instructions,servings:this.recipe.servings,link:this.recipe.link,imgLink:this.recipe.imgLink};localStorage.setItem("draft",JSON.stringify(t))},getDraft(){let t=JSON.parse(localStorage.getItem("draft"));t&&(this.draft=t)},putBackDraft(){this.recipe.title=this.draft.title,this.recipe.description=this.draft.description,this.recipe.servings=this.draft.servings,this.recipe.link=this.draft.link,this.recipe.imgLink=this.draft.imgLink,this.recipe.ingredients=this.draft.ingredients,this.recipe.instructions=this.draft.instructions,this.putBackIngredients(),this.putBackInstructions(),this.removeDraft()},putBackIngredients(){if(this.recipe.ingredients.length>1)for(let e=1;e<this.recipe.ingredients.length;e++)this.addIngredient();let t=document.getElementsByClassName("ingredients");for(let e=0;e<t.length;e++){let s=t[e].querySelectorAll("input");for(let n=0;n<s.length;n++)s[n].name=="name"&&(s[n].value=this.recipe.ingredients[e].name),s[n].name=="amount"&&(s[n].value=this.recipe.ingredients[e].amount),s[n].name=="measurment"&&(s[n].value=this.recipe.ingredients[e].measurment)}},putBackInstructions(){if(this.recipe.instructions.length>1)for(let e=1;e<this.recipe.instructions.length;e++)this.addInstruction();let t=document.getElementsByClassName("instructions");for(let e=0;e<t.length;e++){let s=t[e].querySelectorAll("input");for(let n=0;n<s.length;n++)s[n].name=="text"&&(s[n].value=this.recipe.instructions[e].text),s[n].name=="checked"&&(s[n].value=this.recipe.instructions[e].checked),s[n].name=="id"&&(s[n].value=this.recipe.instructions[e].id)}},removeDraft(){this.draft=[],localStorage.removeItem("draft")},addRecipeId(){this.recipe.recipeId=this.$store.state.recipesList.length}},mounted(){this.addRecipeId(),this.getDraft();let t=document.getElementsByTagName("input"),e=document.getElementsByTagName("textarea");for(let s=0;s<t.length;s++)t[s].addEventListener("change",this.saveAsDraft);for(let s=0;s<e.length;s++)e[s].addEventListener("change",this.saveAsDraft)}},I=t=>($("data-v-0aeebea2"),t=t(),T(),t),pi={style:{display:"flex"}},mi={key:0,id:"draft"},hi={id:"addRecipe"},gi=I(()=>i("h2",null,"Add Recipe",-1)),fi={action:""},_i={class:"form-group"},vi=I(()=>i("label",{for:"recipeName"},"Recipe Name / Title:",-1)),yi={class:"form-group"},Ii=I(()=>i("label",{for:"drink",style:{display:"inline-block"}},"Drink? :",-1)),ki={class:"form-group"},bi=I(()=>i("label",{for:"recipeDescription"},"Recipe Description:",-1)),wi={class:"form-group"},xi=M('<label for="recipeIngredients" data-v-0aeebea2>Recipe Ingredients:</label><div id="labels" data-v-0aeebea2><label for="amount" data-v-0aeebea2>Quantity:</label><label for="ingredientUnit" data-v-0aeebea2>Unit:</label><label for="ingredientName" data-v-0aeebea2>Ingredient Name:</label></div>',2),Ri={id:"ingredientsList"},Li={class:"ingredients"},Ci=I(()=>i("input",{type:"number",placeholder:"2",name:"amount",class:"amount"},null,-1)),$i=I(()=>i("input",{type:"text",placeholder:"Large",name:"measurment"},null,-1)),Ti={class:"form-group"},Si=I(()=>i("label",{for:"recipeServings"},"Recipe Servings:",-1)),Bi={class:"form-group"},Ei=M('<label for="recipeInstructions" data-v-0aeebea2>Recipe Instructions: </label><div id="labels" data-v-0aeebea2><label for="id" style="flex:0.25;" data-v-0aeebea2>Id:</label><label for="checked" style="flex:0.25;" data-v-0aeebea2>Checked:</label><label for="text" style="flex:0.8;" data-v-0aeebea2>Instruction:</label></div>',2),Ai={id:"instructionsList"},Ni={class:"instructions"},Mi=I(()=>i("input",{type:"number",placeholder:"1",name:"id",style:{width:"25%"}},null,-1)),Vi=I(()=>i("input",{type:"text",placeholder:"false",name:"checked",style:{width:"25%"}},null,-1)),Ui={class:"form-group"},Oi=I(()=>i("label",{for:"recipeImage"},"Original Recipe Link:",-1)),qi={class:"form-group"},Di=I(()=>i("label",{for:"recipeImage"},"Recipe Image (Link):",-1));function Pi(t,e,s,n,r,o){return d(),c("div",pi,[r.draft.length!=0?(d(),c("div",mi,[i("ul",null,[(d(!0),c(w,null,A(r.draft,a=>(d(),c("li",{key:a.name},[i("p",null,m(a),1)]))),128))]),i("button",{onClick:e[0]||(e[0]=(...a)=>o.putBackDraft&&o.putBackDraft(...a))},"Input draft!"),i("button",{style:{"background-color":"red"},onClick:e[1]||(e[1]=(...a)=>o.removeDraft&&o.removeDraft(...a))}," Remove draft! ")])):p("",!0),i("div",hi,[gi,i("form",fi,[i("div",_i,[vi,h(i("input",{type:"text",class:"form-control",id:"recipeName",placeholder:"Tomatoes and Cheese Pasta","onUpdate:modelValue":e[2]||(e[2]=a=>r.recipe.title=a),required:""},null,512),[[k,r.recipe.title]])]),i("div",yi,[Ii,h(i("input",{type:"checkbox",name:"drink",id:"drink","onUpdate:modelValue":e[3]||(e[3]=a=>r.recipe.drink=a)},null,512),[[P,r.recipe.drink]])]),i("div",ki,[bi,h(i("textarea",{class:"form-control",id:"recipeDescription",rows:"3","onUpdate:modelValue":e[4]||(e[4]=a=>r.recipe.description=a),placeholder:"A simple recipe for a tasty pasta dish with tomatoes and cheese."},null,512),[[k,r.recipe.description]])]),i("div",wi,[xi,i("div",Ri,[i("div",Li,[Ci,$i,i("input",{type:"text",placeholder:"Tomatoes",name:"name",onChange:e[5]||(e[5]=(...a)=>o.fixIngredients&&o.fixIngredients(...a)),required:""},null,32)])]),i("button",{type:"button",onClick:e[6]||(e[6]=(...a)=>o.addIngredient&&o.addIngredient(...a))}," Add Ingredient "),r.moreThanOneIngredient?(d(),c("button",{key:0,type:"button",onClick:e[7]||(e[7]=(...a)=>o.removeIngredient&&o.removeIngredient(...a))}," Remove Ingredient ")):p("",!0)]),i("div",Ti,[Si,h(i("input",{type:"number",class:"form-control",id:"recipeServings",placeholder:"4","onUpdate:modelValue":e[8]||(e[8]=a=>r.recipe.servings=a),onChange:e[9]||(e[9]=(...a)=>o.checkServings&&o.checkServings(...a))},null,544),[[k,r.recipe.servings]])]),i("div",Bi,[Ei,i("div",Ai,[i("div",Ni,[Mi,Vi,i("input",{type:"text",placeholder:"1. Preheat oven to 350 degrees.",name:"text",onChange:e[10]||(e[10]=(...a)=>o.fixInstructions&&o.fixInstructions(...a)),required:"",style:{width:"90%"}},null,32)])]),i("button",{type:"button",onClick:e[11]||(e[11]=(...a)=>o.addInstruction&&o.addInstruction(...a))}," Add Instruction "),r.moreThanOneInstruction?(d(),c("button",{key:0,type:"button",onClick:e[12]||(e[12]=(...a)=>o.removeInstruction&&o.removeInstruction(...a))}," Remove Instruction ")):p("",!0)]),i("div",Ui,[Oi,h(i("input",{type:"text",class:"form-control",id:"recipeImage",placeholder:"www.example.com/recipe.html","onUpdate:modelValue":e[13]||(e[13]=a=>r.recipe.link=a)},null,512),[[k,r.recipe.link]])]),i("div",qi,[Di,h(i("input",{type:"text",class:"form-control",id:"recipeImage",placeholder:"www.google.com(images/recipe.jpg)","onUpdate:modelValue":e[14]||(e[14]=a=>r.recipe.imgLink=a)},null,512),[[k,r.recipe.imgLink]])]),i("button",{onClick:e[15]||(e[15]=V((...a)=>o.post&&o.post(...a),["prevent"])),type:"submit"},"Submit")])])])}var zi=_(ui,[["render",Pi],["__scopeId","data-v-0aeebea2"]]);const Fi={name:"edit-recipe",data(){return{moreThanOneIngredient:!1,moreThanOneInstruction:!1}},methods:{addIngredient(){let t=document.getElementsByClassName("editIngredients")[0].cloneNode(!0);for(let e=0;e<t.length;e++)t.querySelector("input").value="";document.getElementsByClassName("editIngredients")[0].parentNode.appendChild(t),this.moreThanOneIngredient=!0},removeIngredient(){let t=document.getElementsByClassName("editIngredients");t.length>1&&t[t.length-1].remove(),t.length==1&&(this.moreThanOneIngredient=!1)},addInstruction(){let t=document.getElementById("instructionsList"),e=t.children[t.children.length-1];t.insertBefore(e.cloneNode(!0),e);let s=e.getElementsByTagName("input");for(let n=0;n<s.length;n++)s[n].value="";this.moreThanOneInstruction=!0},removeInstruction(){let t=document.getElementsByClassName("editInstructions");t.length>1&&t[t.length-1].remove(),t.length==1&&(this.moreThanOneInstruction=!1)},editFirebase(){if(!this.$store.state.admin)return;let t=f.database();var e=f.database().ref("recipes"),s=[];e.on("value",g=>{g.forEach(x=>{s.push(x.key)})});let n=t.ref("recipes/"+s[this.$route.params.id]),r=document.getElementById("title").value,o=document.getElementById("drink").checked,a=document.getElementById("description").value,u=[],l=document.getElementsByClassName("editIngredients");for(let g=0;g<l.length;g++){let x={amount:l[g].querySelectorAll("input")[0].value,measurment:l[g].querySelectorAll("input")[1].value,name:l[g].querySelectorAll("input")[2].value};u.push(x)}let B=[],E=document.getElementsByClassName("editInstructions");for(let g=0;g<E.length;g++){let x={checked:E[g].querySelectorAll("input")[0].value,id:E[g].querySelectorAll("input")[1].value,text:E[g].querySelectorAll("input")[2].value};x.checked=="true"&&(x.checked=!0),x.checked=="false"&&(x.checked=!1),B.push(x)}let G=document.getElementById("servings").value,j=document.getElementById("link").value,H=document.getElementById("imgLink").value,O=this.$route.params.id;O=parseInt(O);let W={title:r,drink:o,description:a,ingredients:u,instructions:B,servings:G,link:j,imgLink:H,recipeId:O};n.update(W),alert("Recipe updated!"),this.$router.push("/recipe/"+this.$route.params.id)},putRecipeDetailsInInputs(){document.getElementById("title").value=this.currentRecipe.title,document.getElementById("description").value=this.currentRecipe.description,document.getElementById("imgLink").value=this.currentRecipe.imgLink,this.currentRecipe.drink&&(document.getElementById("drink").checked=!0);let t=this.currentRecipe.ingredients;t.length>1&&(this.moreThanOneIngredient=!0);for(let s=0;s<t.length;s++){let n=t[s],r=n.amount,o=n.measurment,a=n.name,u=document.createElement("div");u.classList.add("editIngredients"),u.innerHTML=`
					<input type="text" name="amount" class="amount" value="${r}">
					<input type="text" name="measurment" class="measurment" value="${o}">
					<input type="text" name="name" class="name" value="${a}">
				`,document.getElementById("ingredientsList").appendChild(u)}let e=this.currentRecipe.instructions;e.length>1&&(this.moreThanOneInstruction=!0);for(let s=0;s<e.length;s++){let n=e[s],r=n.checked,o=n.id,a=n.text,u=document.createElement("div");u.classList.add("editInstructions"),u.innerHTML=`
					<input type="text" name="checked" class="checked" value="${r}">
					<input type="number" name="id" class="id" value="${o}">
					<input type="text" name="text" class="text" value="${a}">
				`,document.getElementById("instructionsList").appendChild(u)}document.getElementById("servings").value=this.currentRecipe.servings,document.getElementById("link").value=this.currentRecipe.link}},mounted(){this.putRecipeDetailsInInputs()},computed:{currentRecipe(){return this.$store.state.recipesList[this.$route.params.id]}}},Gi={action:"",id:"container"},ji=M('<input type="text" name="title" id="title" placeholder="title"><label for="drink">drink? :</label><input type="checkbox" name="drink" id="drink"><input type="text" name="description" id="description" placeholder="description"><input type="text" name="imgLink" id="imgLink" placeholder="imgLink"><div id="labels"><label for="amount" style="flex:0.25;">Quantity:</label><label for="ingredientUnit" style="flex:0.25;">Unit:</label><label for="ingredientName" style="flex:0.8;">Ingredient Name:</label></div><div id="ingredientsList"></div>',7),Hi={id:"ingredientsButtons"},Wi=M('<div id="labels"><label for="checked" style="flex:0.25;">Checked:</label><label for="id" style="flex:0.25;">Id:</label><label for="name" style="flex:0.8;">Instruction:</label></div><div id="instructionsList"></div>',2),Ki={id:"instructionsButtons"},Yi=i("input",{type:"text",name:"servings",id:"servings",placeholder:"servings"},null,-1),Ji=i("input",{type:"text",name:"link",id:"link",placeholder:"link"},null,-1);function Qi(t,e,s,n,r,o){return d(),c("div",null,[i("form",Gi,[ji,i("div",Hi,[i("button",{type:"button",onClick:e[0]||(e[0]=(...a)=>o.addIngredient&&o.addIngredient(...a))},"Add Ingredient"),r.moreThanOneIngredient?(d(),c("button",{key:0,type:"button",onClick:e[1]||(e[1]=(...a)=>o.removeIngredient&&o.removeIngredient(...a))}," Remove Ingredient ")):p("",!0)]),Wi,i("div",Ki,[i("button",{type:"button",onClick:e[2]||(e[2]=(...a)=>o.addInstruction&&o.addInstruction(...a))}," Add Instruction "),r.moreThanOneInstruction?(d(),c("button",{key:0,type:"button",onClick:e[3]||(e[3]=(...a)=>o.removeInstruction&&o.removeInstruction(...a))}," Remove Instruction ")):p("",!0)]),Yi,Ji,i("button",{onClick:e[4]||(e[4]=V((...a)=>o.editFirebase&&o.editFirebase(...a),["prevent"])),type:"submit",id:"updateRecipeBtn"}," Update ")])])}var Xi=_(Fi,[["render",Qi]]);const Zi={name:"loginPage",data(){return{email:"",password:""}},methods:{login(){this.$store.dispatch("login",{email:this.email,password:this.password}).then(()=>{this.$router.push("/")})},loginWithGoogle(){this.$store.dispatch("loginWithGoogle").then(()=>{this.$router.push("/")})}}},z=t=>($("data-v-4208a6fe"),t=t(),T(),t),es={id:"login"},ts=z(()=>i("h2",null,"Login",-1)),is=z(()=>i("button",{type:"submit"},"Login",-1));function ss(t,e,s,n,r,o){return d(),c("div",null,[i("div",es,[i("form",{onSubmit:e[2]||(e[2]=V((...a)=>o.login&&o.login(...a),["prevent"]))},[ts,h(i("input",{type:"email",placeholder:"Email address...","onUpdate:modelValue":e[0]||(e[0]=a=>r.email=a)},null,512),[[k,r.email]]),h(i("input",{type:"password",placeholder:"password...","onUpdate:modelValue":e[1]||(e[1]=a=>r.password=a)},null,512),[[k,r.password]]),is],32),i("button",{onClick:e[3]||(e[3]=(...a)=>o.loginWithGoogle&&o.loginWithGoogle(...a))},"Sign In with Google")])])}var ns=_(Zi,[["render",ss],["__scopeId","data-v-4208a6fe"]]);const rs={name:"RegisterPage",data(){return{email:"",password:""}},methods:{register(){this.$store.dispatch("register",{email:this.email,password:this.password}).then(()=>{this.$router.push("/")})}}},F=t=>($("data-v-8377a67a"),t=t(),T(),t),os={id:"register"},as=F(()=>i("h2",null,"Register",-1)),ls=F(()=>i("button",{type:"submit"},"Register",-1));function ds(t,e,s,n,r,o){return d(),c("div",null,[i("div",os,[i("form",{onSubmit:e[2]||(e[2]=V((...a)=>o.register&&o.register(...a),["prevent"]))},[as,h(i("input",{type:"email",placeholder:"Email address...","onUpdate:modelValue":e[0]||(e[0]=a=>r.email=a)},null,512),[[k,r.email]]),h(i("input",{type:"password",placeholder:"password...","onUpdate:modelValue":e[1]||(e[1]=a=>r.password=a)},null,512),[[k,r.password]]),ls],32)])])}var cs=_(rs,[["render",ds],["__scopeId","data-v-8377a67a"]]);const us={apiKey:"AIzaSyDqfqIZoRXgkZJadMG5km-YZa3O1x344uA",authDomain:"foodlist-0921.firebaseapp.com",databaseURL:"https://foodlist-0921-default-rtdb.europe-west1.firebasedatabase.app",projectId:"foodlist-0921",storageBucket:"foodlist-0921.appspot.com",messagingSenderId:"652727898134",appId:"1:652727898134:web:bbdf18c26aa6696fe12537"};f.initializeApp(us);const y=Z({state:{recipesList:[],recipesReady:!1,currentUser:null,authIsReady:!1,selectedRecipe:null,admin:!1},mutations:{setRecipesList(t,e){t.recipesList=e},addToRecipesList(t,e){t.recipesList.push(e)},removeFromRecipesList(t,e){t.recipesList.splice(e,1)},changeRecipeList(t,e){t.recipesList[e.index]=e.recipe},setRecipesReady(t,e){t.recipesReady=e},setSelectedRecipe(t,e){t.selectedRecipe=e},setCurrentUser(t,e){t.currentUser=e},setAuthIsReady(t,e){t.authIsReady=e},setAdmin(t,e){t.admin=e}},actions:{async fetchRecipesList(t){let e=f.database().ref("recipes");e.on("child_added",s=>{t.commit("addToRecipesList",s.val()),t.commit("setRecipesReady",!0)}),e.on("child_removed",s=>{let n=y.state.recipesList.findIndex(r=>r.recipeId===s.val().recipeId);t.commit("removeFromRecipesList",n)}),e.on("child_changed",s=>{let n=y.state.recipesList.findIndex(r=>r.recipeId===s.val().recipeId);t.commit("changeRecipeList",{index:n,recipe:s.val()})})},async login(t,e){let s=await f.auth().signInWithEmailAndPassword(e.email,e.password);if(s)t.commit("setCurrentUser",s);else throw new Error("Login failed")},async loginWithGoogle(t){let e=new f.auth.GoogleAuthProvider,s=await f.auth().signInWithPopup(e);if(s)t.commit("setCurrentUser",s);else throw new Error("Login with Google failed")},async checkAdmin(t){y.state.currentUser&&(y.state.currentUser.email=="jacob.klaren@me.com"||y.state.currentUser.email=="klarenjacob00@gmail.com")&&t.commit("setAdmin",!0)},async register(t,e){let s=await f.auth().createUserWithEmailAndPassword(e.email,e.password);if(s)t.commit("setCurrentUser",s);else throw new Error("Register failed")},async logout(t){await f.auth().signOut(),t.commit("setCurrentUser",null)}},getters:{}});f.auth().onAuthStateChanged(t=>{y.commit("setAuthIsReady",!0),y.commit("setCurrentUser",t),y.dispatch("checkAdmin")});y.dispatch("fetchRecipesList");const ps=[{path:"/",name:"recipeList",component:It,meta:{title:"RecipeList"}},{path:"/recipe/:id",name:"recipe",component:ci,meta:{title:"Recipe"}},{path:"/add",name:"addRecipe",component:zi,meta:{title:"Add recipe",authRequired:!0}},{path:"/Login",name:"Login",component:ns,meta:{title:"Login",guestRequired:!0}},{path:"/Register",name:"Register",component:cs,meta:{title:"Register",guestRequired:!0}},{path:"/edit/:id",name:"editRecipe",component:Xi,meta:{title:"Edit recipe",authRequired:!0}}],N=ee({history:te(),routes:ps});N.beforeEach((t,e,s)=>{t.matched.some(n=>n.meta.authRequired)?y.state.currentUser?s():(alert("You must be logged in to see this page"),s({path:"/Login"})):s()});N.beforeEach((t,e,s)=>{t.matched.some(n=>n.meta.guestRequired)&&y.state.currentUser||s()});N.beforeEach((t,e,s)=>{e.matched.some(n=>n.meta.title==="RecipeList")&&(localStorage.setItem("scrollLength",window.pageYOffset||(document.documentElement||document.body.parentNode||document.body).scrollTop),console.log("Scrolled to: "+localStorage.getItem("scrollLength"))),s()});N.beforeEach((t,e,s)=>{t.matched.some(n=>n.meta.title!=="RecipeList")&&window.scrollTo(0,0),s()});N.beforeEach((t,e,s)=>{const n=t.matched.slice().reverse().find(a=>a.meta&&a.meta.title),r=t.matched.slice().reverse().find(a=>a.meta&&a.meta.metaTags),o=e.matched.slice().reverse().find(a=>a.meta&&a.meta.metaTags);if(n?document.title=n.meta.title:o&&(document.title=o.meta.title),Array.from(document.querySelectorAll("[data-vue-router-controlled]")).map(a=>a.parentNode.removeChild(a)),!r)return s();r.meta.metaTags.map(a=>{const u=document.createElement("meta");return Object.keys(a).forEach(l=>{u.setAttribute(l,a[l])}),u.setAttribute("data-vue-router-controlled",""),u}).forEach(a=>document.head.appendChild(a)),s()});ie(_e).use(N).use(y).mount("#app");
