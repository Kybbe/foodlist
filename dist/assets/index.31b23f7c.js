import{r as w,o as d,c,a as s,b as L,w as R,d as B,e as p,p as S,f as T,g as $,F as v,T as Y,h as J,i as V,j as g,v as q,k as C,l as b,m as Q,t as m,n as P,q as X,s as z,u as _,x as Z,y as M,z as ee,A as te,B as ie,C as se}from"./vendor.cd9fa08e.js";const ne=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function i(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerpolicy&&(o.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?o.credentials="include":r.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=i(r);fetch(r.href,o)}};ne();var y=(t,e)=>{const i=t.__vccOpts||t;for(const[n,r]of e)i[n]=r;return i};const re={name:"NavbarComponent",props:{link:{type:String}},methods:{logout(){this.$store.dispatch("logout").then(()=>{this.$router.push("/")})}},computed:{loggedIn(){return this.$store.state.currentUser}}},oe=t=>(S("data-v-422a74f4"),t=t(),T(),t),ae={class:"header"},le={class:"navStuff"},de=oe(()=>s("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 27.02 27.02",style:{"enable-background":"new 0 0 27.02 27.02",width:"27px"},"xml:space":"preserve"},[s("g",null,[s("path",{style:{fill:"#030104"},d:"M3.674,24.876c0,0-0.024,0.604,0.566,0.604c0.734,0,6.811-0.008,6.811-0.008l0.01-5.581   c0,0-0.096-0.92,0.797-0.92h2.826c1.056,0,0.991,0.92,0.991,0.92l-0.012,5.563c0,0,5.762,0,6.667,0   c0.749,0,0.715-0.752,0.715-0.752V14.413l-9.396-8.358l-9.975,8.358C3.674,14.413,3.674,24.876,3.674,24.876z"}),s("path",{style:{fill:"#030104"},d:"M0,13.635c0,0,0.847,1.561,2.694,0l11.038-9.338l10.349,9.28c2.138,1.542,2.939,0,2.939,0   L13.732,1.54L0,13.635z"}),s("polygon",{style:{fill:"#030104"},points:"23.83,4.275 21.168,4.275 21.179,7.503 23.83,9.752  "})])],-1)),ce=$(" Add Recipe "),ue={class:"accountStuff"},pe=$(" Login "),me=$(" Register ");function he(t,e,i,n,r,o){const a=w("router-link");return d(),c("div",ae,[s("div",le,[L(a,{to:"/"},{default:R(()=>[de]),_:1}),o.loggedIn?(d(),B(a,{key:0,to:"/add"},{default:R(()=>[ce]),_:1})):p("",!0)]),s("div",ue,[o.loggedIn?p("",!0):(d(),B(a,{key:0,to:"/login"},{default:R(()=>[pe]),_:1})),o.loggedIn?p("",!0):(d(),B(a,{key:1,to:"/register"},{default:R(()=>[me]),_:1})),o.loggedIn?(d(),c("button",{key:2,onClick:e[0]||(e[0]=(...u)=>o.logout&&o.logout(...u)),class:"logOut"},"logout")):p("",!0)])])}var ge=y(re,[["render",he],["__scopeId","data-v-422a74f4"]]);const fe={name:"App",components:{navbar:ge}};function _e(t,e,i,n,r,o){const a=w("navbar"),u=w("router-view");return d(),c(v,null,[L(a),L(u,null,{default:R(({Component:l})=>[L(Y,{name:"fade",mode:"out-in"},{default:R(()=>[(d(),B(J(l),{key:t.$route.path}))]),_:2},1024)]),_:1})],64)}var ve=y(fe,[["render",_e]]);const ye={name:"footerBar"},Ie={id:"footerBar"},ke=V('<h1 data-v-7662b00a>Techniques used</h1><div id="footerLists" data-v-7662b00a><ul data-v-7662b00a><h4 data-v-7662b00a>Vue:</h4><li data-v-7662b00a>Vue 3</li><li data-v-7662b00a>Vue router</li><li data-v-7662b00a>Vite</li></ul><ul data-v-7662b00a><h4 data-v-7662b00a>Firebase:</h4><li data-v-7662b00a>Firebase Authentication</li><li data-v-7662b00a>Firebase Realtime database</li><li data-v-7662b00a>Firebase Hosting</li></ul></div><div style="text-align:center;" data-v-7662b00a><h2 data-v-7662b00a>Font awesome</h2><p data-v-7662b00a>Font awesome was used for various svg icons.</p><p data-v-7662b00a>The icons are not changed or altered.</p><a href="https://fontawesome.com/license" data-v-7662b00a>Font awesome license</a></div>',3),be=[ke];function we(t,e,i,n,r,o){return d(),c("div",Ie,be)}var xe=y(ye,[["render",we],["__scopeId","data-v-7662b00a"]]);const Re={name:"RecipeList",components:{footerBar:xe},data(){return{searchValue:"",sortBy:"recipeId",selectedIngredient:"",minimized:!1}},methods:{saveAndRedirect(t){this.$store.commit("setSelectedRecipe",t),this.$router.push("/recipe/"+t.recipeId)},backgroundimg(t,e){return t==""&&(this.$store.state.recipesList[e].drink?t="https://www.liquor.com/thmb/fO-COKLw_iEA28v8K4XQjzMhkfw=/735x0/very-sexy-martini-720x720-primary-b1212ebf73f54f898a56f7f0b60c0a34.jpg":t="https://upload.wikimedia.org/wikipedia/commons/thumb/6/6d/Good_Food_Display_-_NCI_Visuals_Online.jpg/330px-Good_Food_Display_-_NCI_Visuals_Online.jpg"),{"background-image":`url(${t})`}},minMaxCards(){let t=document.querySelectorAll(".imgPart"),e=document.querySelectorAll(".plateIcon"),i=document.querySelectorAll(".card-body"),n=document.querySelector("#minMaxBtn");this.minimized?(i.forEach(r=>{r.style.display=null}),t.forEach(r=>{r.style.borderRadius=null}),e.forEach(r=>{r.style.bottom=null}),n.innerHTML="Hide card text",this.minimized=!1):(i.forEach(r=>{r.style.display="none"}),t.forEach(r=>{r.style.borderRadius="10px"}),e.forEach(r=>{r.style.bottom="1em"}),n.innerHTML="Show card text",this.minimized=!0)},goToTop(){window.scrollTo(0,0)}},computed:{searchResult(){var t=this.$store.state.recipesList;return t=t.filter(e=>!e.drink),this.searchValue!=""&&this.searchValue&&(t=t.filter(e=>e.title.toUpperCase().includes(this.searchValue.toUpperCase()))),this.selectedIngredient!=""&&(t=t.filter(e=>e.ingredients.some(i=>i.name.toUpperCase()==this.selectedIngredient.toUpperCase()))),t=t.sort((e,i)=>{if(this.sortBy=="alphabetically"){let n=e.title.toLowerCase(),r=i.title.toLowerCase();return n<r?-1:n>r?1:0}else if(this.sortBy=="recipeId")return e.recipeId-i.recipeId}),this.sortBy=="drinks"?null:t},drinks(){var t=this.$store.state.recipesList;return t=t.filter(e=>e.drink),this.searchValue!=""&&this.searchValue&&(t=t.filter(e=>e.title.toUpperCase().includes(this.searchValue.toUpperCase()))),this.selectedIngredient!=""&&(t=t.filter(e=>e.ingredients.some(i=>i.name.toUpperCase()==this.selectedIngredient.toUpperCase()))),t=t.sort((e,i)=>{if(this.sortBy=="alphabetically"){let n=e.title.toLowerCase(),r=i.title.toLowerCase();return n<r?-1:n>r?1:0}else if(this.sortBy=="recipeId")return e.recipeId-i.recipeId}),this.sortBy=="foods"?null:t},sortAndListIngredients(){var t=[];this.$store.state.recipesList.forEach(n=>{n.ingredients.forEach(r=>{t.push(r.name)})});var e=[];t.forEach(n=>{var r=0;t.forEach(o=>{n==o&&r++}),e.push({name:n,value:r})});var i=[];return e.forEach(n=>{var r=0;i.forEach(o=>{n.name==o.name&&r++}),r==0&&i.push(n)}),i.sort((n,r)=>n.value>r.value?-1:n.value<r.value||n.name>r.name?1:-1),i},noResults(){return this.drinks==null||this.drinks.length==0?this.searchResult==null||this.searchResult.length==0:!1},randomNumberGenerator(){var t=[];this.searchResult!=null&&(t=t.concat(this.searchResult)),this.drinks!=null&&(t=t.concat(this.drinks));let e=Math.floor(Math.random()*t.length);return t.length==0?null:t[e].recipeId}},mounted(){window.scrollTo(0,localStorage.getItem("scrollLength"))}},I=t=>(S("data-v-8bbd77a4"),t=t(),T(),t),Le={class:"searchArea"},Ce=I(()=>s("option",{value:"recipeId"},"Recipe Id",-1)),$e=I(()=>s("option",{value:"alphabetically"},"Alphabetically",-1)),Se=I(()=>s("option",{value:"foods"},"Foods",-1)),Te=I(()=>s("option",{value:"drinks"},"Drinks",-1)),Be=[Ce,$e,Se,Te],Ee=I(()=>s("option",{value:""},"All Ingredients",-1)),Ae=["value"],Ne={id:"randomContainer"},Ve=$(" Go to random recipe"),Me=["onClick"],Oe=I(()=>s("div",{class:"plateIcon"},[s("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"utensils",class:"svg-inline--fa fa-utensils fa-w-13",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 416 512"},[s("path",{fill:"currentColor",d:"M207.9 15.2c.8 4.7 16.1 94.5 16.1 128.8 0 52.3-27.8 89.6-68.9 104.6L168 486.7c.7 13.7-10.2 25.3-24 25.3H80c-13.7 0-24.7-11.5-24-25.3l12.9-238.1C27.7 233.6 0 196.2 0 144 0 109.6 15.3 19.9 16.1 15.2 19.3-5.1 61.4-5.4 64 16.3v141.2c1.3 3.4 15.1 3.2 16 0 1.4-25.3 7.9-139.2 8-141.8 3.3-20.8 44.7-20.8 47.9 0 .2 2.7 6.6 116.5 8 141.8.9 3.2 14.8 3.4 16 0V16.3c2.6-21.6 44.8-21.4 48-1.1zm119.2 285.7l-15 185.1c-1.2 14 9.9 26 23.9 26h56c13.3 0 24-10.7 24-24V24c0-13.2-10.7-24-24-24-82.5 0-221.4 178.5-64.9 300.9z"})])],-1)),Ue=[Oe],qe={class:"card-body"},Pe={class:"card-title"},De={class:"card-text"},ze={class:"extras"},Fe={class:"card-ingredients"},Ge=$(" Ingredient"),je={key:0},He={class:"card-steps"},We=$(" Step"),Ke={key:0},Ye=["onClick"],Je=I(()=>s("div",{class:"plateIcon"},[s("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"cocktail",class:"svg-inline--fa fa-cocktail fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},[s("path",{fill:"currentColor",d:"M296 464h-56V338.78l168.74-168.73c15.52-15.52 4.53-42.05-17.42-42.05H24.68c-21.95 0-32.94 26.53-17.42 42.05L176 338.78V464h-56c-22.09 0-40 17.91-40 40 0 4.42 3.58 8 8 8h240c4.42 0 8-3.58 8-8 0-22.09-17.91-40-40-40zM432 0c-62.61 0-115.35 40.2-135.18 96h52.54c16.65-28.55 47.27-48 82.64-48 52.93 0 96 43.06 96 96s-43.07 96-96 96c-14.04 0-27.29-3.2-39.32-8.64l-35.26 35.26C379.23 279.92 404.59 288 432 288c79.53 0 144-64.47 144-144S511.53 0 432 0z"})])],-1)),Qe=[Je],Xe={class:"card-body"},Ze={class:"card-title"},et={class:"card-text"},tt={class:"extras"},it={class:"card-ingredients"},st=$(" Ingredient"),nt={key:0},rt={class:"card-steps"},ot=$(" Step"),at={key:0},lt={key:0,class:"cardM"},dt={key:0,class:"noResultCard-body"},ct=I(()=>s("h1",{class:"card-title",style:{"text-align":"center"}}," Loading Recipes... ",-1)),ut=[ct],pt={key:1,class:"noResultCard-body"},mt=I(()=>s("h1",{class:"card-title",style:{"text-align":"center"}}," No results found ",-1)),ht=I(()=>s("h3",{style:{"text-align":"center"}}," Sorry, we couldn't find any results for your search. :( ",-1)),gt=I(()=>s("h3",{style:{"text-align":"center"}},"Have a cookie instead!",-1)),ft=I(()=>s("div",{style:{display:"flex","justify-content":"center","margin-bottom":"20px"}},[s("svg",{style:{width:"9em","text-align":"center"},"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"cookie",class:"svg-inline--fa fa-cookie fa-w-16 Layer_1",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[s("path",{fill:"currentColor",d:"M510.37 254.79l-12.08-76.26a132.493 132.493 0 0 0-37.16-72.95l-54.76-54.75c-19.73-19.72-45.18-32.7-72.71-37.05l-76.7-12.15c-27.51-4.36-55.69.11-80.52 12.76L107.32 49.6a132.25 132.25 0 0 0-57.79 57.8l-35.1 68.88a132.602 132.602 0 0 0-12.82 80.94l12.08 76.27a132.493 132.493 0 0 0 37.16 72.95l54.76 54.75a132.087 132.087 0 0 0 72.71 37.05l76.7 12.14c27.51 4.36 55.69-.11 80.52-12.75l69.12-35.21a132.302 132.302 0 0 0 57.79-57.8l35.1-68.87c12.71-24.96 17.2-53.3 12.82-80.96zM176 368c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm32-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm160 128c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"})])],-1)),_t=[mt,ht,gt,ft],vt=I(()=>s("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"arrow-up",class:"svg-inline--fa fa-arrow-up fa-w-14",role:"img",viewBox:"0 0 448 512"},[s("path",{fill:"currentColor",d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"})],-1)),yt=[vt];function It(t,e,i,n,r,o){const a=w("router-link"),u=w("footerBar");return d(),c("div",null,[s("div",Le,[g(s("select",{name:"sortBy",id:"select","onUpdate:modelValue":e[0]||(e[0]=l=>r.sortBy=l)},Be,512),[[q,r.sortBy]]),g(s("select",{name:"ingredients",id:"ingredients","onUpdate:modelValue":e[1]||(e[1]=l=>r.selectedIngredient=l)},[Ee,(d(!0),c(v,null,C(o.sortAndListIngredients,l=>(d(),c("option",{key:l.name,value:l.name},m(l.name)+" ("+m(l.value)+") ",9,Ae))),128))],512),[[q,r.selectedIngredient]]),g(s("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=l=>r.searchValue=l),placeholder:"Search Recipe",id:"search-input"},null,512),[[b,r.searchValue]])]),s("div",Ne,[o.randomNumberGenerator!=null?(d(),B(a,{key:0,to:"/recipe/"+o.randomNumberGenerator,id:"randomRecipe"},{default:R(()=>[Ve]),_:1},8,["to"])):p("",!0),s("button",{id:"minMaxBtn",onClick:e[3]||(e[3]=(...l)=>this.minMaxCards&&this.minMaxCards(...l))}," Hide recipe text ")]),L(Q,{class:"cardList",tag:"div",name:"cardList"},{default:R(()=>[(d(!0),c(v,null,C(o.searchResult,l=>(d(),c("div",{class:"cardM",key:l.recipeId},[o.searchResult!=null||o.searchResult!=[]?(d(),c("a",{key:0,onClick:E=>o.saveAndRedirect(l)},[s("div",{class:"imgPart",style:P(o.backgroundimg(l.imgLink,l.recipeId))},Ue,4),s("div",qe,[s("h2",Pe,m(l.title),1),s("p",De,m(l.description),1),s("div",ze,[s("p",Fe,[s("span",null,m(l.ingredients.length),1),Ge,l.ingredients.length>1?(d(),c("span",je,"s")):p("",!0)]),s("p",He,[s("span",null,m(l.instructions.length),1),We,l.instructions.length>1?(d(),c("span",Ke,"s")):p("",!0)])])])],8,Me)):p("",!0)]))),128)),(d(!0),c(v,null,C(o.drinks,l=>(d(),c("div",{class:"cardS",key:l.recipeId},[o.drinks!=null||o.drinks!=[]?(d(),c("a",{key:0,onClick:E=>o.saveAndRedirect(l)},[s("div",{class:"imgPart",style:P(o.backgroundimg(l.imgLink,l.recipeId))},Qe,4),s("div",Xe,[s("h2",Ze,m(l.title),1),s("p",et,m(l.description),1),s("div",tt,[s("p",it,[s("span",null,m(l.ingredients.length),1),st,l.ingredients.length>1?(d(),c("span",nt,"s")):p("",!0)]),s("p",rt,[s("span",null,m(l.instructions.length),1),ot,l.instructions.length>1?(d(),c("span",at,"s")):p("",!0)])])])],8,Ye)):p("",!0)]))),128)),o.noResults?(d(),c("div",lt,[this.$store.state.recipesReady?p("",!0):(d(),c("div",dt,ut)),this.$store.state.recipesReady?(d(),c("div",pt,_t)):p("",!0)])):p("",!0)]),_:1}),L(u),s("button",{id:"goToTop",onClick:e[4]||(e[4]=(...l)=>o.goToTop&&o.goToTop(...l))},yt)])}var D=y(Re,[["render",It],["__scopeId","data-v-8bbd77a4"]]);const kt={name:"mainArea",props:{title:{type:String,required:!0},description:{type:String,required:!0},imgLink:{type:String,required:!0},drink:{type:Boolean}},data(){return{templateImg:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6d/Good_Food_Display_-_NCI_Visuals_Online.jpg/330px-Good_Food_Display_-_NCI_Visuals_Online.jpg",drinkTemplateImg:"https://www.liquor.com/thmb/fO-COKLw_iEA28v8K4XQjzMhkfw=/735x0/very-sexy-martini-720x720-primary-b1212ebf73f54f898a56f7f0b60c0a34.jpg",imgLinkAndTemplate:""}},mounted(){this.imageLink&&!this.imageLink.startsWith("http")&&!this.imageLink.startsWith("https")&&(this.imgLink=require(`@/assets/${this.imageLink}`)),this.imgLink===""?this.drink?this.imgLinkAndTemplate=this.drinkTemplateImg:this.imgLinkAndTemplate=this.templateImg:this.imgLinkAndTemplate=this.imgLink}},bt={id:"descriptionContainer"},wt={class:"description"},xt={id:"imgContainer"},Rt=["src"];function Lt(t,e,i,n,r,o){return d(),c(v,null,[s("div",bt,[s("h2",null,m(i.title),1),s("p",wt,m(i.description),1)]),s("div",xt,[s("img",{src:r.imgLinkAndTemplate,alt:"image of the dish"},null,8,Rt)])],64)}var Ct=y(kt,[["render",Lt],["__scopeId","data-v-432596ca"]]);const $t={name:"timerComponent",props:{instruction:{type:String,required:!0}},data(){return{time:"",originalTime:"",started:!1}},methods:{getTimeFromInstruction(){var t=/\d\d/,e=parseInt(t.exec(this.instruction));if(isNaN(e)&&(t=/\d/,e=parseInt(t.exec(this.instruction))),!isNaN(e)){var i="0"+Math.floor(e/60)+":"+e%60+":00";this.time=i,this.originalTime=i,document.querySelector(".time").innerHTML=i}},countdownTimer(){if(!this.started){this.started=!0;var t=setInterval(()=>{if(!this.started){clearInterval(t);return}const e=this.time,[i,n,r]=e.split(":"),o=parseInt(r,10)-1,a=parseInt(n,10),u=parseInt(i,10);if(o<=0)if(a<=0){if(u<=0){clearInterval(t),this.timerDone();return}this.time=`${u-1}:59:59`}else this.time=`${u}:${a-1}:59`;else this.time=`${u}:${a}:${o}`},1e3)}},stopTimer(){this.started=!1},resetTimer(){this.time=this.originalTime,this.started=!1},timerDone(){var t=new Audio("https://actions.google.com/sounds/v1/alarms/alarm_clock.ogg");t.play(),alert("Time's up!"),t.pause(),this.resetTimer()}},mounted(){this.getTimeFromInstruction()}},St=t=>(S("data-v-1b6dd7c2"),t=t(),T(),t),Tt={class:"timer"},Bt=St(()=>s("svg",{style:{width:"30px",height:"30px"},version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512","xml:space":"preserve"},[s("g",{transform:"translate(1 1)"},[s("g",null,[s("g",null,[s("path",{d:"M255,101.4c-103.253,0-187.733,84.48-187.733,187.733c0,50.764,20.43,96.981,53.462,130.861     c0.328,0.492,0.71,0.963,1.152,1.405c0.484,0.484,0.97,0.891,1.473,1.238c33.949,33.484,80.49,54.229,131.647,54.229     c103.253,0,187.733-84.48,187.733-187.733S358.253,101.4,255,101.4z M400.067,297.667h25.385     c-2.023,40.571-18.386,77.528-44.093,105.879l-17.985-17.985c-3.413-3.413-8.533-3.413-11.947,0     c-3.413,3.413-3.413,8.533,0,11.947l17.985,17.985c-28.35,25.707-65.308,42.07-105.879,44.093V434.2     c0-5.12-3.413-8.533-8.533-8.533s-8.533,3.413-8.533,8.533v25.385c-40.784-2.034-77.916-18.559-106.325-44.5l17.578-17.578     c3.413-3.413,3.413-8.533,0-11.947c-3.413-3.413-8.533-3.413-11.947,0l-17.533,17.534     c-25.474-28.291-41.679-65.07-43.692-105.427h25.385c4.267,0,8.533-3.413,8.533-8.533s-3.413-8.533-8.533-8.533H84.548     c2.023-40.571,18.386-77.528,44.093-105.879l17.985,17.985c1.707,1.707,3.413,2.56,5.973,2.56c1.707,0,4.267-0.853,5.973-2.56     c3.413-3.413,3.413-8.533,0-11.947l-17.985-17.985c28.35-25.707,65.308-42.07,105.879-44.093v25.385     c0,5.12,3.413,8.533,8.533,8.533c4.267,0,8.533-3.413,8.533-8.533v-25.385c40.571,2.023,77.528,18.386,105.879,44.093     l-17.985,17.985c-3.413,3.413-3.413,8.533,0,11.947c1.707,1.707,3.413,2.56,5.973,2.56s4.267-0.853,5.973-2.56l17.985-17.985     c25.707,28.35,42.07,65.308,44.093,105.879h-25.385c-5.12,0-8.533,3.413-8.533,8.533S394.947,297.667,400.067,297.667z"}),s("path",{d:"M468.333,153.453c6.827,0,13.653-2.56,18.773-7.68c10.24-10.24,10.24-27.307,0-37.547l-34.133-34.133     c-10.24-10.24-27.307-10.24-37.547,0c-8.316,8.316-9.878,21.133-4.688,31.141l-13.759,13.759     c-30.247-25.306-67.268-42.746-107.847-49.081V50.2h16.213c10.24,0,17.92-7.68,17.92-17.067V16.92     c0-10.24-7.68-17.92-17.92-17.92H203.8c-9.387,0-17.067,7.68-17.067,17.92v15.36c0,10.24,7.68,17.92,17.067,17.92h17.067v19.712     c-40.371,6.302-77.223,23.593-107.384,48.69l-13.941-13.941c4.842-9.92,3.191-22.409-4.968-30.568     c-10.24-10.24-27.307-10.24-37.547,0l-34.133,34.133c-10.24,10.24-10.24,27.307,0,37.547c5.12,5.12,11.947,7.68,18.773,7.68     c6.06,0,12.117-2.022,16.983-6.057l14.723,14.723c-25.327,36.043-40.24,79.869-40.24,127.013C33.133,411.16,132.973,511,255,511     s221.867-99.84,221.867-221.867c0-46.926-14.777-90.562-39.89-126.51l14.846-14.846     C456.605,151.558,462.468,153.453,468.333,153.453z M427.373,86.04c1.707-1.707,4.267-2.56,6.827-2.56s5.12,0.853,6.827,2.56     l34.133,34.133c3.413,4.267,4.267,10.24,0,13.653s-10.24,3.413-13.653,0l-1.543-1.543c-0.426-0.975-1.047-1.9-1.871-2.724     l-29.867-29.867c-0.559-0.559-1.168-1.018-1.804-1.394C424.006,94.202,424.317,89.096,427.373,86.04z M421.4,117.613l17.92,17.92     l-12.8,12.8c-5.12-6.827-11.093-12.8-17.067-18.773L421.4,117.613z M203.8,16.067l102.4,0.853v15.36c0,0.853,0,0.853-0.853,0.853     L203.8,32.28V16.067z M237.933,50.2h34.133v17.722c-5.634-0.434-11.326-0.656-17.067-0.656s-11.432,0.222-17.067,0.656V50.2z      M88.6,117.613l11.947,11.947c-5.973,5.973-11.947,11.947-17.067,18.773l-12.8-12.8L88.6,117.613z M34.84,133.827     c-3.413-4.267-3.413-10.24,0-13.653L68.973,86.04c1.707-1.707,4.267-2.56,6.827-2.56s5.12,0.853,6.827,2.56     c3.413,4.267,3.413,10.24,0,13.653L52.76,129.56l-4.267,4.267C45.08,137.24,38.253,137.24,34.84,133.827z M255,493.933     c-112.64,0-204.8-92.16-204.8-204.8c0-45.669,15.152-87.969,40.673-122.128c0.38-0.248,0.76-0.499,1.14-0.752     c7.68-11.093,17.067-20.48,27.307-29.867c0.348-0.348,0.651-0.737,0.928-1.142c29.931-26.26,67.508-43.989,108.838-49.267     c0.387,0.037,0.777,0.062,1.167,0.062c17.067-1.707,32.427-1.707,49.493,0h0.853c0.171,0,0.356-0.015,0.542-0.032     C381.556,98.947,459.8,185.346,459.8,289.133C459.8,401.773,367.64,493.933,255,493.933z"}),s("path",{d:"M263.533,256.088V178.2c0-5.12-3.413-8.533-8.533-8.533s-8.533,3.413-8.533,8.533v77.888     c-14.679,3.814-25.6,17.216-25.6,33.046c0,18.773,15.36,34.133,34.133,34.133s34.133-15.36,34.133-34.133     C289.133,273.304,278.212,259.902,263.533,256.088z M255,306.2c-9.387,0-17.067-7.68-17.067-17.067s7.68-17.067,17.067-17.067     s17.067,7.68,17.067,17.067S264.387,306.2,255,306.2z"})])])])],-1)),Et={class:"time"};function At(t,e,i,n,r,o){return d(),c("label",Tt,[Bt,s("span",Et,m(r.time),1),this.started?p("",!0):(d(),c("button",{key:0,class:"timerStart",onClick:e[0]||(e[0]=(...a)=>this.countdownTimer&&this.countdownTimer(...a))}," Start ")),this.started?(d(),c("button",{key:1,class:"timerStop",onClick:e[1]||(e[1]=(...a)=>this.stopTimer&&this.stopTimer(...a))}," Stop ")):p("",!0),this.started?(d(),c("button",{key:2,class:"timerReset",onClick:e[2]||(e[2]=(...a)=>this.resetTimer&&this.resetTimer(...a))}," Reset ")):p("",!0)])}var Nt=y($t,[["render",At],["__scopeId","data-v-1b6dd7c2"]]);const Vt={name:"instructionComponent",components:{timer:Nt},props:{instructions:{type:Array,required:!0}},methods:{checkInstruction(t){var e=document.getElementById(t.id).parentElement;t.checked?e.classList.remove("checked"):e.classList.add("checked")},countAmountOfTimers(t){var e=0;return t.includes("minuter")&&(e=t.match(/minuter/g).length),e},splitOutTimerPlaces(t){let e=[],i=/(\d+) minuter/g,n;for(;n=i.exec(t);)e.push({value:parseInt(n[1],10),unit:"minuter"});return e}}},Mt=t=>(S("data-v-79f0f4ea"),t=t(),T(),t),Ot=Mt(()=>s("h2",{style:{"text-align":"center"}},"Instructions",-1)),Ut={class:"instruction"},qt=["name","id","onUpdate:modelValue","onClick"],Pt=["for"];function Dt(t,e,i,n,r,o){const a=w("timer");return d(),c(v,null,[Ot,s("ol",Ut,[(d(!0),c(v,null,C(i.instructions,u=>(d(),c("li",{key:u.id,class:X({checked:u.checked})},[g(s("input",{type:"checkbox",name:u.id,id:u.id,"onUpdate:modelValue":l=>u.checked=l,onClick:l=>o.checkInstruction(u)},null,8,qt),[[z,u.checked]]),s("label",{for:u.id},m(u.text),9,Pt),(d(!0),c(v,null,C(o.countAmountOfTimers(u.text),l=>(d(),c("div",{key:l,class:"timerContainer"},[u.checked?p("",!0):(d(),B(a,{key:0,instruction:o.splitOutTimerPlaces(u.text)[l-1].value+" minuter ",id:u.id},null,8,["instruction","id"]))]))),128))],2))),128))])],64)}var zt=y(Vt,[["render",Dt],["__scopeId","data-v-79f0f4ea"]]);const Ft={name:"ingredientsComponent",props:{ingredients:{type:Array,required:!0}},data(){return{portions:4}},computed:{groupedIngredients(){return this.ingredients.reduce((t,e)=>{const i=e.section;return i&&(t[i]||(t[i]=[]),t[i].push(e)),t},{})},unsectionedIngredients(){return this.ingredients.filter(t=>!t.section)}},methods:{add2Portions(){const t=this.portions+2;!this.checkServings(t)||(this.ingredients.forEach(e=>{e.amount!=""&&(e.amount/=this.portions,Math.round(e.amount*=t))}),this.portions+=2)},remove2Portions(){const t=this.portions-2;!this.checkServings(t)||(this.ingredients.forEach(e=>{e.amount!=""&&(e.amount/=this.portions,Math.round(e.amount*=t))}),this.portions-=2)},changeToPortions(t){if(typeof t=="number")var e=t;else e=Number.parseInt(t.target.value);if(!!this.checkServings(e)&&this.portions!=e){let i=this.portions;this.portions=e,this.ingredients.forEach(n=>{n.amount!=""&&(n.amount/=i,Math.round(n.amount*=this.portions))})}},checkServings(t){return t===""?(document.getElementById("portions").value=this.portions,!1):t>98?(alert("You can't have more than 98 servings!"),document.getElementById("portions").value=98,this.changeToPortions(98),!1):t<1?(alert("You can't have less than 1 serving!"),document.getElementById("portions").value=1,this.changeToPortions(1),!1):Number.isNaN(t)?(document.getElementById("portions").value=this.portions,!1):!0}}},O=t=>(S("data-v-4a090e4a"),t=t(),T(),t),Gt=O(()=>s("h2",null,"Ingredients",-1)),jt={id:"servingsContainer"},Ht=O(()=>s("svg",{version:"1.1",viewBox:"0 0 32 32",role:"presentation","aria-label":"Decrease servings",class:"svg-icon svg-fill"},[s("path",{pid:"0","fill-rule":"evenodd",d:"M23.768 15H9a.249.249 0 00-.223.138l-.75 1.5A.25.25 0 008.25 17h15.518a.258.258 0 00.259-.259v-1.483a.258.258 0 00-.26-.258"})],-1)),Wt=[Ht],Kt=["placeholder","value"],Yt=O(()=>s("label",{for:"portions"},"Servings",-1)),Jt=O(()=>s("svg",{version:"1.1",viewBox:"0 0 32 32",role:"presentation","aria-label":"Increase servings",class:"svg-icon svg-fill"},[s("path",{pid:"0","fill-rule":"evenodd",d:"M23.768 14.994h-6.744V8.258A.26.26 0 0016.766 8h-1.477a.257.257 0 00-.262.262v6.732H9a.249.249 0 00-.223.138l-.75 1.5a.25.25 0 00.223.362h6.777v6.748c0 .142.116.258.258.258l1.48-.004a.25.25 0 00.259-.258v-6.744h6.744a.258.258 0 00.259-.259v-1.483a.258.258 0 00-.26-.258"})],-1)),Qt=[Jt],Xt={key:0},Zt={class:"ingredients"},ei={key:0},ti={class:"ingredients",style:{"margin-top":"4em"}};function ii(t,e,i,n,r,o){return d(),c(v,null,[Gt,s("h4",null,m(i.ingredients.length)+" Ingredients",1),s("div",jt,[s("button",{onClick:e[0]||(e[0]=a=>o.remove2Portions())},Wt),s("input",{name:"portions",id:"portions",placeholder:this.portions,value:this.portions,onChange:e[1]||(e[1]=(...a)=>o.changeToPortions&&o.changeToPortions(...a))},null,40,Kt),Yt,s("button",{onClick:e[2]||(e[2]=a=>o.add2Portions())},Qt)]),(d(!0),c(v,null,C(o.groupedIngredients,(a,u)=>(d(),c("div",{key:u},[u?(d(),c("h3",Xt,m(u),1)):p("",!0),s("ul",Zt,[(d(!0),c(v,null,C(a,l=>(d(),c("li",{key:l.name},m(`${l.amount} ${l.measurment} ${l.name}`),1))),128))])]))),128)),o.unsectionedIngredients.length?(d(),c("div",ei,[s("ul",ti,[(d(!0),c(v,null,C(o.unsectionedIngredients,a=>(d(),c("li",{key:a.name},m(`${a.amount} ${a.measurment} ${a.name}`),1))),128))])])):p("",!0)],64)}var si=y(Ft,[["render",ii],["__scopeId","data-v-4a090e4a"]]);const ni={name:"recipePage",components:{mainArea:Ct,instruction:zt,ingredients:si},methods:{deleteRecipe(){const t=[],e=_.database().ref("recipes");if(e.on("value",i=>{for(const n of i.val())t.push(n.key)}),e.child(t[this.currentRecipeId]).remove(),alert("Recipe deleted!"),e.on("value",i=>{const n=[];for(const r of i.val())r.recipeId>this.currentRecipeId&&n.push(e.child(r.key).update({recipeId:r.recipeId-1}));Promise.all(n)}),t.length===1){const i={title:"Add a recipe",description:"Since this database shouldn't be empty, you should add a recipe!",recipeId:"0",ingredients:[{amount:"2",unit:"Large",name:"OOF's"}],instructions:[{checked:!1,id:"0",text:"Add a recipe"}],servings:"4",link:"foodlist-0921.web.app/#/add",imgLink:""};e.push(i)}this.$router.push("/")},confirmDelete(){confirm(`Are you sure you want to delete this recipe? \r
This action cannot be undone.`)&&this.deleteRecipe()}},computed:{currentRecipeId(){return this.$route.params.id},currentRecipe(){return this.$store.state.recipesList[this.currentRecipeId]},store(){return Z()}}},ri={id:"content"},oi={class:"bigCard card",style:{display:"flex","flex-wrap":"wrap","justify-content":"space-evenly",padding:"0px"}},ai={class:"mediumCard card"},li={class:"mediumCard card"},di={id:"footer"},ci=["href"],ui=$(" Edit this recipe ");function pi(t,e,i,n,r,o){const a=w("mainArea"),u=w("ingredients"),l=w("instruction"),E=w("router-link");return d(),c("div",null,[s("div",ri,[s("div",oi,[L(a,{title:this.currentRecipe.title,description:this.currentRecipe.description,imgLink:this.currentRecipe.imgLink,drink:this.currentRecipe.drink},null,8,["title","description","imgLink","drink"])]),s("div",ai,[L(u,{ingredients:this.currentRecipe.ingredients},null,8,["ingredients"])]),s("div",li,[L(l,{instructions:this.currentRecipe.instructions},null,8,["instructions"])])]),s("div",di,[this.currentRecipe.link?(d(),c("a",{key:0,href:this.currentRecipe.link,target:"_blank",id:"ogLink"},"Original Recipe",8,ci)):p("",!0),this.$store.state.admin?(d(),B(E,{key:1,id:"edit",to:"/edit/"+this.currentRecipeId},{default:R(()=>[ui]),_:1},8,["to"])):p("",!0),this.$store.state.admin?(d(),c("button",{key:2,id:"delete",onClick:e[0]||(e[0]=(...A)=>o.confirmDelete&&o.confirmDelete(...A))}," Delete this recipe ")):p("",!0)])])}var mi=y(ni,[["render",pi],["__scopeId","data-v-56166e46"]]);const hi={name:"AddRecipe",data(){return{recipe:{recipeId:"",drink:!1,title:"",description:"",ingredients:[],instructions:[],servings:"",link:"",imgLink:""},moreThanOneIngredient:!1,moreThanOneInstruction:!1,draft:[]}},methods:{addIngredient(){let t=document.getElementById("ingredientsList"),e=t.children[t.children.length-1];t.insertBefore(e.cloneNode(!0),e);let i=e.getElementsByTagName("input");for(let n=0;n<i.length;n++)i[n].value="";this.moreThanOneIngredient=!0},removeIngredient(){let t=document.getElementsByClassName("ingredients");t.length>1&&t[t.length-1].remove(),t.length==1&&(this.moreThanOneIngredient=!1)},fixIngredients(){let t=[],e=document.getElementsByClassName("ingredients");for(let i=0;i<e.length;i++){let n={},r=e[i].querySelectorAll("input");for(let o=0;o<r.length;o++)n[r[o].name]=r[o].value;t.push(n)}this.recipe.ingredients=t,this.checkServings()},addInstruction(){let t=document.getElementById("instructionsList"),e=t.children[t.children.length-1];t.insertBefore(e.cloneNode(!0),e);let i=e.getElementsByTagName("input");for(let n=0;n<i.length;n++)i[n].value="";this.moreThanOneInstruction=!0},removeInstruction(){let t=document.getElementsByClassName("instructions");t.length>1&&t[t.length-1].remove(),t.length==1&&(this.moreThanOneInstruction=!1)},fixInstructions(){let t=document.getElementsByClassName("instructions");for(let e=0;e<t.length;e++){let i=t[e].querySelectorAll("input");for(let n=0;n<i.length;n++)i[0].value==""?i[0].value=e:i[1].value==""&&(i[1].value=!1);this.populateInstruction()}},populateInstruction(){let t=[],e=document.getElementsByClassName("instructions");for(let i=0;i<e.length;i++){let n={},r=e[i].querySelectorAll("input");for(let o=0;o<r.length;o++)r[1].value=="true"?n[r[1].name]=!0:r[1].value=="false"&&(n[r[1].name]=!1),n[r[o].name]=r[o].value;t.push(n)}this.recipe.instructions=t},checkServings(){let t=document.getElementById("recipeServings").value;if(t!=""&&t){if(document.getElementsByClassName("amount")[0].value=="")return;let e=this.recipe.ingredients,i=document.getElementsByClassName("amount");for(let n=0;n<e.length;n++){if(i[n].value=="")return;let o=e[n].amount/t*4;o=Number(o.toFixed(1)),e[n].amount=o,i[n].value=o}this.recipe.ingredients=e}},post(){if(this.recipe.title=="Test JKL"){this.testPost(),this.$router.push("/");return}if(this.recipe.title==""||this.recipe.description==""||this.recipe.ingredients==""||this.recipe.instructions==""||this.recipe.link==""){alert("Please fill out all fields");return}this.addRecipeId(),this.fixIngredients(),this.fixInstructions(),_.database().ref("recipes").push(this.recipe),alert("Recipe added!"),this.removeDraft(),this.$router.push("/")},testPost(){this.recipe.title="Test",this.recipe.description="Test",this.addRecipeId(),this.recipe.ingredients=[{name:"Test",amount:"1",measurment:"Test",section:"Test section"}],this.recipe.instructions=[{id:0,checked:!0,text:"Test"},{id:1,checked:!1,text:"Test2"}],this.recipe.servings="4",this.recipe.link="www.google.com",this.recipe.imgLink="",_.database().ref("recipes").push(this.recipe),alert("Test recipe added!")},saveAsDraft(){this.addRecipeId(),this.fixIngredients(),this.fixInstructions();let t={title:this.recipe.title,description:this.recipe.description,ingredients:this.recipe.ingredients,instructions:this.recipe.instructions,servings:this.recipe.servings,link:this.recipe.link,imgLink:this.recipe.imgLink};localStorage.setItem("draft",JSON.stringify(t))},getDraft(){let t=JSON.parse(localStorage.getItem("draft"));t&&(this.draft=t)},putBackDraft(){this.recipe.title=this.draft.title,this.recipe.description=this.draft.description,this.recipe.servings=this.draft.servings,this.recipe.link=this.draft.link,this.recipe.imgLink=this.draft.imgLink,this.recipe.ingredients=this.draft.ingredients,this.recipe.instructions=this.draft.instructions,this.putBackIngredients(),this.putBackInstructions(),this.removeDraft()},putBackIngredients(){if(this.recipe.ingredients.length>1)for(let e=1;e<this.recipe.ingredients.length;e++)this.addIngredient();let t=document.getElementsByClassName("ingredients");for(let e=0;e<t.length;e++){let i=t[e].querySelectorAll("input");for(let n=0;n<i.length;n++)i[n].name=="name"&&(i[n].value=this.recipe.ingredients[e].name),i[n].name=="amount"&&(i[n].value=this.recipe.ingredients[e].amount),i[n].name=="measurment"&&(i[n].value=this.recipe.ingredients[e].measurment),i[n].name=="section"&&(i[n].value=this.recipe.ingredients[e].section)}},putBackInstructions(){if(this.recipe.instructions.length>1)for(let e=1;e<this.recipe.instructions.length;e++)this.addInstruction();let t=document.getElementsByClassName("instructions");for(let e=0;e<t.length;e++){let i=t[e].querySelectorAll("input");for(let n=0;n<i.length;n++)i[n].name=="text"&&(i[n].value=this.recipe.instructions[e].text),i[n].name=="checked"&&(i[n].value=this.recipe.instructions[e].checked),i[n].name=="id"&&(i[n].value=this.recipe.instructions[e].id)}},removeDraft(){this.draft=[],localStorage.removeItem("draft")},addRecipeId(){this.recipe.recipeId=this.$store.state.recipesList.length}},mounted(){this.addRecipeId(),this.getDraft();let t=document.getElementsByTagName("input"),e=document.getElementsByTagName("textarea");for(let i=0;i<t.length;i++)t[i].addEventListener("change",this.saveAsDraft);for(let i=0;i<e.length;i++)e[i].addEventListener("change",this.saveAsDraft)}},k=t=>(S("data-v-3e8bcdcc"),t=t(),T(),t),gi={style:{display:"flex"}},fi={key:0,id:"draft"},_i={id:"addRecipe"},vi=k(()=>s("h2",null,"Add Recipe",-1)),yi={action:""},Ii={class:"form-group"},ki=k(()=>s("label",{for:"recipeName"},"Recipe Name / Title:",-1)),bi={class:"form-group"},wi=k(()=>s("label",{for:"drink",style:{display:"inline-block"}},"Drink? :",-1)),xi={class:"form-group"},Ri=k(()=>s("label",{for:"recipeDescription"},"Recipe Description:",-1)),Li={class:"form-group"},Ci=V('<label for="recipeIngredients" data-v-3e8bcdcc>Recipe Ingredients:</label><div id="labels" data-v-3e8bcdcc><label for="amount" data-v-3e8bcdcc>Quantity:</label><label for="ingredientUnit" data-v-3e8bcdcc>Unit:</label><label for="ingredientName" data-v-3e8bcdcc>Ingredient Name:</label><label for="ingredientSection" data-v-3e8bcdcc>Section?:</label></div>',2),$i={id:"ingredientsList"},Si={class:"ingredients"},Ti=k(()=>s("input",{type:"number",placeholder:"2",name:"amount",class:"amount"},null,-1)),Bi=k(()=>s("input",{type:"text",placeholder:"Large",name:"measurment"},null,-1)),Ei=k(()=>s("input",{type:"text",placeholder:"Salad",name:"section"},null,-1)),Ai={class:"form-group"},Ni=k(()=>s("label",{for:"recipeServings"},"Recipe Servings:",-1)),Vi={class:"form-group"},Mi=V('<label for="recipeInstructions" data-v-3e8bcdcc>Recipe Instructions: </label><div id="labels" data-v-3e8bcdcc><label for="id" style="flex:0.25;" data-v-3e8bcdcc>Id:</label><label for="checked" style="flex:0.25;" data-v-3e8bcdcc>Checked:</label><label for="text" style="flex:0.8;" data-v-3e8bcdcc>Instruction:</label></div>',2),Oi={id:"instructionsList"},Ui={class:"instructions"},qi=k(()=>s("input",{type:"number",placeholder:"1",name:"id",style:{width:"25%"}},null,-1)),Pi=k(()=>s("input",{type:"text",placeholder:"false",name:"checked",style:{width:"25%"}},null,-1)),Di={class:"form-group"},zi=k(()=>s("label",{for:"recipeImage"},"Original Recipe Link:",-1)),Fi={class:"form-group"},Gi=k(()=>s("label",{for:"recipeImage"},"Recipe Image (Link):",-1));function ji(t,e,i,n,r,o){return d(),c("div",gi,[r.draft.length!=0?(d(),c("div",fi,[s("ul",null,[(d(!0),c(v,null,C(r.draft,a=>(d(),c("li",{key:a.name},[s("p",null,m(a),1)]))),128))]),s("button",{onClick:e[0]||(e[0]=(...a)=>o.putBackDraft&&o.putBackDraft(...a))},"Input draft!"),s("button",{style:{"background-color":"red"},onClick:e[1]||(e[1]=(...a)=>o.removeDraft&&o.removeDraft(...a))}," Remove draft! ")])):p("",!0),s("div",_i,[vi,s("form",yi,[s("div",Ii,[ki,g(s("input",{type:"text",class:"form-control",id:"recipeName",placeholder:"Tomatoes and Cheese Pasta","onUpdate:modelValue":e[2]||(e[2]=a=>r.recipe.title=a),required:""},null,512),[[b,r.recipe.title]])]),s("div",bi,[wi,g(s("input",{type:"checkbox",name:"drink",id:"drink","onUpdate:modelValue":e[3]||(e[3]=a=>r.recipe.drink=a)},null,512),[[z,r.recipe.drink]])]),s("div",xi,[Ri,g(s("textarea",{class:"form-control",id:"recipeDescription",rows:"3","onUpdate:modelValue":e[4]||(e[4]=a=>r.recipe.description=a),placeholder:"A simple recipe for a tasty pasta dish with tomatoes and cheese."},null,512),[[b,r.recipe.description]])]),s("div",Li,[Ci,s("div",$i,[s("div",Si,[Ti,Bi,s("input",{type:"text",placeholder:"Tomatoes",name:"name",onChange:e[5]||(e[5]=(...a)=>o.fixIngredients&&o.fixIngredients(...a)),required:""},null,32),Ei])]),s("button",{type:"button",onClick:e[6]||(e[6]=(...a)=>o.addIngredient&&o.addIngredient(...a))}," Add Ingredient "),r.moreThanOneIngredient?(d(),c("button",{key:0,type:"button",onClick:e[7]||(e[7]=(...a)=>o.removeIngredient&&o.removeIngredient(...a))}," Remove Ingredient ")):p("",!0)]),s("div",Ai,[Ni,g(s("input",{type:"number",class:"form-control",id:"recipeServings",placeholder:"4","onUpdate:modelValue":e[8]||(e[8]=a=>r.recipe.servings=a),onChange:e[9]||(e[9]=(...a)=>o.checkServings&&o.checkServings(...a))},null,544),[[b,r.recipe.servings]])]),s("div",Vi,[Mi,s("div",Oi,[s("div",Ui,[qi,Pi,s("input",{type:"text",placeholder:"1. Preheat oven to 350 degrees.",name:"text",onChange:e[10]||(e[10]=(...a)=>o.fixInstructions&&o.fixInstructions(...a)),required:"",style:{width:"90%"}},null,32)])]),s("button",{type:"button",onClick:e[11]||(e[11]=(...a)=>o.addInstruction&&o.addInstruction(...a))}," Add Instruction "),r.moreThanOneInstruction?(d(),c("button",{key:0,type:"button",onClick:e[12]||(e[12]=(...a)=>o.removeInstruction&&o.removeInstruction(...a))}," Remove Instruction ")):p("",!0)]),s("div",Di,[zi,g(s("input",{type:"text",class:"form-control",id:"recipeImage",placeholder:"www.example.com/recipe.html","onUpdate:modelValue":e[13]||(e[13]=a=>r.recipe.link=a)},null,512),[[b,r.recipe.link]])]),s("div",Fi,[Gi,g(s("input",{type:"text",class:"form-control",id:"recipeImage",placeholder:"www.google.com(images/recipe.jpg)","onUpdate:modelValue":e[14]||(e[14]=a=>r.recipe.imgLink=a)},null,512),[[b,r.recipe.imgLink]])]),s("button",{onClick:e[15]||(e[15]=M((...a)=>o.post&&o.post(...a),["prevent"])),type:"submit"},"Submit")])])])}var Hi=y(hi,[["render",ji],["__scopeId","data-v-3e8bcdcc"]]);const Wi={name:"edit-recipe",data(){return{moreThanOneIngredient:!1,moreThanOneInstruction:!1}},methods:{addIngredient(){let t=document.getElementsByClassName("editIngredients")[0].cloneNode(!0);for(let e=0;e<t.length;e++)t.querySelector("input").value="";document.getElementsByClassName("editIngredients")[0].parentNode.appendChild(t),this.moreThanOneIngredient=!0},removeIngredient(){let t=document.getElementsByClassName("editIngredients");t.length>1&&t[t.length-1].remove(),t.length==1&&(this.moreThanOneIngredient=!1)},addInstruction(){let t=document.getElementById("instructionsList"),e=t.children[t.children.length-1];t.insertBefore(e.cloneNode(!0),e);let i=e.getElementsByTagName("input");for(let n=0;n<i.length;n++)i[n].value="";this.moreThanOneInstruction=!0},removeInstruction(){let t=document.getElementsByClassName("editInstructions");t.length>1&&t[t.length-1].remove(),t.length==1&&(this.moreThanOneInstruction=!1)},editFirebase(){if(!this.$store.state.admin)return;let t=_.database();var e=_.database().ref("recipes"),i=[];e.on("value",h=>{h.forEach(x=>{i.push(x.key)})});let n=t.ref("recipes/"+i[this.$route.params.id]),r=document.getElementById("title").value,o=document.getElementById("drink").checked,a=document.getElementById("description").value,u=[],l=document.getElementsByClassName("editIngredients");for(let h=0;h<l.length;h++){let x={amount:l[h].querySelectorAll("input")[0].value,measurment:l[h].querySelectorAll("input")[1].value,name:l[h].querySelectorAll("input")[2].value,section:l[h].querySelectorAll("input")[3].value};u.push(x)}let E=[],A=document.getElementsByClassName("editInstructions");for(let h=0;h<A.length;h++){let x={checked:A[h].querySelectorAll("input")[0].value,id:A[h].querySelectorAll("input")[1].value,text:A[h].querySelectorAll("input")[2].value};x.checked=="true"&&(x.checked=!0),x.checked=="false"&&(x.checked=!1),E.push(x)}let j=document.getElementById("servings").value,H=document.getElementById("link").value,W=document.getElementById("imgLink").value,U=this.$route.params.id;U=parseInt(U);let K={title:r,drink:o,description:a,ingredients:u,instructions:E,servings:j,link:H,imgLink:W,recipeId:U};n.update(K),alert("Recipe updated!"),this.$router.push("/recipe/"+this.$route.params.id)},putRecipeDetailsInInputs(){document.getElementById("title").value=this.currentRecipe.title,document.getElementById("description").value=this.currentRecipe.description,document.getElementById("imgLink").value=this.currentRecipe.imgLink,this.currentRecipe.drink&&(document.getElementById("drink").checked=!0);let t=this.currentRecipe.ingredients;t.length>1&&(this.moreThanOneIngredient=!0);for(let i=0;i<t.length;i++){let n=t[i],r=n.amount,o=n.measurment,a=n.name,u=n.section,l=document.createElement("div");l.classList.add("editIngredients"),l.innerHTML=`
					<input type="text" name="amount" class="amount" value="${r}">
					<input type="text" name="measurment" class="measurment" value="${o}">
					<input type="text" name="name" class="name" value="${a}">
          <input type="text" name="section" class="section" value="${u}">
				`,document.getElementById("ingredientsList").appendChild(l)}let e=this.currentRecipe.instructions;e.length>1&&(this.moreThanOneInstruction=!0);for(let i=0;i<e.length;i++){let n=e[i],r=n.checked,o=n.id,a=n.text,u=document.createElement("div");u.classList.add("editInstructions"),u.innerHTML=`
					<input type="text" name="checked" class="checked" value="${r}">
					<input type="number" name="id" class="id" value="${o}">
					<input type="text" name="text" class="text" value="${a}">
				`,document.getElementById("instructionsList").appendChild(u)}document.getElementById("servings").value=this.currentRecipe.servings,document.getElementById("link").value=this.currentRecipe.link}},mounted(){this.putRecipeDetailsInInputs()},computed:{currentRecipe(){return this.$store.state.recipesList[this.$route.params.id]}}},Ki={action:"",id:"container"},Yi=V('<input type="text" name="title" id="title" placeholder="title"><label for="drink">drink? :</label><input type="checkbox" name="drink" id="drink"><input type="text" name="description" id="description" placeholder="description"><input type="text" name="imgLink" id="imgLink" placeholder="imgLink"><div id="labels"><label for="amount" style="flex:0.25;">Quantity:</label><label for="ingredientUnit" style="flex:0.25;">Unit:</label><label for="ingredientName" style="flex:0.65;">Ingredient Name:</label><label for="ingredientSection" style="flex:0.25;">Section:</label></div><div id="ingredientsList"></div>',7),Ji={id:"ingredientsButtons"},Qi=V('<div id="labels"><label for="checked" style="flex:0.25;">Checked:</label><label for="id" style="flex:0.25;">Id:</label><label for="name" style="flex:0.8;">Instruction:</label></div><div id="instructionsList"></div>',2),Xi={id:"instructionsButtons"},Zi=s("input",{type:"text",name:"servings",id:"servings",placeholder:"servings"},null,-1),es=s("input",{type:"text",name:"link",id:"link",placeholder:"link"},null,-1);function ts(t,e,i,n,r,o){return d(),c("div",null,[s("form",Ki,[Yi,s("div",Ji,[s("button",{type:"button",onClick:e[0]||(e[0]=(...a)=>o.addIngredient&&o.addIngredient(...a))},"Add Ingredient"),r.moreThanOneIngredient?(d(),c("button",{key:0,type:"button",onClick:e[1]||(e[1]=(...a)=>o.removeIngredient&&o.removeIngredient(...a))}," Remove Ingredient ")):p("",!0)]),Qi,s("div",Xi,[s("button",{type:"button",onClick:e[2]||(e[2]=(...a)=>o.addInstruction&&o.addInstruction(...a))}," Add Instruction "),r.moreThanOneInstruction?(d(),c("button",{key:0,type:"button",onClick:e[3]||(e[3]=(...a)=>o.removeInstruction&&o.removeInstruction(...a))}," Remove Instruction ")):p("",!0)]),Zi,es,s("button",{onClick:e[4]||(e[4]=M((...a)=>o.editFirebase&&o.editFirebase(...a),["prevent"])),type:"submit",id:"updateRecipeBtn"}," Update ")])])}var is=y(Wi,[["render",ts]]);const ss={name:"loginPage",data(){return{email:"",password:""}},methods:{login(){this.$store.dispatch("login",{email:this.email,password:this.password}).then(()=>{this.$router.push("/")})},loginWithGoogle(){this.$store.dispatch("loginWithGoogle").then(()=>{this.$router.push("/")})}}},F=t=>(S("data-v-4208a6fe"),t=t(),T(),t),ns={id:"login"},rs=F(()=>s("h2",null,"Login",-1)),os=F(()=>s("button",{type:"submit"},"Login",-1));function as(t,e,i,n,r,o){return d(),c("div",null,[s("div",ns,[s("form",{onSubmit:e[2]||(e[2]=M((...a)=>o.login&&o.login(...a),["prevent"]))},[rs,g(s("input",{type:"email",placeholder:"Email address...","onUpdate:modelValue":e[0]||(e[0]=a=>r.email=a)},null,512),[[b,r.email]]),g(s("input",{type:"password",placeholder:"password...","onUpdate:modelValue":e[1]||(e[1]=a=>r.password=a)},null,512),[[b,r.password]]),os],32),s("button",{onClick:e[3]||(e[3]=(...a)=>o.loginWithGoogle&&o.loginWithGoogle(...a))},"Sign In with Google")])])}var ls=y(ss,[["render",as],["__scopeId","data-v-4208a6fe"]]);const ds={name:"RegisterPage",data(){return{email:"",password:""}},methods:{register(){this.$store.dispatch("register",{email:this.email,password:this.password}).then(()=>{this.$router.push("/")})}}},G=t=>(S("data-v-8377a67a"),t=t(),T(),t),cs={id:"register"},us=G(()=>s("h2",null,"Register",-1)),ps=G(()=>s("button",{type:"submit"},"Register",-1));function ms(t,e,i,n,r,o){return d(),c("div",null,[s("div",cs,[s("form",{onSubmit:e[2]||(e[2]=M((...a)=>o.register&&o.register(...a),["prevent"]))},[us,g(s("input",{type:"email",placeholder:"Email address...","onUpdate:modelValue":e[0]||(e[0]=a=>r.email=a)},null,512),[[b,r.email]]),g(s("input",{type:"password",placeholder:"password...","onUpdate:modelValue":e[1]||(e[1]=a=>r.password=a)},null,512),[[b,r.password]]),ps],32)])])}var hs=y(ds,[["render",ms],["__scopeId","data-v-8377a67a"]]);const gs={apiKey:"AIzaSyDqfqIZoRXgkZJadMG5km-YZa3O1x344uA",authDomain:"foodlist-0921.firebaseapp.com",databaseURL:"https://foodlist-0921-default-rtdb.europe-west1.firebasedatabase.app",projectId:"foodlist-0921",storageBucket:"foodlist-0921.appspot.com",messagingSenderId:"652727898134",appId:"1:652727898134:web:bbdf18c26aa6696fe12537"};_.initializeApp(gs);const f=ee({state:{recipesList:[],recipesReady:!1,currentUser:null,authIsReady:!1,selectedRecipe:null,admin:!1},mutations:{setRecipesList(t,e){t.recipesList=e},addToRecipesList(t,e){t.recipesList.push(e)},removeFromRecipesList(t,e){t.recipesList.splice(e,1)},changeRecipeList(t,e){t.recipesList[e.index]=e.recipe},setRecipesReady(t,e){t.recipesReady=e},setSelectedRecipe(t,e){t.selectedRecipe=e},setCurrentUser(t,e){t.currentUser=e},setAuthIsReady(t,e){t.authIsReady=e},setAdmin(t,e){t.admin=e}},actions:{async fetchRecipesList(t){let e=_.database().ref("recipes");e.on("child_added",i=>{t.commit("addToRecipesList",i.val()),t.commit("setRecipesReady",!0)}),e.on("child_removed",i=>{let n=f.state.recipesList.findIndex(r=>r.recipeId===i.val().recipeId);t.commit("removeFromRecipesList",n)}),e.on("child_changed",i=>{let n=f.state.recipesList.findIndex(r=>r.recipeId===i.val().recipeId);t.commit("changeRecipeList",{index:n,recipe:i.val()})})},async login(t,e){let i=await _.auth().signInWithEmailAndPassword(e.email,e.password);if(i)t.commit("setCurrentUser",i);else throw new Error("Login failed")},async loginWithGoogle(t){let e=new _.auth.GoogleAuthProvider,i=await _.auth().signInWithPopup(e);if(i)t.commit("setCurrentUser",i);else throw new Error("Login with Google failed")},async checkAdmin(t){f.state.currentUser&&(f.state.currentUser.email=="jacob.klaren@me.com"||f.state.currentUser.email=="klarenjacob00@gmail.com")&&t.commit("setAdmin",!0)},async register(t,e){let i=await _.auth().createUserWithEmailAndPassword(e.email,e.password);if(i)t.commit("setCurrentUser",i);else throw new Error("Register failed")},async logout(t){await _.auth().signOut(),t.commit("setCurrentUser",null)}},getters:{}});_.auth().onAuthStateChanged(t=>{f.commit("setAuthIsReady",!0),f.commit("setCurrentUser",t),f.dispatch("checkAdmin")});f.dispatch("fetchRecipesList");const fs=[{path:"/",name:"recipeList",component:D,meta:{title:"RecipeList"}},{path:"/recipe/:id",name:"recipe",component:mi,meta:{title:"Recipe"}},{path:"/add",name:"addRecipe",component:Hi,meta:{title:"Add recipe",authRequired:!0}},{path:"/Login",name:"Login",component:ls,meta:{title:"Login",guestRequired:!0}},{path:"/Register",name:"Register",component:hs,meta:{title:"Register",guestRequired:!0}},{path:"/edit/:id",name:"editRecipe",component:is,meta:{title:"Edit recipe",authRequired:!0}},{path:"/:catchAll(.*)",name:"NotFound",component:D,meta:{title:"RecipeList"}}],N=te({history:ie(),routes:fs});function _s(){return new Promise(t=>{if(f.state.authIsReady)t();else{const e=f.watch(i=>i.authIsReady,i=>{i&&(e(),t())})}})}N.beforeEach((t,e,i)=>{t.matched.some(n=>n.meta.authRequired)?_s().then(()=>{f.state.currentUser?i():(alert("You must be logged in to see this page"),i({path:"/Login"}))}):i()});N.beforeEach((t,e,i)=>{t.matched.some(n=>n.meta.guestRequired)&&f.state.currentUser||i()});N.beforeEach((t,e,i)=>{e.matched.some(n=>n.meta.title==="RecipeList")&&(localStorage.setItem("scrollLength",window.pageYOffset||(document.documentElement||document.body.parentNode||document.body).scrollTop),console.log("Scrolled to: "+localStorage.getItem("scrollLength"))),i()});N.beforeEach((t,e,i)=>{t.matched.some(n=>n.meta.title!=="RecipeList")&&window.scrollTo(0,0),i()});N.beforeEach((t,e,i)=>{const n=t.matched.slice().reverse().find(a=>a.meta&&a.meta.title),r=t.matched.slice().reverse().find(a=>a.meta&&a.meta.metaTags),o=e.matched.slice().reverse().find(a=>a.meta&&a.meta.metaTags);if(n?document.title=n.meta.title:o&&(document.title=o.meta.title),Array.from(document.querySelectorAll("[data-vue-router-controlled]")).map(a=>a.parentNode.removeChild(a)),!r)return i();r.meta.metaTags.map(a=>{const u=document.createElement("meta");return Object.keys(a).forEach(l=>{u.setAttribute(l,a[l])}),u.setAttribute("data-vue-router-controlled",""),u}).forEach(a=>document.head.appendChild(a)),i()});se(ve).use(N).use(f).mount("#app");
